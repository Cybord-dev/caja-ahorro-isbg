(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"3k/E":function(e,i,t){"use strict";t.d(i,"a",(function(){return o}));class o{constructor(){this.validaciones=[],this.atributos=[]}}},uwdg:function(e,i,t){"use strict";t.d(i,"a",(function(){return A}));var o=t("mrSG"),r=t("s7LF"),a=t("KZhB"),s=t("8Y7J"),n=t("iInd"),b=t("ESM5"),c=t("SVse"),u=t("ienR");function l(e,i){if(1&e&&(s.Pb(0,"p"),s.uc(1),s.Ob()),2&e){const e=i.$implicit;s.xb(1),s.vc(e)}}function d(e,i){if(1&e&&(s.Pb(0,"div",42),s.tc(1,l,2,1,"p",43),s.Ob()),2&e){const e=s.Yb();s.xb(1),s.ec("ngForOf",e.errorMessages)}}function f(e,i){if(1&e&&(s.Pb(0,"p",44),s.uc(1),s.Ob()),2&e){const e=s.Yb();s.xb(1),s.vc(e.Params.success)}}function g(e,i){1&e&&(s.Pb(0,"div"),s.uc(1,"El correo es requerido."),s.Ob())}function m(e,i){1&e&&(s.Pb(0,"div"),s.uc(1,"La direccion introducida no es valida. "),s.Ob())}function h(e,i){1&e&&(s.Pb(0,"div"),s.uc(1,"Hay caracteres invalidos."),s.Ob())}function p(e,i){if(1&e&&(s.Pb(0,"div",45),s.tc(1,g,2,0,"div",46),s.tc(2,m,2,0,"div",46),s.tc(3,h,2,0,"div",46),s.Ob()),2&e){const e=s.Yb();s.xb(1),s.ec("ngIf",e.f.email.errors.required),s.xb(1),s.ec("ngIf",e.f.email.errors.email),s.xb(1),s.ec("ngIf",e.f.email.errors.pattern)}}function O(e,i){1&e&&(s.Pb(0,"div"),s.uc(1,"El alias es requerido."),s.Ob())}function v(e,i){1&e&&(s.Pb(0,"div"),s.uc(1,"Nececitas un minimo de 2 caracteres. "),s.Ob())}function P(e,i){1&e&&(s.Pb(0,"div"),s.uc(1,"No mas de 20 caracteres."),s.Ob())}function M(e,i){1&e&&(s.Pb(0,"div"),s.uc(1,"Hay caracteres invalidos."),s.Ob())}function x(e,i){if(1&e&&(s.Pb(0,"div",45),s.tc(1,O,2,0,"div",46),s.tc(2,v,2,0,"div",46),s.tc(3,P,2,0,"div",46),s.tc(4,M,2,0,"div",46),s.Ob()),2&e){const e=s.Yb();s.xb(1),s.ec("ngIf",e.f.alias.errors.required),s.xb(1),s.ec("ngIf",e.f.alias.errors.minlength),s.xb(1),s.ec("ngIf",e.f.alias.errors.maxlength),s.xb(1),s.ec("ngIf",e.f.alias.errors.pattern)}}function I(e,i){if(1&e){const e=s.Qb();s.Pb(0,"button",47),s.Wb("click",(function(){return s.nc(e),s.Yb().registry()})),s.uc(1," Registrar"),s.Ob()}if(2&e){const e=s.Yb();s.ec("disabled",""!==e.Params.success)}}function C(e,i){if(1&e){const e=s.Qb();s.Pb(0,"button",47),s.Wb("click",(function(){return s.nc(e),s.Yb().update()})),s.uc(1," Actualizar"),s.Ob()}if(2&e){const e=s.Yb();s.ec("disabled",1==e.actualizando)}}const q=function(e){return{"is-invalid":e}};let A=(()=>{class e{constructor(e,i,t,o){this.route=e,this.usuarioServicio=i,this.formBuilder=t,this.router=o,this.submitted=!1,this.loading=!0,this.usuario=new a.a,this.errorMessages=[],this.Params={success:"",message:"",id:"*",module:"usuarios"},this.date=new Date,this.datos={ANTIGUEDAD:this.date,SUELDO:0,NO_EMPLEADO:0,OFICINA:"*"}}ngOnInit(){this.loading=!0,this.errorMessages=[],this.Params.module=this.router.url.split("/")[1],this.route.paramMap.subscribe(e=>{const i=e.get("idUsuario");"*"!==i?(this.updateUserInfo(+i),this.registerForm=this.formBuilder.group({email:[{value:this.usuario.email,disabled:!0}],alias:["",[r.q.required,r.q.maxLength(20),r.q.minLength(2),r.q.pattern("^([0-9a-zA-Z\xc0-\xfa.,&-_!\xa1\" ' ]+)$")]],activo:["Si",r.q.required],tipo:[this.usuario.tipoUsuario]})):(this.date=new Date,this.registerForm=this.formBuilder.group({email:[{value:this.usuario.email,disabled:!1},[r.q.required,r.q.email,r.q.pattern("^[a-z0-9A-Z._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],alias:["",[r.q.required,r.q.maxLength(20),r.q.minLength(2),r.q.pattern("^([0-9a-zA-Z\xc0-\xfa.,&-_!\xa1\"' ]+)$")]],activo:["Si",r.q.required],tipo:[this.usuario.tipoUsuario]}),this.loading=!1)})}get f(){return this.registerForm.controls}update(){return Object(o.a)(this,void 0,void 0,(function*(){this.submitted=!0,this.loading=!0,this.registerForm.invalid&&(this.loading=!1)}))}registry(){this.submitted=!0,this.registerForm.invalid?this.loading=!1:(this.errorMessages=[],this.usuarioServicio.insertarUsuario(this.usuario).subscribe(e=>{this.Params.success="El usuario ha sido creado satisfactoriamente.";for(const i in this.datos);},e=>this.errorMessages.push(e.error.message||`${e.statusText} : ${e.message}`)))}clearInput(){this.usuario=new a.a,this.Params.success="",this.errorMessages=[],this.submitted=!1}updateUserInfo(e){this.errorMessages=[],this.usuarioServicio.getUsuario(e).subscribe(e=>{this.usuario=e;for(const i in this.usuario.datosUsuario)for(const e in this.datos);this.datos.ANTIGUEDAD&&(this.date=new Date(this.datos.ANTIGUEDAD))},e=>this.errorMessages.push(e.error.message||`${e.statusText} : ${e.message}`))}}return e.\u0275fac=function(i){return new(i||e)(s.Jb(n.a),s.Jb(b.a),s.Jb(r.c),s.Jb(n.c))},e.\u0275cmp=s.Db({type:e,selectors:[["cybord-usuario"]],decls:78,vars:21,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],["class","alert alert-warning","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"row","slide_1"],[1,"col-6"],[1,"col",3,"formGroup"],[1,"col"],["for","inputCorreo",1,"label"],["type","text","formControlName","email","placeholder","Correo Electronico",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],["for","inputtipo",1,"label"],["type","text","formControlName","tipo","placeholder","tipo usuario",1,"form-control",3,"ngModel","ngModelChange"],["for","inputActivo",1,"label"],["id","inputActivo","formControlName","activo","fullWidth","",1,"form-control",2,"display","block",3,"ngModel","ngModelChange"],["value","true"],["value","false"],["for","inputAlias",1,"label"],["type","text","formControlName","alias","placeholder","Sobrenombre o alias",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["action","","method","post","enctype","multipart/form-data",1,"form-horizontal"],["for","start-date",1,"label"],[1,""],["id","start-date","type","text","bsDatepicker","",1,"form-control",3,"bsValue"],["dp","bsDatepicker"],["for","quantity",1,"label"],["type","number","id","quantity","name","text-inputafg","min","1","placeholder","1.00",1,"form-control",3,"ngModel","ngModelChange"],["for","no-emp",1,"label"],["type","number","id","no-emp","name","text-inputa","placeholder","No empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","office",1,"label"],["id","office","name","office",1,"form-control",3,"ngModel","ngModelChange"],["value","*"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"card-footer"],[1,"float-right","slide_2"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success"],[1,"invalid-feedback"],[4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(e,i){1&e&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"div",3),s.Pb(4,"div",4),s.Pb(5,"strong"),s.uc(6,"Usuarios"),s.Ob(),s.Ob(),s.Pb(7,"div",5),s.tc(8,d,2,1,"div",6),s.tc(9,f,2,1,"p",7),s.Pb(10,"div",8),s.Pb(11,"div",9),s.Pb(12,"form",10),s.Pb(13,"div",1),s.Pb(14,"div",11),s.Pb(15,"label",12),s.uc(16,"Email"),s.Ob(),s.Pb(17,"input",13),s.Wb("ngModelChange",(function(e){return i.usuario.email=e})),s.Ob(),s.tc(18,p,4,3,"div",14),s.Ob(),s.Pb(19,"div",11),s.Pb(20,"label",15),s.uc(21,"Tipo Usuario"),s.Ob(),s.Pb(22,"input",16),s.Wb("ngModelChange",(function(e){return i.usuario.tipoUsuario=e})),s.Ob(),s.Ob(),s.Ob(),s.Kb(23,"br"),s.Pb(24,"div",1),s.Pb(25,"div",11),s.Pb(26,"label",17),s.uc(27,"Activo"),s.Ob(),s.Pb(28,"select",18),s.Wb("ngModelChange",(function(e){return i.usuario.activo=e})),s.Pb(29,"option",19),s.uc(30,"Si"),s.Ob(),s.Pb(31,"option",20),s.uc(32,"No"),s.Ob(),s.Ob(),s.Ob(),s.Pb(33,"div",11),s.Pb(34,"label",21),s.uc(35,"Nombre"),s.Ob(),s.Pb(36,"input",22),s.Wb("ngModelChange",(function(e){return i.usuario.nombre=e})),s.Ob(),s.tc(37,x,5,4,"div",14),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(38,"div",9),s.Pb(39,"form",23),s.Pb(40,"div",1),s.Pb(41,"div",11),s.Pb(42,"label",24),s.uc(43,"Fecha Antiguedad"),s.Ob(),s.Pb(44,"div",25),s.Kb(45,"input",26,27),s.Ob(),s.Ob(),s.Pb(47,"div",11),s.Pb(48,"label",28),s.uc(49,"Sueldo"),s.Ob(),s.Pb(50,"div",25),s.Pb(51,"input",29),s.Wb("ngModelChange",(function(e){return i.datos.SUELDO=e})),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Kb(52,"br"),s.Pb(53,"div",1),s.Pb(54,"div",11),s.Pb(55,"label",30),s.uc(56,"No. empleado"),s.Ob(),s.Pb(57,"div",25),s.Pb(58,"input",31),s.Wb("ngModelChange",(function(e){return i.datos.NO_EMPLEADO=e})),s.Ob(),s.Ob(),s.Ob(),s.Pb(59,"div",11),s.Pb(60,"label",32),s.uc(61,"Oficina"),s.Ob(),s.Pb(62,"div",25),s.Pb(63,"select",33),s.Wb("ngModelChange",(function(e){return i.datos.OFICINA=e})),s.Pb(64,"option",34),s.uc(65,"Seleccionar"),s.Ob(),s.Pb(66,"option",35),s.uc(67,"Oficina #1"),s.Ob(),s.Pb(68,"option",36),s.uc(69,"Oficina #2"),s.Ob(),s.Pb(70,"option",37),s.uc(71,"Oficina #3"),s.Ob(),s.Pb(72,"option",38),s.uc(73,"Oficina #4"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(74,"div",39),s.Pb(75,"div",40),s.tc(76,I,2,1,"button",41),s.tc(77,C,2,1,"button",41),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&e&&(s.xb(8),s.ec("ngIf",i.errorMessages.length>0),s.xb(1),s.ec("ngIf",i.Params.success.length>0),s.xb(3),s.ec("formGroup",i.registerForm),s.xb(5),s.ec("ngClass",s.hc(17,q,i.submitted&&i.f.email.errors))("ngModel",i.usuario.email),s.xb(1),s.ec("ngIf",i.submitted&&i.f.email.errors),s.xb(4),s.ec("ngModel",i.usuario.tipoUsuario),s.xb(6),s.ec("ngModel",i.usuario.activo),s.xb(8),s.ec("ngClass",s.hc(19,q,i.submitted&&i.f.alias.errors))("ngModel",i.usuario.nombre),s.xb(1),s.ec("ngIf",i.submitted&&i.f.alias.errors),s.xb(8),s.ec("bsValue",i.date),s.xb(6),s.ec("ngModel",i.datos.SUELDO),s.xb(7),s.ec("ngModel",i.datos.NO_EMPLEADO),s.xb(5),s.ec("ngModel",i.datos.OFICINA),s.xb(13),s.ec("ngIf",void 0===i.usuario.id),s.xb(1),s.ec("ngIf",void 0!==i.usuario.id))},directives:[c.m,r.s,r.j,r.e,r.b,r.i,r.d,c.k,r.p,r.m,r.r,r.k,u.b,u.a,r.n,r.l,c.l],styles:[""]}),e})()}}]);