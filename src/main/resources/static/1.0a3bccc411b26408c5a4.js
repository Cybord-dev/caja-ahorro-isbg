(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+vBq":function(i,t,e){"use strict";e.d(t,"a",(function(){return Z}));var o=e("3k/E"),a=e("KZhB");class n{constructor(i,t,e,o,a,n){this.idUsuario=i,this.idSolicitud=t,this.area=e,this.email=o,this.status=a||!1,this.statusDesc=n}}var c=e("8Y7J"),b=e("ESM5"),r=e("xKGb"),s=e("iZAx"),l=e("iInd"),d=e("SVse"),u=e("s7LF"),f=e("LqlI"),g=e("CNMR");const p=["modalConfirmacion"];function h(i,t){1&i&&(c.Pb(0,"strong",51),c.vc(1,"Aprobaciones ahorro"),c.Ob())}function O(i,t){1&i&&(c.Pb(0,"strong",51),c.vc(1,"Confirmacion de retiros ahorro"),c.Ob())}function m(i,t){1&i&&(c.Pb(0,"span",52),c.vc(1,"SOLICITUD AHORRO"),c.Ob())}function v(i,t){1&i&&(c.Pb(0,"span",53),c.vc(1,"CANCELACION AHORRO"),c.Ob())}function P(i,t){1&i&&(c.Pb(0,"span",54),c.vc(1,"RETIRO PARCIAL"),c.Ob())}function I(i,t){1&i&&(c.Pb(0,"span",55),c.vc(1,"MODIFICACION AHORRO"),c.Ob())}function C(i,t){if(1&i&&(c.Pb(0,"div"),c.Pb(1,"alert",56),c.vc(2),c.Ob(),c.Ob()),2&i){const i=t.$implicit;c.xb(1),c.ec("dismissible",!0),c.xb(1),c.wc(i)}}function x(i,t){if(1&i&&(c.Pb(0,"p"),c.Pb(1,"strong"),c.vc(2),c.Ob(),c.Ob()),2&i){const i=c.Yb();c.xb(2),c.xc("Solicitud No. ",i.solicitud.id,"")}}function M(i,t){if(1&i){const i=c.Qb();c.Pb(0,"div",16),c.Pb(1,"label",57),c.vc(2,"Cuenta CLABE deposito"),c.Ob(),c.Pb(3,"div",18),c.Pb(4,"input",58),c.Wb("ngModelChange",(function(t){return c.oc(i),c.Yb().solicitud.atributos.NO_CUENTA=t})),c.Ob(),c.Ob(),c.Ob()}if(2&i){const i=c.Yb();c.xb(4),c.ec("ngModel",i.solicitud.atributos.NO_CUENTA)}}function y(i,t){if(1&i){const i=c.Qb();c.Pb(0,"div",16),c.Pb(1,"label",59),c.vc(2,"Motivo de cancelacion"),c.Ob(),c.Pb(3,"div",18),c.Pb(4,"textarea",60),c.Wb("ngModelChange",(function(t){return c.oc(i),c.Yb().solicitud.atributos.RAZON_CANCELACION=t})),c.vc(5,"                  "),c.Ob(),c.Ob(),c.Ob()}if(2&i){const i=c.Yb();c.xb(4),c.ec("ngModel",i.solicitud.atributos.RAZON_CANCELACION)}}function A(i,t){1&i&&c.Kb(0,"i",64)}function w(i,t){if(1&i){const i=c.Qb();c.Pb(0,"button",61),c.Wb("click",(function(){return c.oc(i),c.Yb().openModal(!0)})),c.Kb(1,"i",62),c.vc(2,"\xa0 Aprobar solicitud "),c.uc(3,A,1,0,"i",63),c.Ob()}if(2&i){const i=c.Yb();c.ec("hidden","historico"===i.submodule)("disabled",i.validated||i.loading),c.xb(3),c.ec("ngIf",i.loading)}}function S(i,t){1&i&&c.Kb(0,"i",64)}function E(i,t){if(1&i){const i=c.Qb();c.Pb(0,"button",65),c.Wb("click",(function(){return c.oc(i),c.Yb().openModal(!1)})),c.Kb(1,"i",62),c.vc(2,"\xa0 Rechazar solicitud "),c.uc(3,S,1,0,"i",63),c.Ob()}if(2&i){const i=c.Yb();c.ec("hidden","historico"===i.submodule)("disabled",i.validated||i.loading),c.xb(3),c.ec("ngIf",i.loading)}}function R(i,t){1&i&&c.Kb(0,"i",64)}function T(i,t){if(1&i){const i=c.Qb();c.Pb(0,"button",61),c.Wb("click",(function(){return c.oc(i),c.Yb().openModal(!0)})),c.Kb(1,"i",62),c.vc(2,"\xa0 Confirmar retiro ahorro "),c.uc(3,R,1,0,"i",63),c.Ob()}if(2&i){const i=c.Yb();c.ec("hidden","historico"===i.submodule)("disabled",i.validated||i.loading),c.xb(3),c.ec("ngIf",i.loading)}}function k(i,t){1&i&&c.Kb(0,"i",64)}function N(i,t){if(1&i){const i=c.Qb();c.Pb(0,"button",65),c.Wb("click",(function(){return c.oc(i),c.Yb().openModal(!1)})),c.Kb(1,"i",62),c.vc(2,"\xa0 Rechazar retiro "),c.uc(3,k,1,0,"i",63),c.Ob()}if(2&i){const i=c.Yb();c.ec("hidden","historico"===i.submodule)("disabled",i.validated||i.loading),c.xb(3),c.ec("ngIf",i.loading)}}function D(i,t){if(1&i&&(c.Pb(0,"p",66),c.vc(1),c.Ob()),2&i){const i=c.Yb();c.xb(1),c.wc(i.success)}}function z(i,t){1&i&&(c.Pb(0,"span",74),c.vc(1,"APROBADA"),c.Ob())}function W(i,t){1&i&&(c.Pb(0,"span",75),c.vc(1,"RECHAZADO"),c.Ob())}function Y(i,t){if(1&i&&(c.Pb(0,"tr"),c.Pb(1,"td",71),c.vc(2),c.Zb(3,"date"),c.Ob(),c.Pb(4,"td",71),c.vc(5),c.Ob(),c.Pb(6,"td",71),c.vc(7),c.Ob(),c.Pb(8,"td",71),c.uc(9,z,2,0,"span",72),c.uc(10,W,2,0,"span",73),c.Ob(),c.Pb(11,"td",71),c.vc(12),c.Ob(),c.Ob()),2&i){const i=t.$implicit;c.xb(2),c.wc(c.bc(3,6,i.fechaCreacion,"dd/MM/yyyy")),c.xb(3),c.wc(i.area),c.xb(2),c.wc(i.email),c.xb(2),c.ec("ngIf",i.status),c.xb(1),c.ec("ngIf",!i.status),c.xb(2),c.wc(i.statusDetalle)}}function U(i,t){if(1&i&&(c.Pb(0,"div",1),c.Kb(1,"div",67),c.Pb(2,"div",68),c.Pb(3,"strong"),c.vc(4,"Autorizaciones"),c.Ob(),c.Kb(5,"br"),c.Kb(6,"br"),c.Pb(7,"table",69),c.Pb(8,"thead",70),c.Pb(9,"tr"),c.Pb(10,"th"),c.vc(11,"FECHA"),c.Ob(),c.Pb(12,"th"),c.vc(13,"AREA"),c.Ob(),c.Pb(14,"th"),c.vc(15,"VALIDADOR"),c.Ob(),c.Pb(16,"th"),c.vc(17,"ESTATUS"),c.Ob(),c.Pb(18,"th"),c.vc(19,"OBSERVACIONES"),c.Ob(),c.Ob(),c.Ob(),c.Pb(20,"tbody"),c.uc(21,Y,13,9,"tr",12),c.Ob(),c.Ob(),c.Ob(),c.Kb(22,"div",67),c.Ob()),2&i){const i=c.Yb();c.xb(21),c.ec("ngForOf",i.solicitud.validaciones)}}function V(i,t){1&i&&(c.Pb(0,"strong"),c.vc(1,"aprobar\xe1"),c.Ob())}function F(i,t){1&i&&(c.Pb(0,"strong"),c.vc(1,"rechazara"),c.Ob())}function L(i,t){1&i&&(c.Pb(0,"strong"),c.vc(1,"APROBAR"),c.Ob())}function K(i,t){1&i&&(c.Pb(0,"strong"),c.vc(1,"RECHAZAR"),c.Ob())}function H(i,t){if(1&i){const i=c.Qb();c.Pb(0,"div",16),c.Pb(1,"label",76),c.vc(2,"Raz\xf3n, motivo de rechazo"),c.Ob(),c.Pb(3,"div",44),c.Pb(4,"textarea",77),c.Wb("ngModelChange",(function(t){return c.oc(i),c.Yb().razonRechazo=t})),c.vc(5,"                  "),c.Ob(),c.Pb(6,"small",46),c.vc(7,"Especifica la razon o motivo de rechazo."),c.Ob(),c.Ob(),c.Ob()}if(2&i){const i=c.Yb();c.xb(4),c.ec("ngModel",i.razonRechazo)}}const $=function(i,t){return{"btn-primary":i,"btn-secondary":t}};function Q(i,t){if(1&i){const i=c.Qb();c.Pb(0,"button",78),c.Wb("click",(function(){return c.oc(i),c.Yb().aprobarSolicitud()})),c.vc(1,"Aprobar"),c.Ob()}if(2&i){const i=c.Yb();c.ec("ngClass",c.ic(2,$,i.noEmpleado===i.validador.noEmpleado,i.noEmpleado!==i.validador.noEmpleado))("disabled",i.noEmpleado!==i.validador.noEmpleado)}}const J=function(i,t){return{"btn-danger":i,"btn-secondary":t}};function q(i,t){if(1&i){const i=c.Qb();c.Pb(0,"button",79),c.Wb("click",(function(){return c.oc(i),c.Yb().rechazarSolicitud()})),c.vc(1,"Rechazar"),c.Ob()}if(2&i){const i=c.Yb();c.ec("disabled",i.razonRechazo.length<10||i.noEmpleado!==i.validador.noEmpleado)("ngClass",c.ic(2,J,i.noEmpleado===i.validador.noEmpleado&&i.razonRechazo.length>=10,i.noEmpleado!==i.validador.noEmpleado||i.razonRechazo.length<10))}}const B=function(i,t){return{"modal-info":i,"modal-danger":t}},X=function(){return{standalone:!0}};let Z=(()=>{class i{constructor(i,t,e,n,c){this.userService=i,this.solicitudService=t,this.validacionService=e,this.route=n,this.router=c,this.module="usuarios",this.validador=new a.a,this.aprobacion=!1,this.razonRechazo="",this.solicitud=new o.a,this.usuario=new a.a,this.loading=!1,this.alerts=[],this.success="",this.validated=!1,this.noEmpleado=""}ngOnInit(){this.module=this.router.url.split("/")[1],this.submodule=this.router.url.split("/")[2],this.userService.myInfo().toPromise().then(i=>this.validador=i).catch(i=>this.alerts.push(i)),this.solicitud=new o.a,this.route.paramMap.subscribe(i=>{const t=i.get("idSolicitud");this.solicitudService.getSolicitudesById(+t).toPromise().then(i=>{this.solicitud=i,this.userService.getUsuario(i.idUsuario).toPromise().then(i=>this.usuario=i)}).catch(i=>this.alerts.push(i))})}openModal(i){this.aprobacion=i,this.modalConfirmacion.show()}cancelar(){this.aprobacion=!1,this.modalConfirmacion.hide()}aprobarSolicitud(){this.loading=!0,this.modalConfirmacion.hide();const i=new n(this.solicitud.idUsuario,this.solicitud.id,this.module,this.validador.email,!0);this.validacionService.postValidacion(this.solicitud.idUsuario,this.solicitud.id,i).toPromise().then(i=>{this.success="Solicitud validada correctamente.",this.validated=!0,this.loading=!1,this.router.navigate([`../${this.module}/validaciones`])}).catch(i=>{this.alerts.push(i),this.loading=!1})}rechazarSolicitud(){this.loading=!0,this.modalConfirmacion.hide();const i=new n(this.solicitud.idUsuario,this.solicitud.id,this.module,this.validador.email,!1,this.razonRechazo);this.validacionService.postValidacion(this.solicitud.idUsuario,this.solicitud.id,i).toPromise().then(i=>{this.success="Solicitud rechazada correctamente.",this.validated=!0,this.loading=!1,this.router.navigate([`../${this.module}/validaciones`])}).catch(i=>{this.alerts.push(i),this.loading=!1})}}return i.\u0275fac=function(t){return new(t||i)(c.Jb(b.a),c.Jb(r.a),c.Jb(s.a),c.Jb(l.a),c.Jb(l.c))},i.\u0275cmp=c.Db({type:i,selectors:[["cybord-validacion-solicitud"]],viewQuery:function(i,t){var e;1&i&&c.Ac(p,!0),2&i&&c.lc(e=c.Xb())&&(t.modalConfirmacion=e.first)},decls:118,vars:42,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"clearfix"],["class","float-left",4,"ngIf"],["class","badge badge-success float-right",4,"ngIf"],["class","badge badge-danger float-right",4,"ngIf"],["class","badge badge-primary float-right",4,"ngIf"],["class","badge badge-warning float-right",4,"ngIf"],[1,"card-body"],[4,"ngFor","ngForOf"],[1,"col-xs-12","col-sm-12","col-md-6","form-group"],[4,"ngIf"],[1,"form-horizontal"],[1,"form-group","row"],[1,"col-md-3","col-form-label"],[1,"col-md-9"],[1,"form-control-static"],["for","no-emp",1,"col-md-3","col-form-label"],["type","number","id","no-emp","name","text-input","disabled","","placeholder","No empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","office",1,"col-md-3","col-form-label"],["type","text","id","oficina","name","oficina","disabled","","placeholder","Oficina empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","quantity",1,"col-md-3","col-form-label"],["type","text","id","quantity","name","quantity","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["for","start-date",1,"col-md-3","col-form-label"],["type","text","id","festart-datecha","name","fecha","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group row",4,"ngIf"],[1,"help-block"],["type","button","class","btn btn-sm btn-success",3,"hidden","disabled","click",4,"ngIf"],["type","button","class","btn btn-sm btn-danger",3,"hidden","disabled","click",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["class","row",4,"ngIf"],["bsModal","","id","modalConfirmacion","tabindex","-1","role","dialog","aria-labelledby","modalConfirmacion","aria-hidden","true",1,"modal","fade",3,"ngClass"],["modalConfirmacion","bs-modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalConfirmacionLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["for","inputPassword",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","password","id","inputPassword",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["id","noEmpHelp",1,"form-text","text-muted"],[1,"modal-footer"],["type","button","class","btn",3,"ngClass","disabled","click",4,"ngIf"],["type","button","class","btn",3,"disabled","ngClass","click",4,"ngIf"],["type","button",1,"btn","btn-warning",3,"click"],[1,"float-left"],[1,"badge","badge-success","float-right"],[1,"badge","badge-danger","float-right"],[1,"badge","badge-primary","float-right"],[1,"badge","badge-warning","float-right"],["type","danger",3,"dismissible"],["for","account",1,"col-md-3","col-form-label"],["type","text","id","account","name","account","disabled","","placeholder","0000 0000 0000 0000",1,"form-control",3,"ngModel","ngModelChange"],["for","textarea-input",1,"col-md-3","col-form-label"],["id","textarea-input","name","textarea-input","rows","9","disabled","","placeholder","Raz\xf3n o motivo de cancelaci\xf3n del ahorro",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-sm","btn-success",3,"hidden","disabled","click"],[1,"fa","fa-dot-circle-o"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"],["type","button",1,"btn","btn-sm","btn-danger",3,"hidden","disabled","click"],["role","alert",1,"alert","alert-success"],[1,"col"],[1,"col-6"],[1,"table","table-bordered","table-striped","table-sm"],[1,"thead-dark"],["scope","row"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-danger"],["for","textarea-input",1,"col-sm-2","col-form-label"],["id","textarea-input","name","textarea-input","rows","5","placeholder","Raz\xf3n o motivo de cancelaci\xf3n del ahorro",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn",3,"ngClass","disabled","click"],["type","button",1,"btn",3,"disabled","ngClass","click"]],template:function(i,t){1&i&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.Pb(3,"div",3),c.Pb(4,"div",4),c.Pb(5,"div",5),c.uc(6,h,2,0,"strong",6),c.uc(7,O,2,0,"strong",6),c.uc(8,m,2,0,"span",7),c.uc(9,v,2,0,"span",8),c.uc(10,P,2,0,"span",9),c.uc(11,I,2,0,"span",10),c.Ob(),c.Ob(),c.Pb(12,"div",11),c.uc(13,C,3,2,"div",12),c.Kb(14,"br"),c.Pb(15,"div",1),c.Pb(16,"div",13),c.uc(17,x,3,1,"p",14),c.Pb(18,"form",15),c.Pb(19,"div",16),c.Pb(20,"label",17),c.vc(21,"Nombre"),c.Ob(),c.Pb(22,"div",18),c.Pb(23,"p",19),c.Pb(24,"strong"),c.vc(25),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(26,"div",16),c.Pb(27,"label",17),c.vc(28,"Tipo usuario"),c.Ob(),c.Pb(29,"div",18),c.Pb(30,"p",19),c.Pb(31,"strong"),c.vc(32),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(33,"div",16),c.Pb(34,"label",20),c.vc(35,"No. empleado"),c.Ob(),c.Pb(36,"div",18),c.Pb(37,"input",21),c.Wb("ngModelChange",(function(i){return t.usuario.noEmpleado=i})),c.Ob(),c.Ob(),c.Ob(),c.Pb(38,"div",16),c.Pb(39,"label",22),c.vc(40,"Oficina"),c.Ob(),c.Pb(41,"div",18),c.Pb(42,"input",23),c.Wb("ngModelChange",(function(i){return t.usuario.datosUsuario.OFICINA=i})),c.Ob(),c.Ob(),c.Ob(),c.Pb(43,"div",16),c.Pb(44,"label",24),c.vc(45,"Descuento quincenal"),c.Ob(),c.Pb(46,"div",18),c.Pb(47,"input",25),c.Wb("ngModelChange",(function(i){return t.solicitud.atributos.MONTO=i})),c.Ob(),c.Ob(),c.Ob(),c.Pb(48,"div",16),c.Pb(49,"label",26),c.vc(50,"Feche de ejecucion solicitud"),c.Ob(),c.Pb(51,"div",18),c.Pb(52,"input",27),c.Wb("ngModelChange",(function(i){return t.solicitud.atributos.FECHA=i})),c.Ob(),c.Ob(),c.Ob(),c.uc(53,M,5,1,"div",28),c.uc(54,y,6,1,"div",28),c.Ob(),c.Ob(),c.Pb(55,"div",13),c.Pb(56,"span",29),c.Pb(57,"strong"),c.vc(58),c.Ob(),c.vc(59," con n\xfamero de trabajador "),c.Pb(60,"strong"),c.vc(61),c.Ob(),c.vc(62," adscrito a la Oficina "),c.Pb(63,"strong"),c.vc(64),c.Ob(),c.vc(65," autoriza que por este medio se descuente de mi pago de n\xf3mina, la cantidad de "),c.Pb(66,"strong"),c.vc(67),c.Ob(),c.vc(68,"de manera quincenal a partir de la siguiente fecha "),c.Pb(69,"strong"),c.vc(70),c.Ob(),c.vc(71,", durante el per\xedodo correspondiente, autorizo que la cantidad retenida sea depositada en la cuenta del PROGRAMA DE AHORRO VOLUNTARIO. Estoy de acuerdo que la cantidad ahorrada y los intereses que se hubiesen generado me sean entregados al t\xe9rmino del per\xedodo. "),c.Ob(),c.Kb(72,"br"),c.Kb(73,"br"),c.uc(74,w,4,3,"button",30),c.uc(75,E,4,3,"button",31),c.uc(76,T,4,3,"button",30),c.uc(77,N,4,3,"button",31),c.Ob(),c.Ob(),c.Kb(78,"br"),c.uc(79,D,2,1,"p",32),c.Kb(80,"br"),c.uc(81,U,23,1,"div",33),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(82,"div",34,35),c.Pb(84,"div",36),c.Pb(85,"div",37),c.Pb(86,"div",38),c.Pb(87,"h5",39),c.vc(88,"Confirmacion"),c.Ob(),c.Pb(89,"button",40),c.Wb("click",(function(){return t.cancelar()})),c.Pb(90,"span",41),c.vc(91,"\xd7"),c.Ob(),c.Ob(),c.Ob(),c.Pb(92,"div",42),c.Pb(93,"p"),c.Pb(94,"strong"),c.vc(95),c.Ob(),c.uc(96,V,2,0,"strong",14),c.uc(97,F,2,0,"strong",14),c.vc(98," la solicitud de ahorro."),c.Ob(),c.Pb(99,"p"),c.vc(100,"Al "),c.uc(101,L,2,0,"strong",14),c.uc(102,K,2,0,"strong",14),c.vc(103," esta solicitud el sistema registra la persona y el momento en que realiza la transacci\xf3n."),c.Ob(),c.Pb(104,"form"),c.uc(105,H,8,1,"div",28),c.Pb(106,"div",16),c.Pb(107,"label",43),c.vc(108,"No empleado"),c.Ob(),c.Pb(109,"div",44),c.Pb(110,"input",45),c.Wb("ngModelChange",(function(i){return t.noEmpleado=i})),c.Ob(),c.Pb(111,"small",46),c.vc(112,"Ingresa tu numero de empleado para desbloquear."),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(113,"div",47),c.uc(114,Q,2,5,"button",48),c.uc(115,q,2,5,"button",49),c.Pb(116,"button",50),c.Wb("click",(function(){return t.cancelar()})),c.vc(117,"Salir"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&i&&(c.xb(6),c.ec("ngIf","tesoreria"!==t.module),c.xb(1),c.ec("ngIf","tesoreria"===t.module),c.xb(1),c.ec("ngIf","SolicitudAhorro"===t.solicitud.tipo),c.xb(1),c.ec("ngIf","CancelacionAhorro"===t.solicitud.tipo),c.xb(1),c.ec("ngIf","RetiroParcialAhorro"===t.solicitud.tipo),c.xb(1),c.ec("ngIf","ModificacionAhorro"===t.solicitud.tipo),c.xb(2),c.ec("ngForOf",t.alerts),c.xb(4),c.ec("ngIf",void 0!==t.solicitud.id),c.xb(8),c.wc(t.usuario.nombre),c.xb(7),c.wc(t.usuario.tipoUsuario),c.xb(5),c.ec("ngModel",t.usuario.noEmpleado),c.xb(5),c.ec("ngModel",t.usuario.datosUsuario.OFICINA),c.xb(5),c.ec("ngModel",t.solicitud.atributos.MONTO),c.xb(5),c.ec("ngModel",t.solicitud.atributos.FECHA),c.xb(1),c.ec("ngIf",null!=t.solicitud.atributos.NO_CUENTA),c.xb(1),c.ec("ngIf",null!=t.solicitud.atributos.RAZON_CANCELACION),c.xb(4),c.wc(t.usuario.nombre),c.xb(3),c.wc(t.usuario.noEmpleado),c.xb(3),c.wc(t.usuario.datosUsuario.OFICINA),c.xb(3),c.xc("",t.solicitud.atributos.MONTO," $ "),c.xb(3),c.wc(t.solicitud.atributos.FECHA),c.xb(4),c.ec("ngIf","tesoreria"!==t.module),c.xb(1),c.ec("ngIf","tesoreria"!==t.module),c.xb(1),c.ec("ngIf","tesoreria"===t.module),c.xb(1),c.ec("ngIf","tesoreria"===t.module),c.xb(2),c.ec("ngIf",t.success.length>0),c.xb(2),c.ec("ngIf",void 0!==t.solicitud&&t.solicitud.validaciones.length>0),c.xb(1),c.ec("ngClass",c.ic(38,B,t.aprobacion,!t.aprobacion)),c.xb(13),c.wc(t.validador.nombre),c.xb(1),c.ec("ngIf",t.aprobacion),c.xb(1),c.ec("ngIf",!t.aprobacion),c.xb(4),c.ec("ngIf",t.aprobacion),c.xb(1),c.ec("ngIf",!t.aprobacion),c.xb(3),c.ec("ngIf",!t.aprobacion),c.xb(5),c.ec("ngModel",t.noEmpleado)("ngModelOptions",c.gc(41,X)),c.xb(4),c.ec("ngIf",t.aprobacion),c.xb(1),c.ec("ngIf",!t.aprobacion))},directives:[d.m,d.l,u.t,u.j,u.k,u.n,u.b,u.i,u.l,f.a,d.k,g.a],pipes:[d.f],styles:[""]}),i})()},"2IH+":function(i,t,e){"use strict";e.d(t,"a",(function(){return S}));var o=e("EwKM"),a=e("8Y7J"),n=e("iInd"),c=e("SVse"),b=e("q+li"),r=e("iZAx"),s=e("s7LF"),l=e("ienR");function d(i,t){1&i&&(a.Pb(0,"div",42),a.vc(1," No se encontraron resultados "),a.Ob())}function u(i,t){1&i&&(a.Pb(0,"option",52),a.vc(1,"20"),a.Ob())}function f(i,t){1&i&&(a.Pb(0,"option",53),a.vc(1,"50"),a.Ob())}function g(i,t){if(1&i){const i=a.Qb();a.Pb(0,"select",48),a.Wb("ngModelChange",(function(t){return a.oc(i),a.Yb(2).filterParams.size=t}))("change",(function(t){return a.oc(i),a.Yb(2).onChangePageSize(t.target.value)})),a.Pb(1,"option",49),a.vc(2,"10"),a.Ob(),a.uc(3,u,2,0,"option",50),a.uc(4,f,2,0,"option",51),a.Ob()}if(2&i){const i=a.Yb(2);a.ec("ngModel",i.filterParams.size),a.xb(3),a.ec("ngIf",i.page.number<i.page.totalElements/20),a.xb(1),a.ec("ngIf",i.page.number<i.page.totalElements/50)}}function p(i,t){if(1&i){const i=a.Qb();a.Pb(0,"div",43),a.Pb(1,"button",44),a.Wb("click",(function(){return a.oc(i),a.Yb().downloadXLSFile()})),a.Kb(2,"i",45),a.Ob(),a.uc(3,g,5,3,"select",46),a.Pb(4,"strong",47),a.vc(5," Tama\xf1o Pagina \xa0\xa0\xa0\xa0"),a.Ob(),a.Ob()}if(2&i){const i=a.Yb();a.xb(3),a.ec("ngIf",0==i.page.last||1==i.page.first)}}function h(i,t){1&i&&(a.Pb(0,"span",67),a.vc(1,"SOLICITUD AHORRO"),a.Ob())}function O(i,t){1&i&&(a.Pb(0,"span",68),a.vc(1,"CANCELACION AHORRO"),a.Ob())}function m(i,t){1&i&&(a.Pb(0,"span",69),a.vc(1,"RETIRO PARCIAL"),a.Ob())}function v(i,t){1&i&&(a.Pb(0,"span",70),a.vc(1,"MODIFICACION AHORRO"),a.Ob())}function P(i,t){if(1&i){const i=a.Qb();a.Pb(0,"tr"),a.Pb(1,"td",59),a.Pb(2,"button",60),a.Wb("click",(function(){a.oc(i);const e=t.$implicit;return a.Yb(2).redirectToValidation(e.id)})),a.Kb(3,"i",61),a.Ob(),a.Ob(),a.Pb(4,"td",62),a.vc(5),a.Ob(),a.Pb(6,"td",62),a.vc(7),a.Ob(),a.Pb(8,"td",62),a.vc(9),a.Ob(),a.Pb(10,"td",62),a.vc(11),a.Ob(),a.Pb(12,"td",62),a.vc(13),a.Ob(),a.Pb(14,"td",62),a.vc(15),a.Ob(),a.Pb(16,"td",59),a.uc(17,h,2,0,"span",63),a.uc(18,O,2,0,"span",64),a.uc(19,m,2,0,"span",65),a.uc(20,v,2,0,"span",66),a.Ob(),a.Pb(21,"td",62),a.vc(22),a.Ob(),a.Ob()}if(2&i){const i=t.$implicit;a.xb(5),a.wc(i.id),a.xb(2),a.wc(i.noEmpleado),a.xb(2),a.wc(i.nombre),a.xb(2),a.wc(i.fechaCreacion),a.xb(2),a.wc(i.fechaEjecucion),a.xb(2),a.wc(i.tipoUsuario),a.xb(2),a.ec("ngIf","SolicitudAhorro"===i.tipo),a.xb(1),a.ec("ngIf","CancelacionAhorro"===i.tipo),a.xb(1),a.ec("ngIf","RetiroParcialAhorro"===i.tipo),a.xb(1),a.ec("ngIf","ModificacionAhorro"===i.tipo),a.xb(2),a.wc(i.status)}}function I(i,t){if(1&i){const i=a.Qb();a.Pb(0,"li",76),a.Pb(1,"button",77),a.Wb("click",(function(){a.oc(i);const t=a.Yb(4);return t.updateDataTable(0,t.page.size)})),a.Kb(2,"i",78),a.Ob(),a.Ob()}}function C(i,t){if(1&i){const i=a.Qb();a.Pb(0,"li",76),a.Pb(1,"button",77),a.Wb("click",(function(){a.oc(i);const t=a.Yb(4);return t.updateDataTable(t.page.number-1,t.page.size)})),a.vc(2),a.Ob(),a.Ob()}if(2&i){const i=a.Yb(4);a.xb(2),a.wc(i.page.number)}}function x(i,t){if(1&i){const i=a.Qb();a.Pb(0,"li",76),a.Pb(1,"button",77),a.Wb("click",(function(){a.oc(i);const t=a.Yb(4);return t.updateDataTable(t.page.number+1,t.page.size)})),a.vc(2),a.Ob(),a.Ob()}if(2&i){const i=a.Yb(4);a.xb(2),a.wc(i.page.number+2)}}function M(i,t){if(1&i){const i=a.Qb();a.Pb(0,"li",76),a.Pb(1,"button",77),a.Wb("click",(function(){a.oc(i);const t=a.Yb(4);return t.updateDataTable(t.page.totalPages-1,t.page.size)})),a.Kb(2,"i",79),a.Ob(),a.Ob()}}function y(i,t){if(1&i&&(a.Pb(0,"ul",72),a.uc(1,I,3,0,"li",73),a.uc(2,C,3,1,"li",73),a.Pb(3,"li",74),a.Pb(4,"a",75),a.Pb(5,"strong"),a.vc(6),a.Ob(),a.Ob(),a.Ob(),a.uc(7,x,3,1,"li",73),a.uc(8,M,3,0,"li",73),a.Ob()),2&i){const i=a.Yb(3);a.xb(1),a.ec("ngIf",0==i.page.first),a.xb(1),a.ec("ngIf",0==i.page.first),a.xb(4),a.wc(i.page.number+1),a.xb(1),a.ec("ngIf",0==i.page.last),a.xb(1),a.ec("ngIf",0==i.page.last)}}function A(i,t){if(1&i&&(a.Pb(0,"div",43),a.uc(1,y,9,5,"ul",71),a.Ob()),2&i){const i=a.Yb(2);a.xb(1),a.ec("ngIf",i.page.totalElements>1)}}function w(i,t){if(1&i&&(a.Pb(0,"div",54),a.Pb(1,"table",55),a.Pb(2,"thead",56),a.Pb(3,"tr"),a.Pb(4,"th",57),a.vc(5,"ACCIONES"),a.Ob(),a.Pb(6,"th",57),a.vc(7,"ID SOLICITUD"),a.Ob(),a.Pb(8,"th",57),a.vc(9,"NO EMPLEADO"),a.Ob(),a.Pb(10,"th",57),a.vc(11,"SOLICITANTE"),a.Ob(),a.Pb(12,"th",57),a.vc(13,"FECHA SOLICITUD"),a.Ob(),a.Pb(14,"th",57),a.vc(15,"FECHA EJECUCION"),a.Ob(),a.Pb(16,"th",57),a.vc(17,"TIPO USUARIO"),a.Ob(),a.Pb(18,"th",57),a.vc(19,"TIPO VALIDACION"),a.Ob(),a.Pb(20,"th",57),a.vc(21,"ESTATUS"),a.Ob(),a.Ob(),a.Ob(),a.Pb(22,"tbody"),a.uc(23,P,23,11,"tr",58),a.Ob(),a.Ob(),a.uc(24,A,2,1,"div",40),a.Ob()),2&i){const i=a.Yb();a.xb(23),a.ec("ngForOf",i.page.content),a.xb(1),a.ec("ngIf",0==i.page.empty)}}let S=(()=>{class i{constructor(i,t,e,a){this.router=i,this.datepipe=t,this.downloadService=e,this.validacionService=a,this.module="usuarios",this.page=new o.a,this.pageSize="10",this.filterParams={idSolicitud:"",nombre:"",noEmpleado:"",tipoUsuario:"*",tipoSolicitud:"*",since:"",to:"",fechaEjecucion:"",estatus:"*",area:"",aprobada:"",page:"0",size:"10"},this.loading=!1,this.arrayfechas=[]}ngOnInit(){this.module=this.router.url.split("/")[1],this.filterParams.area=this.module,this.updateDataTable(0,10)}updateDataTable(i,t){null==this.fechaCreacion?(this.filterParams.since="",this.filterParams.to=""):(this.fechaCreacion[1].setDate(this.fechaCreacion[1].getDate()+1),this.filterParams.since=this.datepipe.transform(this.fechaCreacion[0],"yyyy-MM-dd"),this.filterParams.to=this.datepipe.transform(this.fechaCreacion[1],"yyyy-MM-dd")),this.filterParams.page=i.toString()||"0",this.filterParams.size=t.toString()||"10",this.validacionService.getValidaciones(this.filterParams).subscribe(i=>this.page=i)}onChangePageSize(i){this.updateDataTable(this.page.number,i)}redirectToValidation(i){this.router.navigate([`./${this.module}/historico/${i}`])}downloadXLSFile(){null==this.fechaCreacion?(this.filterParams.since="",this.filterParams.to=""):(this.fechaCreacion[1].setDate(this.fechaCreacion[1].getDate()+1),this.filterParams.since=this.datepipe.transform(this.fechaCreacion[0],"yyyy-MM-dd"),this.filterParams.to=this.datepipe.transform(this.fechaCreacion[1],"yyyy-MM-dd")),this.filterParams.page="0",this.filterParams.size="100000",this.validacionService.getReporteValidaciones(this.filterParams).subscribe(i=>{this.downloadService.downloadFile(i.dato,`HistoricoValidaciones-${this.datepipe.transform(Date.now(),"yyyy-MM-dd")}.xls`,"application/vnd.ms-excel")})}}return i.\u0275fac=function(t){return new(t||i)(a.Jb(n.c),a.Jb(c.f),a.Jb(b.a),a.Jb(r.a))},i.\u0275cmp=a.Db({type:i,selectors:[["cybord-historico-solicitudes"]],decls:94,vars:10,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row","slide_1"],[1,"col-md-3"],["for","idsol",1,"label"],["type","text","nbInput","","fullWidth","","id","idsol","placeholder","Id Sol.",1,"form-control",3,"ngModel","ngModelChange"],["for","nombreusuario",1,"label"],["type","text","nbInput","","fullWidth","","id","nombreusuario","placeholder","Nombre",1,"form-control",3,"ngModel","ngModelChange"],["for","noempleado",1,"label"],["type","text","nbInput","","fullWidth","","id","noempleado","placeholder","No. Empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","fechacre",1,"label"],[1,"form-group"],["type","text","placeholder","Fecha de creaci\xf3n","bsDaterangepicker","",1,"form-control",3,"ngModel","ngModelChange"],["for","tipoUsuario",1,"label"],["id","inputTipoUsuario","fullWidth","",1,"form-control",2,"display","block",3,"ngModel","ngModelChange"],["value","*"],["value","INTERNO"],["value","EXTERNO"],["for","inputTipo",1,"label"],["id","inputTipo","fullWidth","",1,"form-control",2,"display","block",3,"ngModel","ngModelChange"],["value","SolicitudAhorro"],["value","CancelacionAhorro"],["value","ModificacionAhorro"],["value","RetiroParcialAhorro"],["for","tipoValidacion",1,"label"],["id","tipoValidacion","fullWidth","",1,"form-control",2,"display","block",3,"ngModel","ngModelChange"],["value","Finalizada"],["value","Rechazada"],["value","ValidacionRH"],["value","ValidacionTeso"],["value","ValdiacionConta"],["value","ValidacionGerencia"],["value","ValidaAdmin"],[1,"btn","btn-primary",3,"click"],[1,"col"],["class","alert alert-primary","role","alert",4,"ngIf"],["class","clearfix",4,"ngIf"],["class","table-responsive",4,"ngIf"],["role","alert",1,"alert","alert-primary"],[1,"clearfix"],[1,"btn-sm","btn-success","float-right",3,"click"],[1,"fa","fa-file-excel-o","fa-sm"],["id","inputunidad","style","display:block;width: 95px; margin-right: 15px;","class","float-right form-control form-control-sm",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"float-right"],["id","inputunidad",1,"float-right","form-control","form-control-sm",2,"display","block","width","95px","margin-right","15px",3,"ngModel","ngModelChange","change"],["value","10"],["value","20",4,"ngIf"],["value","50",4,"ngIf"],["value","20"],["value","50"],[1,"table-responsive"],[1,"table","table-bordered","table-sm"],[1,"thead-dark"],[1,"text-center"],[4,"ngFor","ngForOf"],["scope","row",1,"text-center"],[1,"btn-sm","btn-outline-primary",3,"click"],[1,"fa","fa-search","fa-sm"],["scope","row"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-primary",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[1,"badge","badge-primary"],[1,"badge","badge-warning"],["class","pagination float-right",4,"ngIf"],[1,"pagination","float-right"],["class","page-item",4,"ngIf"],[1,"page-item","active"],[1,"page-link"],[1,"page-item"],[1,"btn","page-link",3,"click"],[1,"icon-control-rewind","icons"],[1,"icon-control-forward","icons"]],template:function(i,t){1&i&&(a.Pb(0,"div",0),a.Pb(1,"div",1),a.Pb(2,"div",2),a.Pb(3,"div",3),a.Pb(4,"div",4),a.Pb(5,"strong"),a.vc(6,"Validaciones"),a.Ob(),a.Ob(),a.Pb(7,"div",5),a.Pb(8,"div",6),a.Pb(9,"div",7),a.Pb(10,"label",8),a.vc(11,"Id Solicitud"),a.Ob(),a.Pb(12,"input",9),a.Wb("ngModelChange",(function(i){return t.filterParams.idSolicitud=i})),a.Ob(),a.Ob(),a.Pb(13,"div",7),a.Pb(14,"label",10),a.vc(15,"Nombre"),a.Ob(),a.Pb(16,"input",11),a.Wb("ngModelChange",(function(i){return t.filterParams.nombre=i})),a.Ob(),a.Ob(),a.Pb(17,"div",7),a.Pb(18,"label",12),a.vc(19,"No. Empleado"),a.Ob(),a.Pb(20,"input",13),a.Wb("ngModelChange",(function(i){return t.filterParams.noEmpleado=i})),a.Ob(),a.Ob(),a.Pb(21,"div",7),a.Pb(22,"label",14),a.vc(23,"Fecha Creaci\xf3n"),a.Ob(),a.Pb(24,"div",15),a.Pb(25,"input",16),a.Wb("ngModelChange",(function(i){return t.fechaCreacion=i})),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Kb(26,"br"),a.Pb(27,"div",6),a.Pb(28,"div",7),a.Pb(29,"label",17),a.vc(30,"Tipo de Usuario"),a.Ob(),a.Pb(31,"div"),a.Pb(32,"select",18),a.Wb("ngModelChange",(function(i){return t.filterParams.tipoUsuario=i})),a.Pb(33,"option",19),a.vc(34,"TODOS"),a.Ob(),a.Pb(35,"option",20),a.vc(36,"INTERNO"),a.Ob(),a.Pb(37,"option",21),a.vc(38,"EXTERNO"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(39,"div",7),a.Pb(40,"label",22),a.vc(41,"Tipo Validacion"),a.Ob(),a.Pb(42,"div"),a.Pb(43,"select",23),a.Wb("ngModelChange",(function(i){return t.filterParams.tipoSolicitud=i})),a.Pb(44,"option",19),a.vc(45,"TODAS"),a.Ob(),a.Pb(46,"option",24),a.vc(47,"Solicitud"),a.Ob(),a.Pb(48,"option",25),a.vc(49,"Cancelacion"),a.Ob(),a.Pb(50,"option",26),a.vc(51,"Modificacion"),a.Ob(),a.Pb(52,"option",27),a.vc(53,"Retiro Parcial"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(54,"div",7),a.Pb(55,"label",28),a.vc(56,"Estatus"),a.Ob(),a.Pb(57,"div"),a.Pb(58,"select",29),a.Wb("ngModelChange",(function(i){return t.filterParams.estatus=i})),a.Pb(59,"option",19),a.vc(60,"TODOS"),a.Ob(),a.Pb(61,"option",30),a.vc(62,"Finalizada"),a.Ob(),a.Pb(63,"option",31),a.vc(64,"Rechazada"),a.Ob(),a.Pb(65,"option",32),a.vc(66,"Validacion Recursos Humanos"),a.Ob(),a.Pb(67,"option",33),a.vc(68,"Validacion Tesoreria"),a.Ob(),a.Pb(69,"option",34),a.vc(70,"Validacion Contabilidad"),a.Ob(),a.Pb(71,"option",35),a.vc(72,"Validacion Gerencia"),a.Ob(),a.Pb(73,"option",36),a.vc(74,"Validacion Administracion"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(75,"div",7),a.Pb(76,"p"),a.vc(77,"\xa0\xa0\xa0\xa0"),a.Ob(),a.Pb(78,"button",37),a.Wb("click",(function(){return t.updateDataTable(0,10)})),a.vc(79,"BUSCAR"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(80,"div",1),a.Pb(81,"div",2),a.Pb(82,"div",3),a.Pb(83,"div",4),a.Pb(84,"strong"),a.vc(85,"Resultados"),a.Ob(),a.Ob(),a.Pb(86,"div",5),a.Pb(87,"div",1),a.Pb(88,"div",38),a.uc(89,d,2,0,"div",39),a.uc(90,p,6,1,"div",40),a.Ob(),a.Ob(),a.Pb(91,"div",1),a.Pb(92,"div",38),a.uc(93,w,25,2,"div",41),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&i&&(a.xb(12),a.ec("ngModel",t.filterParams.idSolicitud),a.xb(4),a.ec("ngModel",t.filterParams.nombre),a.xb(4),a.ec("ngModel",t.filterParams.noEmpleado),a.xb(5),a.ec("ngModel",t.fechaCreacion),a.xb(7),a.ec("ngModel",t.filterParams.tipoUsuario),a.xb(11),a.ec("ngModel",t.filterParams.tipoSolicitud),a.xb(15),a.ec("ngModel",t.filterParams.estatus),a.xb(31),a.ec("ngIf",!0===t.page.empty),a.xb(1),a.ec("ngIf",!1===t.page.empty),a.xb(3),a.ec("ngIf",0==t.page.empty))},directives:[s.b,s.i,s.l,l.e,l.d,s.q,s.m,s.s,c.m,c.l],styles:[""]}),i})()},"3k/E":function(i,t,e){"use strict";e.d(t,"a",(function(){return a}));class o{}class a{constructor(i){this.tipo=i,this.validaciones=[],this.atributos=new o}}},EwKM:function(i,t,e){"use strict";e.d(t,"a",(function(){return o}));class o{constructor(){this.totalElements=0,this.last=!1,this.totalPages=0,this.first=!0,this.numberOfElements=0,this.size=10,this.number=0,this.numberOfElements=0,this.empty=!0}}},iZAx:function(i,t,e){"use strict";e.d(t,"a",(function(){return n}));var o=e("IheW"),a=e("8Y7J");let n=(()=>{class i{constructor(i){this.http=i}getHttpParams(i){let t=new o.d;for(const e in i)if(void 0!==i[e]){const o=i[e].toString();null!==o&&o.length>0&&"*"!==o&&(t=t.append(e,o))}return t}getValidaciones(i){return this.http.get("../api/v1/validaciones",{params:this.getHttpParams(i)})}getReporteValidaciones(i){return this.http.get("../api/v1/validaciones/report",{params:this.getHttpParams(i)})}getValidacionesBySolicitud(i,t){return this.http.get(`../api/v1/usuarios/${i}/solicitudes/${t}/validaciones`)}getValidacionById(i,t,e){return this.http.get(`../api/v1/usuarios/${i}/solicitudes/${t}/validaciones/${e}`)}postValidacion(i,t,e){return this.http.post(`../api/v1/usuarios/${i}/solicitudes/${t}/validaciones`,e)}putValidacion(i,t){return this.http.put("../api/v1/validaciones/"+i,t)}deleteValidacion(i){return this.http.delete("../api/v1/validaciones/"+i)}}return i.\u0275fac=function(t){return new(t||i)(a.Tb(o.b))},i.\u0275prov=a.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},"q+li":function(i,t,e){"use strict";e.d(t,"a",(function(){return a}));var o=e("8Y7J");let a=(()=>{class i{constructor(){}downloadFile(i,t,e){if(console.log(`Downloading ${t} ...`),null==i||void 0===i||i.length<1)return console.error("Donwload service cant generate report from empty or null data."),void alert("No se encontro informaci\xf3n, imposible generar reporte.");{const o=window.atob(i),a=new ArrayBuffer(o.length),n=new Uint8Array(a);for(let i=0;i<o.length;i++)n[i]=o.charCodeAt(i);const c=new Blob([n],{type:e});if(navigator.msSaveBlob)navigator.msSaveBlob(c,t.replace(/ /g," "));else{const i=document.createElement("a");i.href=URL.createObjectURL(c),i.setAttribute("visibility","hidden"),i.download=t.replace(/ /g," "),document.body.appendChild(i),i.click(),document.body.removeChild(i)}}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=o.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},qNWX:function(i,t,e){"use strict";e.d(t,"a",(function(){return S}));var o=e("EwKM"),a=e("8Y7J"),n=e("iInd"),c=e("SVse"),b=e("q+li"),r=e("xKGb"),s=e("s7LF"),l=e("ienR");function d(i,t){1&i&&(a.Pb(0,"div",34),a.vc(1," No se encontraron resultados "),a.Ob())}function u(i,t){1&i&&(a.Pb(0,"option",44),a.vc(1,"20"),a.Ob())}function f(i,t){1&i&&(a.Pb(0,"option",45),a.vc(1,"50"),a.Ob())}function g(i,t){if(1&i){const i=a.Qb();a.Pb(0,"select",40),a.Wb("ngModelChange",(function(t){return a.oc(i),a.Yb(2).filterParams.size=t}))("change",(function(t){return a.oc(i),a.Yb(2).onChangePageSize(t.target.value)})),a.Pb(1,"option",41),a.vc(2,"10"),a.Ob(),a.uc(3,u,2,0,"option",42),a.uc(4,f,2,0,"option",43),a.Ob()}if(2&i){const i=a.Yb(2);a.ec("ngModel",i.filterParams.size),a.xb(3),a.ec("ngIf",i.page.number<i.page.totalElements/20),a.xb(1),a.ec("ngIf",i.page.number<i.page.totalElements/50)}}function p(i,t){if(1&i){const i=a.Qb();a.Pb(0,"div",35),a.Pb(1,"button",36),a.Wb("click",(function(){return a.oc(i),a.Yb().downloadXLSFile()})),a.Kb(2,"i",37),a.Ob(),a.uc(3,g,5,3,"select",38),a.Pb(4,"strong",39),a.vc(5," Tama\xf1o Pagina \xa0\xa0\xa0\xa0"),a.Ob(),a.Ob()}if(2&i){const i=a.Yb();a.xb(3),a.ec("ngIf",0==i.page.last||1==i.page.first)}}function h(i,t){1&i&&(a.Pb(0,"span",59),a.vc(1,"SOLICITUD AHORRO"),a.Ob())}function O(i,t){1&i&&(a.Pb(0,"span",60),a.vc(1,"CANCELACION AHORRO"),a.Ob())}function m(i,t){1&i&&(a.Pb(0,"span",61),a.vc(1,"RETIRO PARCIAL"),a.Ob())}function v(i,t){1&i&&(a.Pb(0,"span",62),a.vc(1,"MODIFICACION AHORRO"),a.Ob())}function P(i,t){if(1&i){const i=a.Qb();a.Pb(0,"tr"),a.Pb(1,"td",51),a.Pb(2,"button",52),a.Wb("click",(function(){a.oc(i);const e=t.$implicit;return a.Yb(2).redirectToValidation(e.id)})),a.Kb(3,"i",53),a.Ob(),a.Ob(),a.Pb(4,"td",54),a.vc(5),a.Ob(),a.Pb(6,"td",54),a.vc(7),a.Ob(),a.Pb(8,"td",54),a.vc(9),a.Ob(),a.Pb(10,"td",54),a.vc(11),a.Ob(),a.Pb(12,"td",54),a.vc(13),a.Ob(),a.Pb(14,"td",54),a.vc(15),a.Ob(),a.Pb(16,"td",51),a.uc(17,h,2,0,"span",55),a.uc(18,O,2,0,"span",56),a.uc(19,m,2,0,"span",57),a.uc(20,v,2,0,"span",58),a.Ob(),a.Pb(21,"td",54),a.vc(22),a.Ob(),a.Ob()}if(2&i){const i=t.$implicit;a.xb(5),a.wc(i.id),a.xb(2),a.wc(i.noEmpleado),a.xb(2),a.wc(i.nombre),a.xb(2),a.wc(i.fechaCreacion),a.xb(2),a.wc(i.fechaEjecucion),a.xb(2),a.wc(i.tipoUsuario),a.xb(2),a.ec("ngIf","SolicitudAhorro"===i.tipo),a.xb(1),a.ec("ngIf","CancelacionAhorro"===i.tipo),a.xb(1),a.ec("ngIf","RetiroParcialAhorro"===i.tipo),a.xb(1),a.ec("ngIf","ModificacionAhorro"===i.tipo),a.xb(2),a.wc(i.status)}}function I(i,t){if(1&i){const i=a.Qb();a.Pb(0,"li",68),a.Pb(1,"button",69),a.Wb("click",(function(){a.oc(i);const t=a.Yb(4);return t.updateDataTable(0,t.page.size)})),a.Kb(2,"i",70),a.Ob(),a.Ob()}}function C(i,t){if(1&i){const i=a.Qb();a.Pb(0,"li",68),a.Pb(1,"button",69),a.Wb("click",(function(){a.oc(i);const t=a.Yb(4);return t.updateDataTable(t.page.number-1,t.page.size)})),a.vc(2),a.Ob(),a.Ob()}if(2&i){const i=a.Yb(4);a.xb(2),a.wc(i.page.number)}}function x(i,t){if(1&i){const i=a.Qb();a.Pb(0,"li",68),a.Pb(1,"button",69),a.Wb("click",(function(){a.oc(i);const t=a.Yb(4);return t.updateDataTable(t.page.number+1,t.page.size)})),a.vc(2),a.Ob(),a.Ob()}if(2&i){const i=a.Yb(4);a.xb(2),a.wc(i.page.number+2)}}function M(i,t){if(1&i){const i=a.Qb();a.Pb(0,"li",68),a.Pb(1,"button",69),a.Wb("click",(function(){a.oc(i);const t=a.Yb(4);return t.updateDataTable(t.page.totalPages-1,t.page.size)})),a.Kb(2,"i",71),a.Ob(),a.Ob()}}function y(i,t){if(1&i&&(a.Pb(0,"ul",64),a.uc(1,I,3,0,"li",65),a.uc(2,C,3,1,"li",65),a.Pb(3,"li",66),a.Pb(4,"a",67),a.Pb(5,"strong"),a.vc(6),a.Ob(),a.Ob(),a.Ob(),a.uc(7,x,3,1,"li",65),a.uc(8,M,3,0,"li",65),a.Ob()),2&i){const i=a.Yb(3);a.xb(1),a.ec("ngIf",0==i.page.first),a.xb(1),a.ec("ngIf",0==i.page.first),a.xb(4),a.wc(i.page.number+1),a.xb(1),a.ec("ngIf",0==i.page.last),a.xb(1),a.ec("ngIf",0==i.page.last)}}function A(i,t){if(1&i&&(a.Pb(0,"div",35),a.uc(1,y,9,5,"ul",63),a.Ob()),2&i){const i=a.Yb(2);a.xb(1),a.ec("ngIf",i.page.totalElements>1)}}function w(i,t){if(1&i&&(a.Pb(0,"div",46),a.Pb(1,"table",47),a.Pb(2,"thead",48),a.Pb(3,"tr"),a.Pb(4,"th",49),a.vc(5,"ACCIONES"),a.Ob(),a.Pb(6,"th",49),a.vc(7,"ID SOLICITUD"),a.Ob(),a.Pb(8,"th",49),a.vc(9,"NO EMPLEADO"),a.Ob(),a.Pb(10,"th",49),a.vc(11,"SOLICITANTE"),a.Ob(),a.Pb(12,"th",49),a.vc(13,"FECHA SOLICITUD"),a.Ob(),a.Pb(14,"th",49),a.vc(15,"FECHA EJECUCION"),a.Ob(),a.Pb(16,"th",49),a.vc(17,"TIPO USUARIO"),a.Ob(),a.Pb(18,"th",49),a.vc(19,"TIPO VALIDACION"),a.Ob(),a.Pb(20,"th",49),a.vc(21,"ESTATUS"),a.Ob(),a.Ob(),a.Ob(),a.Pb(22,"tbody"),a.uc(23,P,23,11,"tr",50),a.Ob(),a.Ob(),a.uc(24,A,2,1,"div",32),a.Ob()),2&i){const i=a.Yb();a.xb(23),a.ec("ngForOf",i.page.content),a.xb(1),a.ec("ngIf",0==i.page.empty)}}let S=(()=>{class i{constructor(i,t,e,a){this.router=i,this.datepipe=t,this.downloadService=e,this.solicitudesService=a,this.module="usuarios",this.page=new o.a,this.pageSize="10",this.filterParams={fechaEjecucion:"",tipoSolicitud:"*",since:"",to:"",idSolicitud:"",estatus:"",nombre:"",noEmpleado:"",tipoUsuario:"*",page:"0",size:"10"},this.loading=!1}ngOnInit(){switch(this.module=this.router.url.split("/")[1],this.module){case"recursos-humanos":this.filterParams.estatus="ValidacionRH";break;case"tesoreria":this.filterParams.estatus="ValidacionTeso";break;case"contabilidad":this.filterParams.estatus="ValdiacionConta";break;case"gerencia":this.filterParams.estatus="ValidacionGerencia";break;case"administracion":this.filterParams.estatus="ValidaAdmin"}this.updateDataTable(0,10,this.filterParams)}updateDataTable(i,t,e){null==this.fechaCreacion?(this.filterParams.since="",this.filterParams.to=""):(this.fechaCreacion[1].setDate(this.fechaCreacion[1].getDate()+1),this.filterParams.since=this.datepipe.transform(this.fechaCreacion[0],"yyyy-MM-dd"),this.filterParams.to=this.datepipe.transform(this.fechaCreacion[1],"yyyy-MM-dd")),this.filterParams.page=i||0,this.filterParams.size=t||10,this.solicitudesService.getSolicitudes(this.filterParams).subscribe(i=>this.page=i)}onChangePageSize(i){this.updateDataTable(this.page.number,i)}redirectToValidation(i){this.router.navigate([`./${this.module}/validacion/${i}`])}downloadXLSFile(){null==this.fechaCreacion?(this.filterParams.since="",this.filterParams.to=""):(this.fechaCreacion[1].setDate(this.fechaCreacion[1].getDate()+1),this.filterParams.since=this.datepipe.transform(this.fechaCreacion[0],"yyyy-MM-dd"),this.filterParams.to=this.datepipe.transform(this.fechaCreacion[1],"yyyy-MM-dd")),this.filterParams.page="0",this.filterParams.size="10000",this.solicitudesService.getReporteSolicitudes(this.filterParams).subscribe(i=>{this.downloadService.downloadFile(i.dato,`ReporteSolicitudes-${this.datepipe.transform(Date.now(),"yyyy-MM-dd")}.xls`,"application/vnd.ms-excel")})}}return i.\u0275fac=function(t){return new(t||i)(a.Jb(n.c),a.Jb(c.f),a.Jb(b.a),a.Jb(r.a))},i.\u0275cmp=a.Db({type:i,selectors:[["cybord-reporte-solicitudes"]],decls:72,vars:9,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row","slide_1"],[1,"col-md-2"],["for","idsol",1,"label"],["type","text","nbInput","","fullWidth","","id","idsol","placeholder","Id Sol.",1,"form-control",3,"ngModel","ngModelChange"],["for","nombreusuario",1,"label"],["type","text","nbInput","","fullWidth","","id","nombreusuario","placeholder","Nombre",1,"form-control",3,"ngModel","ngModelChange"],["for","noempleado",1,"label"],["type","text","nbInput","","fullWidth","","id","noempleado","placeholder","No. Empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","tipoUsuario",1,"label"],["id","tipoUsuario","fullWidth","",1,"form-control",2,"display","block",3,"ngModel","ngModelChange"],["value","*"],["value","INTERNO"],["value","EXTERNO"],["for","inputTipo",1,"label"],["id","inputTipo","fullWidth","",1,"form-control",2,"display","block",3,"ngModel","ngModelChange"],["value","SolicitudAhorro"],["value","CancelacionAhorro"],["value","ModificacionAhorro"],["value","RetiroParcialAhorro"],["for","fechacre",1,"label"],[1,"form-group"],["type","text","placeholder","Fecha de creaci\xf3n","bsDaterangepicker","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-2"],[1,"btn","btn-primary",2,"margin-top","2em",3,"click"],[1,"col"],["class","alert alert-primary","role","alert",4,"ngIf"],["class","clearfix",4,"ngIf"],["class","table-responsive",4,"ngIf"],["role","alert",1,"alert","alert-primary"],[1,"clearfix"],[1,"btn-sm","btn-success","float-right",3,"click"],[1,"fa","fa-file-excel-o","fa-sm"],["id","inputunidad","style","display:block;width: 95px; margin-right: 15px;","class","float-right form-control form-control-sm",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"float-right"],["id","inputunidad",1,"float-right","form-control","form-control-sm",2,"display","block","width","95px","margin-right","15px",3,"ngModel","ngModelChange","change"],["value","10"],["value","20",4,"ngIf"],["value","50",4,"ngIf"],["value","20"],["value","50"],[1,"table-responsive"],[1,"table","table-bordered","table-sm"],[1,"thead-dark"],[1,"text-center"],[4,"ngFor","ngForOf"],["scope","row",1,"text-center"],[1,"btn-sm","btn-outline-primary",3,"click"],[1,"fa","fa-search","fa-sm"],["scope","row"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-primary",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[1,"badge","badge-primary"],[1,"badge","badge-warning"],["class","pagination float-right",4,"ngIf"],[1,"pagination","float-right"],["class","page-item",4,"ngIf"],[1,"page-item","active"],[1,"page-link"],[1,"page-item"],[1,"btn","page-link",3,"click"],[1,"icon-control-rewind","icons"],[1,"icon-control-forward","icons"]],template:function(i,t){1&i&&(a.Pb(0,"div",0),a.Pb(1,"div",1),a.Pb(2,"div",2),a.Pb(3,"div",3),a.Pb(4,"div",4),a.Pb(5,"strong"),a.vc(6,"Validaciones"),a.Ob(),a.Ob(),a.Pb(7,"div",5),a.Pb(8,"div",6),a.Pb(9,"div",7),a.Pb(10,"label",8),a.vc(11,"Id Solicitud"),a.Ob(),a.Pb(12,"input",9),a.Wb("ngModelChange",(function(i){return t.filterParams.idSolicitud=i})),a.Ob(),a.Ob(),a.Pb(13,"div",7),a.Pb(14,"label",10),a.vc(15,"Nombre"),a.Ob(),a.Pb(16,"input",11),a.Wb("ngModelChange",(function(i){return t.filterParams.nombre=i})),a.Ob(),a.Ob(),a.Pb(17,"div",7),a.Pb(18,"label",12),a.vc(19,"No. Empleado"),a.Ob(),a.Pb(20,"input",13),a.Wb("ngModelChange",(function(i){return t.filterParams.noEmpleado=i})),a.Ob(),a.Ob(),a.Pb(21,"div",7),a.Pb(22,"label",14),a.vc(23,"Tipo Usuario"),a.Ob(),a.Pb(24,"div"),a.Pb(25,"select",15),a.Wb("ngModelChange",(function(i){return t.filterParams.tipoUsuario=i})),a.Pb(26,"option",16),a.vc(27,"TODOS"),a.Ob(),a.Pb(28,"option",17),a.vc(29,"INTERNO"),a.Ob(),a.Pb(30,"option",18),a.vc(31,"EXTERNO"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(32,"div",7),a.Pb(33,"label",19),a.vc(34,"Tipo Validacion"),a.Ob(),a.Pb(35,"div"),a.Pb(36,"select",20),a.Wb("ngModelChange",(function(i){return t.filterParams.tipoSolicitud=i})),a.Pb(37,"option",16),a.vc(38,"TODOS"),a.Ob(),a.Pb(39,"option",21),a.vc(40,"Solicitud"),a.Ob(),a.Pb(41,"option",22),a.vc(42,"Cancelacion"),a.Ob(),a.Pb(43,"option",23),a.vc(44,"Modificacion"),a.Ob(),a.Pb(45,"option",24),a.vc(46,"Retiro Parcial"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Kb(47,"br"),a.Pb(48,"div",1),a.Pb(49,"div",7),a.Pb(50,"label",25),a.vc(51,"Fecha Creaci\xf3n"),a.Ob(),a.Pb(52,"div",26),a.Pb(53,"input",27),a.Wb("ngModelChange",(function(i){return t.fechaCreacion=i})),a.Ob(),a.Ob(),a.Ob(),a.Pb(54,"div",28),a.Pb(55,"button",29),a.Wb("click",(function(){return t.updateDataTable(0,10)})),a.vc(56,"BUSCAR"),a.Ob(),a.Ob(),a.Kb(57,"div",30),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(58,"div",1),a.Pb(59,"div",2),a.Pb(60,"div",3),a.Pb(61,"div",4),a.Pb(62,"strong"),a.vc(63,"Resultados"),a.Ob(),a.Ob(),a.Pb(64,"div",5),a.Pb(65,"div",1),a.Pb(66,"div",30),a.uc(67,d,2,0,"div",31),a.uc(68,p,6,1,"div",32),a.Ob(),a.Ob(),a.Pb(69,"div",1),a.Pb(70,"div",30),a.uc(71,w,25,2,"div",33),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&i&&(a.xb(12),a.ec("ngModel",t.filterParams.idSolicitud),a.xb(4),a.ec("ngModel",t.filterParams.nombre),a.xb(4),a.ec("ngModel",t.filterParams.noEmpleado),a.xb(5),a.ec("ngModel",t.filterParams.tipoUsuario),a.xb(11),a.ec("ngModel",t.filterParams.tipoSolicitud),a.xb(17),a.ec("ngModel",t.fechaCreacion),a.xb(14),a.ec("ngIf",!0===t.page.empty),a.xb(1),a.ec("ngIf",!1===t.page.empty),a.xb(3),a.ec("ngIf",0==t.page.empty))},directives:[s.b,s.i,s.l,s.q,s.m,s.s,l.e,l.d,c.m,c.l],styles:[""]}),i})()},xKGb:function(i,t,e){"use strict";e.d(t,"a",(function(){return n}));var o=e("IheW"),a=e("8Y7J");let n=(()=>{class i{constructor(i){this.http=i}getHttpParams(i){let t=new o.d;for(const e in i)if(void 0!==i[e]){const o=i[e].toString();null!==o&&o.length>0&&"*"!==o&&(t=t.append(e,o))}return t}getSolicitudes(i){return this.http.get("../api/v1/solicitudes",{params:this.getHttpParams(i)})}getReporteSolicitudes(i){return this.http.get("../api/v1/solicitudes/report",{params:this.getHttpParams(i)})}getSolicitudesById(i){return this.http.get("../api/v1/solicitudes/"+i)}getSolicitudesByUsuarioAndId(i,t){return this.http.get(`../api/v1/usuarios/${i}/solicitudes/${t}`)}getSolicitudesByUsuario(i){return this.http.get(`../api/v1/usuarios/${i}/solicitudes`)}postSolictudUsuario(i,t){return this.http.post(`../api/v1/usuarios/${i}/solicitudes`,t)}putSolictud(i,t){return this.http.post("../api/v1/solicitudes/"+i,t)}deleteSolictud(i){return this.http.delete("../api/v1/solicitudes/"+i)}}return i.\u0275fac=function(t){return new(t||i)(a.Tb(o.b))},i.\u0275prov=a.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);