(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"27T3":function(t,o,i){"use strict";i.d(o,"a",(function(){return e}));class e{constructor(){}}},"3k/E":function(t,o,i){"use strict";i.d(o,"a",(function(){return a}));class e{}class a{constructor(t){this.tipo=t,this.validaciones=[],this.atributos=new e}}},KpyH:function(t,o,i){"use strict";i.r(o),i.d(o,"UsuariosModule",(function(){return ui}));var e=i("SVse"),a=i("iInd"),n=i("xkWA"),c=i("mrSG"),s=i("KZhB"),r=i("3k/E"),b=i("8Y7J"),d=i("ESM5"),l=i("xKGb"),u=i("4ujS"),h=i("LDwG"),g=i("qZ4S"),f=i("2ZVE"),p=i("s7LF"),m=i("LqlI"),W=i("CNMR"),X=i("jksu"),v=i("ienR");const E=["modalConfirmacion"];function C(t,o){if(1&t&&(b.Xb(0,"div"),b.Xb(1,"alert",47),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=o.$implicit;b.Fb(1),b.nc("dismissible",!0),b.Fb(1),b.Hc(t)}}function F(t,o){1&t&&b.Sb(0,"cybord-loader")}function A(t,o){1&t&&(b.Sb(0,"i",48),b.Gc(1,"\xa0 Solicitud"))}function G(t,o){if(1&t&&(b.Xb(0,"p"),b.Xb(1,"strong"),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=b.gc();b.Fb(2),b.Ic("Solicitud No. ",t.solicitudAhorro.id,"")}}function I(t,o){1&t&&(b.Xb(0,"span",27),b.Gc(1,"Descuento quincenal"),b.Wb())}const y=function(){return{containerClass:"theme-dark-blue"}};function O(t,o){if(1&t){const t=b.Yb();b.Xb(0,"input",49,50),b.ec("bsValueChange",(function(o){return b.yc(t),b.gc().bsValue=o})),b.Wb()}if(2&t){const t=b.gc();b.nc("bsConfig",b.pc(3,y))("datesEnabled",t.enabledDates)("bsValue",t.bsValue)}}function M(t,o){if(1&t){const t=b.Yb();b.Xb(0,"input",51),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().solicitudAhorro.atributos.FECHA=o})),b.Wb()}if(2&t){const t=b.gc();b.nc("ngModel",t.solicitudAhorro.atributos.FECHA)}}function S(t,o){1&t&&(b.Xb(0,"span",27),b.Gc(1,"fecha inicio descuentos"),b.Wb())}function N(t,o){if(1&t&&(b.Xb(0,"strong"),b.Gc(1),b.hc(2,"date"),b.Wb()),2&t){const t=b.gc();b.Fb(1),b.Hc(b.ic(2,1,t.bsValue))}}function P(t,o){if(1&t&&(b.Xb(0,"strong"),b.Gc(1),b.Wb()),2&t){const t=b.gc();b.Fb(1),b.Hc(t.solicitudAhorro.atributos.FECHA)}}function R(t,o){1&t&&b.Sb(0,"i",55)}function D(t,o){if(1&t){const t=b.Yb();b.Xb(0,"button",52),b.ec("click",(function(){return b.yc(t),b.gc().openModal("SolicitudAhorro")})),b.Sb(1,"i",53),b.Gc(2,"\xa0Enviar solicitud"),b.Ec(3,R,1,0,"i",54),b.Wb()}if(2&t){const t=b.gc();b.nc("disabled",t.loading||t.success.length>0),b.Fb(3),b.nc("ngIf",t.loading)}}function w(t,o){if(1&t&&(b.Xb(0,"div",56),b.Gc(1),b.Wb()),2&t){const t=b.gc();b.Fb(1),b.Ic(" ",t.solicitudEnProgreso," ")}}function U(t,o){1&t&&(b.Xb(0,"div",1),b.Sb(1,"div",57),b.Xb(2,"div",58),b.Xb(3,"div",56),b.Gc(4," La solicitud de ahorro se encuentra en tramite. "),b.Wb(),b.Wb(),b.Sb(5,"div",57),b.Wb())}function T(t,o){1&t&&(b.Xb(0,"div",63),b.Gc(1," La solicitud de ahorro fue exitosamente aprobada. "),b.Wb())}function H(t,o){if(1&t&&(b.Xb(0,"div",64),b.Gc(1),b.Wb()),2&t){const t=b.gc(2);b.Fb(1),b.Ic(" La solicitud de ahorro fue rechazada, el motivo es : ",t.solicitudAhorro.statusDetalle,". ")}}function k(t,o){1&t&&(b.Xb(0,"span",68),b.Gc(1,"APROBADA"),b.Wb())}function L(t,o){1&t&&(b.Xb(0,"span",69),b.Gc(1,"RECHAZADO"),b.Wb())}function x(t,o){if(1&t&&(b.Xb(0,"tr"),b.Xb(1,"td",65),b.Gc(2),b.hc(3,"date"),b.Wb(),b.Xb(4,"td",65),b.Gc(5),b.Wb(),b.Xb(6,"td",65),b.Ec(7,k,2,0,"span",66),b.Ec(8,L,2,0,"span",67),b.Wb(),b.Wb()),2&t){const t=o.$implicit;b.Fb(2),b.Hc(b.jc(3,4,t.fechaCreacion,"dd/MM/yyyy")),b.Fb(3),b.Hc(t.area),b.Fb(2),b.nc("ngIf",t.status),b.Fb(1),b.nc("ngIf",!t.status)}}function B(t,o){if(1&t&&(b.Xb(0,"div",1),b.Sb(1,"div",57),b.Xb(2,"div",58),b.Ec(3,T,2,0,"div",59),b.Ec(4,H,2,1,"div",60),b.Xb(5,"strong"),b.Gc(6,"Autorizaciones"),b.Wb(),b.Sb(7,"br"),b.Sb(8,"br"),b.Xb(9,"table",61),b.Xb(10,"thead",62),b.Xb(11,"tr"),b.Xb(12,"th"),b.Gc(13,"FECHA"),b.Wb(),b.Xb(14,"th"),b.Gc(15,"AREA"),b.Wb(),b.Xb(16,"th"),b.Gc(17,"ESTATUS"),b.Wb(),b.Wb(),b.Wb(),b.Xb(18,"tbody"),b.Ec(19,x,9,7,"tr",7),b.Wb(),b.Wb(),b.Wb(),b.Sb(20,"div",57),b.Wb()),2&t){const t=b.gc();b.Fb(3),b.nc("ngIf","Finalizada"===t.solicitudAhorro.status),b.Fb(1),b.nc("ngIf","Rechazada"===t.solicitudAhorro.status),b.Fb(15),b.nc("ngForOf",t.solicitudAhorro.validaciones)}}function V(t,o){1&t&&(b.Sb(0,"i",74),b.Gc(1,"\xa0 Modificaci\xf3n"))}function q(t,o){if(1&t&&(b.Xb(0,"p"),b.Xb(1,"strong"),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=b.gc(2);b.Fb(2),b.Ic("Solicitud No. ",t.solicitudModificacion.id,"")}}function z(t,o){1&t&&(b.Xb(0,"span",27),b.Gc(1,"Nueva cantidad"),b.Wb())}function _(t,o){if(1&t){const t=b.Yb();b.Xb(0,"input",75,50),b.ec("bsValueChange",(function(o){return b.yc(t),b.gc(2).bsValue=o})),b.Wb()}if(2&t){const t=b.gc(2);b.nc("bsConfig",b.pc(3,y))("datesEnabled",t.enabledDates)("bsValue",t.bsValue)}}function $(t,o){if(1&t){const t=b.Yb();b.Xb(0,"input",76),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc(2).solicitudModificacion.atributos.FECHA=o})),b.Wb()}if(2&t){const t=b.gc(2);b.nc("ngModel",t.solicitudModificacion.atributos.FECHA)}}function Y(t,o){1&t&&(b.Xb(0,"span",27),b.Gc(1,"fecha modificacion descuento"),b.Wb())}function j(t,o){if(1&t&&(b.Xb(0,"strong"),b.Gc(1),b.hc(2,"date"),b.Wb()),2&t){const t=b.gc(2);b.Fb(1),b.Hc(b.ic(2,1,t.bsValue))}}function Q(t,o){if(1&t&&(b.Xb(0,"strong"),b.Gc(1),b.Wb()),2&t){const t=b.gc(2);b.Fb(1),b.Hc(t.solicitudModificacion.atributos.FECHA)}}function Z(t,o){1&t&&b.Sb(0,"i",55)}function J(t,o){if(1&t){const t=b.Yb();b.Xb(0,"button",52),b.ec("click",(function(){return b.yc(t),b.gc(2).openModal("ModificacionAhorro")})),b.Sb(1,"i",53),b.Gc(2," \xa0 "),b.Ec(3,Z,1,0,"i",54),b.Gc(4,"Enviar solicitud"),b.Wb()}if(2&t){const t=b.gc(2);b.nc("disabled",t.loading||t.success.length>0),b.Fb(3),b.nc("ngIf",t.loading)}}function K(t,o){if(1&t&&(b.Xb(0,"div",56),b.Gc(1),b.Wb()),2&t){const t=b.gc(2);b.Fb(1),b.Ic(" ",t.solicitudEnProgreso," ")}}function tt(t,o){1&t&&(b.Xb(0,"div",63),b.Gc(1," La modificaci\xf3n del ahorro fue exitosamente aprobada. "),b.Wb())}function ot(t,o){if(1&t&&(b.Xb(0,"div",64),b.Gc(1),b.Wb()),2&t){const t=b.gc(3);b.Fb(1),b.Ic(" La modificaci\xf3n del ahorro fue rechazada, el motivo es : ",t.solicitudModificacion.statusDetalle,". ")}}function it(t,o){1&t&&(b.Xb(0,"span",68),b.Gc(1,"APROBADA"),b.Wb())}function et(t,o){1&t&&(b.Xb(0,"span",69),b.Gc(1,"RECHAZADO"),b.Wb())}function at(t,o){if(1&t&&(b.Xb(0,"tr"),b.Xb(1,"td",65),b.Gc(2),b.hc(3,"date"),b.Wb(),b.Xb(4,"td",65),b.Gc(5),b.Wb(),b.Xb(6,"td",65),b.Ec(7,it,2,0,"span",66),b.Ec(8,et,2,0,"span",67),b.Wb(),b.Wb()),2&t){const t=o.$implicit;b.Fb(2),b.Hc(b.jc(3,4,t.fechaCreacion,"dd/MM/yyyy")),b.Fb(3),b.Hc(t.area),b.Fb(2),b.nc("ngIf",t.status),b.Fb(1),b.nc("ngIf",!t.status)}}function nt(t,o){if(1&t&&(b.Xb(0,"div",1),b.Sb(1,"div",57),b.Xb(2,"div",58),b.Ec(3,tt,2,0,"div",59),b.Ec(4,ot,2,1,"div",60),b.Xb(5,"strong"),b.Gc(6,"Autorizaciones"),b.Wb(),b.Sb(7,"br"),b.Sb(8,"br"),b.Xb(9,"table",61),b.Xb(10,"thead",62),b.Xb(11,"tr"),b.Xb(12,"th"),b.Gc(13,"FECHA"),b.Wb(),b.Xb(14,"th"),b.Gc(15,"AREA"),b.Wb(),b.Xb(16,"th"),b.Gc(17,"ESTATUS"),b.Wb(),b.Wb(),b.Wb(),b.Xb(18,"tbody"),b.Ec(19,at,9,7,"tr",7),b.Wb(),b.Wb(),b.Wb(),b.Sb(20,"div",57),b.Wb()),2&t){const t=b.gc(2);b.Fb(3),b.nc("ngIf","Finalizada"===t.solicitudModificacion.status),b.Fb(1),b.nc("ngIf","Rechazada"===t.solicitudModificacion.status),b.Fb(15),b.nc("ngForOf",t.solicitudModificacion.validaciones)}}function ct(t,o){if(1&t){const t=b.Yb();b.Xb(0,"tab"),b.Ec(1,V,2,0,"ng-template",10),b.Sb(2,"br"),b.Xb(3,"div",1),b.Xb(4,"div",11),b.Ec(5,q,3,1,"p",8),b.Xb(6,"form",12),b.Xb(7,"div",13),b.Xb(8,"label",14),b.Gc(9,"Nombre"),b.Wb(),b.Xb(10,"div",15),b.Xb(11,"p",16),b.Xb(12,"strong"),b.Gc(13),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"div",13),b.Xb(15,"label",17),b.Gc(16,"No. empleado"),b.Wb(),b.Xb(17,"div",15),b.Xb(18,"input",18),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().usuario.noEmpleado=o})),b.Wb(),b.Wb(),b.Wb(),b.Xb(19,"div",13),b.Xb(20,"label",19),b.Gc(21,"Oficina"),b.Wb(),b.Xb(22,"div",15),b.Xb(23,"input",20),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().usuario.datosUsuario.OFICINA=o})),b.Wb(),b.Wb(),b.Wb(),b.Xb(24,"div",13),b.Xb(25,"label",70),b.Gc(26,"Descuento quincenal actual"),b.Wb(),b.Xb(27,"div",15),b.Xb(28,"input",71),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().usuario.datosUsuario.AHORRO=o})),b.Wb(),b.Wb(),b.Wb(),b.Xb(29,"div",13),b.Xb(30,"label",21),b.Gc(31,"Nuevo descuento"),b.Wb(),b.Xb(32,"div",15),b.Xb(33,"input",22),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().solicitudModificacion.atributos.MONTO=o})),b.Wb(),b.Ec(34,z,2,0,"span",23),b.Wb(),b.Wb(),b.Xb(35,"div",13),b.Xb(36,"label",24),b.Gc(37,"Fecha modificacion"),b.Wb(),b.Xb(38,"div",15),b.Ec(39,_,2,4,"input",72),b.Ec(40,$,1,1,"input",73),b.Ec(41,Y,2,0,"span",23),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(42,"div",11),b.Xb(43,"span",27),b.Gc(44," Yo "),b.Xb(45,"strong"),b.Gc(46),b.Wb(),b.Gc(47," con n\xfamero de trabajador "),b.Xb(48,"strong"),b.Gc(49),b.Wb(),b.Gc(50," adscrito a la Oficina "),b.Xb(51,"strong"),b.Gc(52),b.Wb(),b.Gc(53," solicito por este medio se modifique el descuento de "),b.Xb(54,"strong"),b.Gc(55),b.Wb(),b.Gc(56," que se me aplica en mi pago de n\xf3mina por la por la cantidad de "),b.Xb(57,"strong"),b.Gc(58),b.Wb(),b.Gc(59," aplicable a partir de la fecha "),b.Ec(60,j,3,3,"strong",8),b.Ec(61,Q,2,1,"strong",8),b.Gc(62,". "),b.Wb(),b.Sb(63,"br"),b.Sb(64,"br"),b.Ec(65,J,5,2,"button",28),b.Ec(66,K,2,1,"div",29),b.Wb(),b.Wb(),b.Ec(67,nt,21,3,"div",30),b.Wb()}if(2&t){const t=b.gc();b.Fb(5),b.nc("ngIf",void 0!==t.solicitudModificacion.id),b.Fb(8),b.Hc(t.usuario.nombre),b.Fb(5),b.nc("ngModel",t.usuario.noEmpleado),b.Fb(5),b.nc("ngModel",t.usuario.datosUsuario.OFICINA),b.Fb(5),b.nc("disabled",void 0!==t.usuario.datosUsuario.AHORRO)("ngModel",t.usuario.datosUsuario.AHORRO),b.Fb(5),b.nc("disabled",0!==t.solicitudEnProgreso.length)("ngModel",t.solicitudModificacion.atributos.MONTO),b.Fb(1),b.nc("ngIf",0===t.solicitudEnProgreso.length),b.Fb(5),b.nc("ngIf",0===t.solicitudEnProgreso.length),b.Fb(1),b.nc("ngIf",0!==t.solicitudEnProgreso.length),b.Fb(1),b.nc("ngIf",void 0===t.solicitudModificacion.atributos.FECHA),b.Fb(5),b.Hc(t.usuario.nombre),b.Fb(3),b.Hc(t.usuario.noEmpleado),b.Fb(3),b.Hc(t.usuario.datosUsuario.OFICINA),b.Fb(3),b.Ic(" $ ",t.usuario.datosUsuario.AHORRO," "),b.Fb(3),b.Ic(" $ ",t.solicitudModificacion.atributos.MONTO," "),b.Fb(2),b.nc("ngIf",void 0===t.solicitudModificacion.id),b.Fb(1),b.nc("ngIf",void 0!==t.solicitudModificacion.id),b.Fb(4),b.nc("ngIf",0===t.solicitudEnProgreso.length),b.Fb(1),b.nc("ngIf",t.solicitudEnProgreso.length>0),b.Fb(1),b.nc("ngIf",void 0!==t.solicitudModificacion.id&&t.solicitudModificacion.validaciones.length>0)}}function st(t,o){1&t&&(b.Sb(0,"i",81),b.Gc(1,"\xa0 Retiro Parcial"))}function rt(t,o){if(1&t&&(b.Xb(0,"p"),b.Xb(1,"strong"),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=b.gc(2);b.Fb(2),b.Ic("Solicitud No. ",t.solicitudRetiro.id,"")}}function bt(t,o){1&t&&(b.Xb(0,"span",27),b.Gc(1,"Monto de retiro"),b.Wb())}function dt(t,o){if(1&t&&(b.Xb(0,"p"),b.Xb(1,"strong"),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=b.gc(2);b.Fb(2),b.Kc("",t.usuario.datosUsuario.TIPO_CUENTA," ",t.usuario.datosUsuario.CUENTA," ",t.usuario.datosUsuario.BANCO,"")}}function lt(t,o){1&t&&(b.Xb(0,"span",82),b.Gc(1," Si sus datos bancarios no se encuentran regitrados no se podra realizar la solicitud."),b.Wb())}function ut(t,o){1&t&&b.Sb(0,"i",55)}function ht(t,o){if(1&t){const t=b.Yb();b.Xb(0,"button",52),b.ec("click",(function(){return b.yc(t),b.gc(2).openModal("RetiroParcialAhorro")})),b.Sb(1,"i",53),b.Gc(2,"\xa0"),b.Ec(3,ut,1,0,"i",54),b.Gc(4,"Enviar solicitud"),b.Wb()}if(2&t){const t=b.gc(2);b.nc("disabled",t.loading||t.success.length>0),b.Fb(3),b.nc("ngIf",t.loading)}}function gt(t,o){if(1&t&&(b.Xb(0,"div",56),b.Gc(1),b.Wb()),2&t){const t=b.gc(2);b.Fb(1),b.Ic(" ",t.solicitudEnProgreso," ")}}function ft(t,o){1&t&&(b.Xb(0,"div",63),b.Gc(1," La solicitud de retiro parcial fue exitosamente aprobada. "),b.Wb())}function pt(t,o){if(1&t&&(b.Xb(0,"div",64),b.Gc(1),b.Wb()),2&t){const t=b.gc(3);b.Fb(1),b.Ic(" La solicitud de ahorro fue rechazada, el motivo es : ",t.solicitudAhorro.statusDetalle,". ")}}function mt(t,o){1&t&&(b.Xb(0,"span",68),b.Gc(1,"APROBADA"),b.Wb())}function Wt(t,o){1&t&&(b.Xb(0,"span",69),b.Gc(1,"RECHAZADO"),b.Wb())}function Xt(t,o){if(1&t&&(b.Xb(0,"tr"),b.Xb(1,"td",65),b.Gc(2),b.hc(3,"date"),b.Wb(),b.Xb(4,"td",65),b.Gc(5),b.Wb(),b.Xb(6,"td",65),b.Ec(7,mt,2,0,"span",66),b.Ec(8,Wt,2,0,"span",67),b.Wb(),b.Wb()),2&t){const t=o.$implicit;b.Fb(2),b.Hc(b.jc(3,4,t.fechaCreacion,"dd/MM/yyyy")),b.Fb(3),b.Hc(t.area),b.Fb(2),b.nc("ngIf",t.status),b.Fb(1),b.nc("ngIf",!t.status)}}function vt(t,o){if(1&t&&(b.Xb(0,"div",1),b.Sb(1,"div",57),b.Xb(2,"div",58),b.Ec(3,ft,2,0,"div",59),b.Ec(4,pt,2,1,"div",60),b.Xb(5,"strong"),b.Gc(6,"Autorizaciones"),b.Wb(),b.Sb(7,"br"),b.Sb(8,"br"),b.Xb(9,"table",61),b.Xb(10,"thead",62),b.Xb(11,"tr"),b.Xb(12,"th"),b.Gc(13,"FECHA"),b.Wb(),b.Xb(14,"th"),b.Gc(15,"AREA"),b.Wb(),b.Xb(16,"th"),b.Gc(17,"ESTATUS"),b.Wb(),b.Wb(),b.Wb(),b.Xb(18,"tbody"),b.Ec(19,Xt,9,7,"tr",7),b.Wb(),b.Wb(),b.Wb(),b.Sb(20,"div",57),b.Wb()),2&t){const t=b.gc(2);b.Fb(3),b.nc("ngIf","Finalizada"===t.solicitudRetiro.status),b.Fb(1),b.nc("ngIf","Rechazada"===t.solicitudRetiro.status),b.Fb(15),b.nc("ngForOf",t.solicitudRetiro.validaciones)}}function Et(t,o){if(1&t){const t=b.Yb();b.Xb(0,"tab"),b.Ec(1,st,2,0,"ng-template",10),b.Sb(2,"br"),b.Xb(3,"div",1),b.Xb(4,"div",11),b.Ec(5,rt,3,1,"p",8),b.Xb(6,"form",12),b.Xb(7,"div",13),b.Xb(8,"label",14),b.Gc(9,"Nombre"),b.Wb(),b.Xb(10,"div",15),b.Xb(11,"p",16),b.Xb(12,"strong"),b.Gc(13),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"div",13),b.Xb(15,"label",17),b.Gc(16,"No. empleado"),b.Wb(),b.Xb(17,"div",15),b.Xb(18,"input",18),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().usuario.noEmpleado=o})),b.Wb(),b.Wb(),b.Wb(),b.Xb(19,"div",13),b.Xb(20,"label",19),b.Gc(21,"Oficina"),b.Wb(),b.Xb(22,"div",15),b.Xb(23,"input",20),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().usuario.datosUsuario.OFICINA=o})),b.Wb(),b.Wb(),b.Wb(),b.Xb(24,"div",13),b.Xb(25,"label",77),b.Gc(26,"Monto de retiro"),b.Wb(),b.Xb(27,"div",15),b.Xb(28,"input",78),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().solicitudRetiro.atributos.MONTO=o})),b.Wb(),b.Ec(29,bt,2,0,"span",23),b.Wb(),b.Wb(),b.Xb(30,"div",13),b.Xb(31,"label",79),b.Gc(32,"Cuenta de deposito"),b.Wb(),b.Xb(33,"div",15),b.Ec(34,dt,3,3,"p",8),b.Ec(35,lt,2,0,"span",80),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(36,"div",11),b.Xb(37,"span",27),b.Gc(38," Yo "),b.Xb(39,"strong"),b.Gc(40),b.Wb(),b.Gc(41," con n\xfamero de trabajador "),b.Xb(42,"strong"),b.Gc(43),b.Wb(),b.Gc(44," adscrito a la Oficina "),b.Xb(45,"strong"),b.Gc(46),b.Wb(),b.Gc(47," solicito por este medio la cantidad de "),b.Xb(48,"strong"),b.Gc(49),b.Wb(),b.Gc(50," por concepto de Retiro Parcial de mi ahorro, que sea depositado a la cuenta "),b.Xb(51,"strong"),b.Gc(52),b.Wb(),b.Wb(),b.Sb(53,"br"),b.Sb(54,"br"),b.Ec(55,ht,5,2,"button",28),b.Ec(56,gt,2,1,"div",29),b.Wb(),b.Wb(),b.Ec(57,vt,21,3,"div",30),b.Wb()}if(2&t){const t=b.gc();b.Fb(5),b.nc("ngIf",void 0!==t.solicitudRetiro.id),b.Fb(8),b.Hc(t.usuario.nombre),b.Fb(5),b.nc("ngModel",t.usuario.noEmpleado),b.Fb(5),b.nc("ngModel",t.usuario.datosUsuario.OFICINA),b.Fb(5),b.nc("disabled",0!==t.solicitudEnProgreso.length)("ngModel",t.solicitudRetiro.atributos.MONTO),b.Fb(1),b.nc("ngIf",void 0===t.solicitudRetiro.id),b.Fb(5),b.nc("ngIf",void 0!==t.usuario.datosUsuario.TIPO_CUENTA&&void 0!==t.usuario.datosUsuario.CUENTA&&void 0!==t.usuario.datosUsuario.BANCO),b.Fb(1),b.nc("ngIf",void 0===t.usuario.datosUsuario.TIPO_CUENTA||void 0===t.usuario.datosUsuario.CUENTA||void 0===t.usuario.datosUsuario.BANCO),b.Fb(5),b.Hc(t.usuario.nombre),b.Fb(3),b.Hc(t.usuario.noEmpleado),b.Fb(3),b.Hc(t.usuario.datosUsuario.OFICINA),b.Fb(3),b.Ic("$",t.solicitudRetiro.atributos.MONTO,""),b.Fb(3),b.Kc("",t.usuario.datosUsuario.TIPO_CUENTA," ",t.usuario.datosUsuario.CUENTA," del banco ",t.usuario.datosUsuario.BANCO,""),b.Fb(3),b.nc("ngIf",0===t.solicitudEnProgreso.length),b.Fb(1),b.nc("ngIf",t.solicitudEnProgreso.length>0),b.Fb(1),b.nc("ngIf",void 0!==t.solicitudRetiro.id&&t.solicitudRetiro.validaciones.length>0)}}function Ct(t,o){1&t&&(b.Sb(0,"i",87),b.Gc(1,"\xa0 Cancelaci\xf3n"))}function Ft(t,o){if(1&t&&(b.Xb(0,"p"),b.Xb(1,"strong"),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=b.gc(2);b.Fb(2),b.Ic("Solicitud No. ",t.solicitudCancelacion.id,"")}}function At(t,o){if(1&t){const t=b.Yb();b.Xb(0,"input",88,50),b.ec("bsValueChange",(function(o){return b.yc(t),b.gc(2).bsValue=o})),b.Wb()}if(2&t){const t=b.gc(2);b.nc("bsConfig",b.pc(2,y))("bsValue",t.bsValue)}}function Gt(t,o){if(1&t){const t=b.Yb();b.Xb(0,"input",51),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc(2).solicitudCancelacion.atributos.FECHA=o})),b.Wb()}if(2&t){const t=b.gc(2);b.nc("ngModel",t.solicitudCancelacion.atributos.FECHA)}}function It(t,o){1&t&&(b.Xb(0,"span",27),b.Gc(1,"fecha deposito ahorro"),b.Wb())}function yt(t,o){if(1&t&&(b.Xb(0,"p"),b.Xb(1,"strong"),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=b.gc(2);b.Fb(2),b.Kc("",t.usuario.datosUsuario.TIPO_CUENTA," ",t.usuario.datosUsuario.CUENTA," ",t.usuario.datosUsuario.BANCO,"")}}function Ot(t,o){1&t&&(b.Xb(0,"span",82),b.Gc(1," Si sus datos bancarios no se encuentran regitrados no se podra realizar la solicitud."),b.Wb())}function Mt(t,o){if(1&t&&(b.Xb(0,"strong"),b.Gc(1),b.hc(2,"date"),b.Wb()),2&t){const t=b.gc(2);b.Fb(1),b.Hc(b.ic(2,1,t.bsValue))}}function St(t,o){if(1&t&&(b.Xb(0,"strong"),b.Gc(1),b.Wb()),2&t){const t=b.gc(2);b.Fb(1),b.Hc(t.solicitudCancelacion.atributos.FECHA)}}function Nt(t,o){1&t&&b.Sb(0,"i",55)}function Pt(t,o){if(1&t){const t=b.Yb();b.Xb(0,"button",52),b.ec("click",(function(){return b.yc(t),b.gc(2).openModal("CancelacionAhorro")})),b.Sb(1,"i",53),b.Gc(2,"\xa0 Enviar solicitud "),b.Ec(3,Nt,1,0,"i",54),b.Wb()}if(2&t){const t=b.gc(2);b.nc("disabled",t.loading||t.success.length>0||t.solicitudEnProgreso.length>0),b.Fb(3),b.nc("ngIf",t.loading)}}function Rt(t,o){if(1&t&&(b.Xb(0,"div",56),b.Gc(1),b.Wb()),2&t){const t=b.gc(2);b.Fb(1),b.Ic(" ",t.solicitudEnProgreso," ")}}function Dt(t,o){1&t&&(b.Xb(0,"div",63),b.Gc(1," La solicitud de cancelacion fue exitosamente aprobada. "),b.Wb())}function wt(t,o){if(1&t&&(b.Xb(0,"div",64),b.Gc(1),b.Wb()),2&t){const t=b.gc(3);b.Fb(1),b.Ic(" La solicitud de cancelacion fue rechazada, el motivo es : ",t.solicitudCancelacion.statusDetalle,". ")}}function Ut(t,o){1&t&&(b.Xb(0,"span",68),b.Gc(1,"APROBADA"),b.Wb())}function Tt(t,o){1&t&&(b.Xb(0,"span",69),b.Gc(1,"RECHAZADO"),b.Wb())}function Ht(t,o){if(1&t&&(b.Xb(0,"tr"),b.Xb(1,"td",65),b.Gc(2),b.hc(3,"date"),b.Wb(),b.Xb(4,"td",65),b.Gc(5),b.Wb(),b.Xb(6,"td",65),b.Ec(7,Ut,2,0,"span",66),b.Ec(8,Tt,2,0,"span",67),b.Wb(),b.Xb(9,"td",65),b.Gc(10),b.Wb(),b.Wb()),2&t){const t=o.$implicit;b.Fb(2),b.Hc(b.jc(3,5,t.fechaCreacion,"dd/MM/yyyy")),b.Fb(3),b.Hc(t.area),b.Fb(2),b.nc("ngIf",t.status),b.Fb(1),b.nc("ngIf",!t.status),b.Fb(2),b.Hc(t.statusDetalle)}}function kt(t,o){if(1&t&&(b.Xb(0,"div",1),b.Sb(1,"div",57),b.Xb(2,"div",58),b.Xb(3,"strong"),b.Gc(4,"Autorizaciones"),b.Wb(),b.Sb(5,"br"),b.Ec(6,Dt,2,0,"div",59),b.Ec(7,wt,2,1,"div",60),b.Sb(8,"br"),b.Xb(9,"table",61),b.Xb(10,"thead",62),b.Xb(11,"tr"),b.Xb(12,"th"),b.Gc(13,"FECHA"),b.Wb(),b.Xb(14,"th"),b.Gc(15,"AREA"),b.Wb(),b.Xb(16,"th"),b.Gc(17,"ESTATUS"),b.Wb(),b.Xb(18,"th"),b.Gc(19,"OBSERVACIONES"),b.Wb(),b.Wb(),b.Wb(),b.Xb(20,"tbody"),b.Ec(21,Ht,11,8,"tr",7),b.Wb(),b.Wb(),b.Wb(),b.Sb(22,"div",57),b.Wb()),2&t){const t=b.gc(2);b.Fb(6),b.nc("ngIf","Finalizada"===t.solicitudCancelacion.status),b.Fb(1),b.nc("ngIf","Rechazada"===t.solicitudCancelacion.status),b.Fb(14),b.nc("ngForOf",t.solicitudCancelacion.validaciones)}}function Lt(t,o){if(1&t){const t=b.Yb();b.Xb(0,"tab"),b.Ec(1,Ct,2,0,"ng-template",10),b.Sb(2,"br"),b.Xb(3,"div",1),b.Xb(4,"div",11),b.Xb(5,"form",12),b.Ec(6,Ft,3,1,"p",8),b.Xb(7,"div",13),b.Xb(8,"label",14),b.Gc(9,"Nombre"),b.Wb(),b.Xb(10,"div",15),b.Xb(11,"p",16),b.Xb(12,"strong"),b.Gc(13),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"div",13),b.Xb(15,"label",17),b.Gc(16,"No. empleado"),b.Wb(),b.Xb(17,"div",15),b.Xb(18,"input",18),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().usuario.datosUsuario.NO_EMPLEADO=o})),b.Wb(),b.Wb(),b.Wb(),b.Xb(19,"div",13),b.Xb(20,"label",19),b.Gc(21,"Oficina"),b.Wb(),b.Xb(22,"div",15),b.Xb(23,"input",20),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().usuario.datosUsuario.OFICINA=o})),b.Wb(),b.Wb(),b.Wb(),b.Xb(24,"div",13),b.Xb(25,"label",21),b.Gc(26,"Descuento quincenal"),b.Wb(),b.Xb(27,"div",15),b.Xb(28,"input",83),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().usuario.datosUsuario.AHORRO=o})),b.Wb(),b.Wb(),b.Wb(),b.Xb(29,"div",13),b.Xb(30,"label",24),b.Gc(31,"Fecha solicitada de deposito"),b.Wb(),b.Xb(32,"div",15),b.Ec(33,At,2,3,"input",84),b.Ec(34,Gt,1,1,"input",26),b.Ec(35,It,2,0,"span",23),b.Wb(),b.Wb(),b.Xb(36,"div",13),b.Xb(37,"label",85),b.Gc(38,"Motivo de cancelacion"),b.Wb(),b.Xb(39,"div",15),b.Xb(40,"textarea",86),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().solicitudCancelacion.atributos.RAZON_CANCELACION=o})),b.Gc(41,"                            "),b.Wb(),b.Wb(),b.Wb(),b.Xb(42,"div",13),b.Xb(43,"label",79),b.Gc(44,"Cuenta deposito"),b.Wb(),b.Xb(45,"div",15),b.Ec(46,yt,3,3,"p",8),b.Ec(47,Ot,2,0,"span",80),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(48,"div",11),b.Xb(49,"span",27),b.Gc(50," Yo "),b.Xb(51,"strong"),b.Gc(52),b.Wb(),b.Gc(53," con n\xfamero de trabajador "),b.Xb(54,"strong"),b.Gc(55),b.Wb(),b.Gc(56," adscrito a la Oficina "),b.Xb(57,"strong"),b.Gc(58),b.Wb(),b.Gc(59," solicito por este medio se cancele el descuento que se aplica en mi pago de n\xf3mina la cantidad de de "),b.Xb(60,"strong"),b.Gc(61),b.Wb(),b.Gc(62," de manera quincenal a partir de la siguiente fecha "),b.Ec(63,Mt,3,3,"strong",8),b.Ec(64,St,2,1,"strong",8),b.Gc(65,", debido a "),b.Xb(66,"strong"),b.Gc(67),b.Wb(),b.Gc(68," y asimismo se me reintegre la cantidad de "),b.Xb(69,"strong"),b.Gc(70),b.hc(71,"currency"),b.Wb(),b.Gc(72," del PROGRAMA DE AHORRO VOLUNTARIO sea depositado a la cuenta "),b.Xb(73,"strong"),b.Gc(74),b.Wb(),b.Wb(),b.Sb(75,"br"),b.Sb(76,"br"),b.Ec(77,Pt,4,2,"button",28),b.Ec(78,Rt,2,1,"div",29),b.Wb(),b.Wb(),b.Ec(79,kt,23,3,"div",30),b.Wb()}if(2&t){const t=b.gc();b.Fb(6),b.nc("ngIf",void 0!==t.solicitudCancelacion.id),b.Fb(7),b.Hc(t.usuario.nombre),b.Fb(5),b.nc("ngModel",t.usuario.datosUsuario.NO_EMPLEADO),b.Fb(5),b.nc("ngModel",t.usuario.datosUsuario.OFICINA),b.Fb(5),b.nc("ngModel",t.usuario.datosUsuario.AHORRO),b.Fb(5),b.nc("ngIf",0===t.solicitudEnProgreso.length),b.Fb(1),b.nc("ngIf",0!==t.solicitudEnProgreso.length),b.Fb(1),b.nc("ngIf",void 0===t.solicitudCancelacion.atributos.FECHA),b.Fb(5),b.nc("disabled",0!==t.solicitudEnProgreso.length)("ngModel",t.solicitudCancelacion.atributos.RAZON_CANCELACION),b.Fb(6),b.nc("ngIf",void 0!==t.usuario.datosUsuario.TIPO_CUENTA&&void 0!==t.usuario.datosUsuario.CUENTA&&void 0!==t.usuario.datosUsuario.BANCO),b.Fb(1),b.nc("ngIf",void 0===t.usuario.datosUsuario.TIPO_CUENTA||void 0===t.usuario.datosUsuario.CUENTA||void 0===t.usuario.datosUsuario.BANCO),b.Fb(5),b.Hc(t.usuario.nombre),b.Fb(3),b.Hc(t.usuario.noEmpleado),b.Fb(3),b.Hc(t.usuario.datosUsuario.OFICINA),b.Fb(3),b.Ic("$",t.usuario.datosUsuario.AHORRO,""),b.Fb(2),b.nc("ngIf",void 0===t.solicitudCancelacion.id),b.Fb(1),b.nc("ngIf",void 0!==t.solicitudCancelacion.id),b.Fb(3),b.Hc(t.solicitudCancelacion.atributos.RAZON_CANCELACION),b.Fb(3),b.Hc(b.ic(71,26,t.totalAhorro)),b.Fb(4),b.Kc("",t.usuario.datosUsuario.TIPO_CUENTA," ",t.usuario.datosUsuario.CUENTA," del banco ",t.usuario.datosUsuario.BANCO,""),b.Fb(3),b.nc("ngIf",0===t.solicitudEnProgreso.length),b.Fb(1),b.nc("ngIf",t.solicitudEnProgreso.length>0),b.Fb(1),b.nc("ngIf",void 0!==t.solicitudCancelacion.id&&t.solicitudCancelacion.validaciones.length>0)}}const xt=function(){return{standalone:!0}},Bt=function(t,o){return{"btn-primary":t,"btn-secondary":o}};let Vt=(()=>{class t{constructor(t,o,i,e,a,n){this.datepipe=t,this.userService=o,this.solicitudService=i,this.catService=e,this.ahorroService=a,this.validationService=n,this.oficinas=[],this.loading=!1,this.usuario=new s.a,this.totalAhorro=0,this.errorMessages=[],this.success="",this.tipoSolicitud="SolicitudAhorro",this.alerts=[],this.enabledDates=[],this.solicitudAhorro=new r.a,this.solicitudModificacion=new r.a,this.solicitudRetiro=new r.a,this.solicitudCancelacion=new r.a,this.solicitudEnProgreso=""}ngOnInit(){this.errorMessages=[],this.success="",this.loading=!0,this.calculateEnabledDates(),this.loadRequestInfo()}loadRequestInfo(){return Object(c.a)(this,void 0,void 0,(function*(){try{const t=yield this.userService.myInfo();this.usuario=yield this.userService.getUsuario(t.id).toPromise();const o=yield this.ahorroService.getSaldoByUsuario(t.id).toPromise();this.totalAhorro=o.length>0?o.map(t=>t.monto).reduce((t,o)=>t+o):0;const i=yield this.catService.getCatalogoByTipoAndNombre("oficinas",this.usuario.datosUsuario.OFICINA).toPromise(),e=yield this.catService.getCatalogoByTipoAndNombre("bancos",this.usuario.datosUsuario.BANCO).toPromise();this.usuario.datosUsuario.OFICINA=i.valor,this.usuario.datosUsuario.BANCO=e.valor;const a=yield this.solicitudService.getSolicitudesByUsuario(t.id).toPromise();this.solicitudAhorro=a.sort((t,o)=>new Date(o.fechaCreacion).getTime()-new Date(t.fechaCreacion).getTime()).find(t=>"SolicitudAhorro"===t.tipo)||new r.a("SolicitudAhorro"),this.solicitudRetiro=a.sort((t,o)=>new Date(o.fechaCreacion).getTime()-new Date(t.fechaCreacion).getTime()).find(t=>"RetiroParcialAhorro"===t.tipo)||new r.a("RetiroParcialAhorro"),this.solicitudModificacion=a.sort((t,o)=>new Date(o.fechaCreacion).getTime()-new Date(t.fechaCreacion).getTime()).find(t=>"ModificacionAhorro"===t.tipo)||new r.a("ModificacionAhorro"),this.solicitudCancelacion=a.sort((t,o)=>new Date(o.fechaCreacion).getTime()-new Date(t.fechaCreacion).getTime()).find(t=>"CancelacionAhorro"===t.tipo&&new Date(t.fechaCreacion).getTime()-new Date(this.solicitudAhorro.fechaCreacion).getTime()>0)||new r.a("CancelacionAhorro"),this.solicitudCancelacion.atributos.MONTO=this.totalAhorro.toString(),this.solicitudModificacion.atributos.MONTO=this.usuario.datosUsuario.AHORRO,void 0!==this.solicitudCancelacion.status&&"Rechazada"!==this.solicitudCancelacion.status&&"Finalizada"!==this.solicitudCancelacion.status&&(this.solicitudEnProgreso="La solicitud de cancelaci\xf3n se encuentra en progreso"),void 0!==this.solicitudRetiro.status&&"Rechazada"!==this.solicitudRetiro.status&&"Finalizada"!==this.solicitudRetiro.status&&(this.solicitudEnProgreso="La solicitud de retiro se encuentra en progreso"),void 0!==this.solicitudModificacion.status&&"Rechazada"!==this.solicitudModificacion.status&&"Finalizada"!==this.solicitudModificacion.status&&(this.solicitudEnProgreso="La modificac\xf3n de ahorro se encuentra en progreso"),this.loading=!1}catch(t){this.alerts.push(t),this.loading=!1}}))}requestSolicitud(t){this.loading=!0,this.alerts=[],t.id=void 0,t.idUsuario=this.usuario.id,t.status="Solicitud",t.statusDetalle="Solicitud inicial",t.fechaEjecucion=new Date(this.bsValue),t.atributos.FECHA=this.datepipe.transform(this.bsValue,"yyyy-MM-dd"),this.alerts=this.validationService.validateSolicitud(t,this.totalAhorro),0===this.alerts.length?this.solicitudService.postSolictudUsuario(this.usuario.id,t).toPromise().then(t=>{this.loading=!1,this.solicitudEnProgreso="La solicitud se encuentra en progreso",this.success="La solicitud se envio correctamente"}).catch(t=>{this.alerts.push(t),this.loading=!1}):this.loading=!1}openModal(t){this.tipoSolicitud=t,console.log("requesting "+t),this.modalConfirmacion.show()}cancelar(){this.modalConfirmacion.hide()}aceptar(){switch(this.tipoSolicitud){case"SolicitudAhorro":this.requestSolicitud(this.solicitudAhorro);break;case"CancelacionAhorro":this.requestSolicitud(this.solicitudCancelacion);break;case"RetiroParcialAhorro":this.requestSolicitud(this.solicitudRetiro);break;case"ModificacionAhorro":this.requestSolicitud(this.solicitudModificacion);break;default:this.errorMessages.push("Error identificando el tipo de solicitud")}this.modalConfirmacion.hide()}calculateEnabledDates(){const t=new Date;t.getDate()<15&&(t.setDate(15),t.setMonth(t.getMonth()),this.enabledDates.push(t));for(let o=1;o<5;o++){const t=new Date;t.setDate(1),t.setMonth(t.getMonth()+o),this.enabledDates.push(t);const i=new Date;i.setDate(15),i.setMonth(i.getMonth()+o),this.enabledDates.push(i)}this.bsValue=this.enabledDates[0]}}return t.\u0275fac=function(o){return new(o||t)(b.Rb(e.f),b.Rb(d.a),b.Rb(l.a),b.Rb(u.a),b.Rb(h.a),b.Rb(g.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["cybord-tramites-ahorro"]],viewQuery:function(t,o){var i;1&t&&b.Lc(E,!0),2&t&&b.uc(i=b.fc())&&(o.modalConfirmacion=i.first)},decls:112,vars:34,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body","bg-gray-100"],[1,"col-sm-12"],[4,"ngFor","ngForOf"],[4,"ngIf"],["staticTabs",""],["tabHeading",""],[1,"col-xs-12","col-sm-12","col-md-6","form-group"],["action","","method","post","enctype","multipart/form-data",1,"form-horizontal"],[1,"form-group","row"],[1,"col-md-3","col-form-label"],[1,"col-md-9"],[1,"form-control-static"],["for","no-emp",1,"col-md-3","col-form-label"],["type","number","id","no-emp","name","text-input","disabled","","placeholder","No empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","office",1,"col-md-3","col-form-label"],["type","text","id","oficina","name","oficina","disabled","","placeholder","Oficina empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","quantity",1,"col-md-3","col-form-label"],["type","number","id","quantity","name","quantity","min","100","placeholder","100.00","min","100","max","20000",1,"form-control",3,"disabled","ngModel","ngModelChange"],["class","help-block",4,"ngIf"],["for","start-date",1,"col-md-3","col-form-label"],["id","start-date","type","text","class","form-control","bsDatepicker","",3,"bsConfig","datesEnabled","bsValue","bsValueChange",4,"ngIf"],["type","text","id","start-date","name","start-date","class","form-control","disabled","","placeholder","fecha inicio descuentos",3,"ngModel","ngModelChange",4,"ngIf"],[1,"help-block"],["type","button","class","btn btn-sm btn-success",3,"disabled","click",4,"ngIf"],["class","alert alert-warning","role","alert",4,"ngIf"],["class","row",4,"ngIf"],["bsModal","","id","modalConfirmacion","tabindex","-1","role","dialog","aria-labelledby","modalConfirmacion","aria-hidden","true",1,"modal","modal-info","fade"],["modalConfirmacion","bs-modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalConfirmacionLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["for","inputPassword",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","password","id","inputPassword",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["id","noEmpHelp",1,"form-text","text-muted"],[1,"modal-footer"],["type","button",1,"btn",3,"ngClass","disabled","click"],["type","button",1,"btn","btn-warning",3,"click"],["type","danger",3,"dismissible"],[1,"icon-docs"],["id","start-date","type","text","bsDatepicker","",1,"form-control",3,"bsConfig","datesEnabled","bsValue","bsValueChange"],["dp","bsDatepicker"],["type","text","id","start-date","name","start-date","disabled","","placeholder","fecha inicio descuentos",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-sm","btn-success",3,"disabled","click"],[1,"fa","fa-dot-circle-o"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"],["role","alert",1,"alert","alert-warning"],[1,"col"],[1,"col-6"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"table","table-bordered","table-striped","table-sm"],[1,"thead-dark"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-danger"],["scope","row"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-danger"],["for","quantity1",1,"col-md-3","col-form-label"],["type","number","id","quantity1","name","quantity1","min","100","placeholder","100.00","min","100","max","20000",1,"form-control",3,"disabled","ngModel","ngModelChange"],["id","modif-date","type","text","class","form-control","bsDatepicker","",3,"bsConfig","datesEnabled","bsValue","bsValueChange",4,"ngIf"],["type","text","id","modif-date","name","modif-date","class","form-control","disabled","","placeholder","fecha inicio descuentos",3,"ngModel","ngModelChange",4,"ngIf"],[1,"icon-refresh"],["id","modif-date","type","text","bsDatepicker","",1,"form-control",3,"bsConfig","datesEnabled","bsValue","bsValueChange"],["type","text","id","modif-date","name","modif-date","disabled","","placeholder","fecha inicio descuentos",1,"form-control",3,"ngModel","ngModelChange"],["for","quantity3",1,"col-md-3","col-form-label"],["type","number","id","quantity3","name","quantity","min","100","placeholder","100.00","min","100","max","20000",1,"form-control",3,"disabled","ngModel","ngModelChange"],["for","account",1,"col-md-3","col-form-label"],["class","help-block text-danger",4,"ngIf"],[1,"icon-reload"],[1,"help-block","text-danger"],["type","number","id","quantity","name","quantity","min","100","disabled","","placeholder","100.00","min","100","max","20000",1,"form-control",3,"ngModel","ngModelChange"],["id","start-date","type","text","class","form-control","bsDatepicker","",3,"bsConfig","bsValue","bsValueChange",4,"ngIf"],["for","textarea-input",1,"col-md-3","col-form-label"],["id","textarea-input","name","textarea-input","rows","9","placeholder","Raz\xf3n o motivo de cancelaci\xf3n del ahorro",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"icon-envelope-open"],["id","start-date","type","text","bsDatepicker","",1,"form-control",3,"bsConfig","bsValue","bsValueChange"]],template:function(t,o){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Xb(4,"div",4),b.Xb(5,"strong"),b.Gc(6,"Tr\xe1mites ahorro"),b.Wb(),b.Wb(),b.Xb(7,"div",5),b.Xb(8,"div",1),b.Xb(9,"div",6),b.Ec(10,C,3,2,"div",7),b.Ec(11,F,1,0,"cybord-loader",8),b.Xb(12,"tabset",null,9),b.Xb(14,"tab"),b.Ec(15,A,2,0,"ng-template",10),b.Xb(16,"div",1),b.Xb(17,"div",11),b.Ec(18,G,3,1,"p",8),b.Xb(19,"form",12),b.Xb(20,"div",13),b.Xb(21,"label",14),b.Gc(22,"Nombre"),b.Wb(),b.Xb(23,"div",15),b.Xb(24,"p",16),b.Xb(25,"strong"),b.Gc(26),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(27,"div",13),b.Xb(28,"label",17),b.Gc(29,"No. empleado"),b.Wb(),b.Xb(30,"div",15),b.Xb(31,"input",18),b.ec("ngModelChange",(function(t){return o.usuario.noEmpleado=t})),b.Wb(),b.Wb(),b.Wb(),b.Xb(32,"div",13),b.Xb(33,"label",19),b.Gc(34,"Oficina"),b.Wb(),b.Xb(35,"div",15),b.Xb(36,"input",20),b.ec("ngModelChange",(function(t){return o.usuario.datosUsuario.OFICINA=t})),b.Wb(),b.Wb(),b.Wb(),b.Xb(37,"div",13),b.Xb(38,"label",21),b.Gc(39,"Descuento quincenal"),b.Wb(),b.Xb(40,"div",15),b.Xb(41,"input",22),b.ec("ngModelChange",(function(t){return o.solicitudAhorro.atributos.MONTO=t})),b.Wb(),b.Ec(42,I,2,0,"span",23),b.Wb(),b.Wb(),b.Xb(43,"div",13),b.Xb(44,"label",24),b.Gc(45,"Fecha inicio"),b.Wb(),b.Xb(46,"div",15),b.Ec(47,O,2,4,"input",25),b.Ec(48,M,1,1,"input",26),b.Ec(49,S,2,0,"span",23),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(50,"div",11),b.Xb(51,"span",27),b.Gc(52," Yo "),b.Xb(53,"strong"),b.Gc(54),b.Wb(),b.Gc(55," con n\xfamero de trabajador "),b.Xb(56,"strong"),b.Gc(57),b.Wb(),b.Gc(58," adscrito a la Oficina "),b.Xb(59,"strong"),b.Gc(60),b.Wb(),b.Gc(61," autorizo que por este medio se descuente de mi pago de n\xf3mina, la cantidad de "),b.Xb(62,"strong"),b.Gc(63),b.Wb(),b.Gc(64,"de manera quincenal a partir de la siguiente fecha "),b.Ec(65,N,3,3,"strong",8),b.Ec(66,P,2,1,"strong",8),b.Gc(67," , durante el per\xedodo correspondiente, autorizo que la cantidad retenida sea depositada en la cuenta del PROGRAMA DE AHORRO VOLUNTARIO. Estoy de acuerdo que la cantidad ahorrada y los intereses que se hubiesen generado me sean entregados al t\xe9rmino del per\xedodo. "),b.Wb(),b.Sb(68,"br"),b.Sb(69,"br"),b.Ec(70,D,4,2,"button",28),b.Ec(71,w,2,1,"div",29),b.Wb(),b.Wb(),b.Ec(72,U,6,0,"div",30),b.Ec(73,B,21,3,"div",30),b.Wb(),b.Ec(74,ct,68,22,"tab",8),b.Ec(75,Et,58,19,"tab",8),b.Ec(76,Lt,80,28,"tab",8),b.Wb(),b.Wb(),b.Wb(),b.Sb(77,"br"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(78,"div",31,32),b.Xb(80,"div",33),b.Xb(81,"div",34),b.Xb(82,"div",35),b.Xb(83,"h5",36),b.Gc(84,"Confirmacion"),b.Wb(),b.Xb(85,"button",37),b.ec("click",(function(){return o.cancelar()})),b.Xb(86,"span",38),b.Gc(87,"\xd7"),b.Wb(),b.Wb(),b.Wb(),b.Xb(88,"div",39),b.Xb(89,"p"),b.Gc(90,"\xbf "),b.Xb(91,"strong"),b.Gc(92),b.Wb(),b.Gc(93," estas seguro de enviar la solicitud? "),b.Wb(),b.Xb(94,"p"),b.Gc(95,"Al "),b.Xb(96,"strong"),b.Gc(97," realizar la solicitud"),b.Wb(),b.Gc(98," el sistema registra la persona y el momento en que realiza la transacci\xf3n."),b.Wb(),b.Xb(99,"form"),b.Xb(100,"div",13),b.Xb(101,"label",40),b.Gc(102,"No empleado"),b.Wb(),b.Xb(103,"div",41),b.Xb(104,"input",42),b.ec("ngModelChange",(function(t){return o.noEmpleado=t})),b.Wb(),b.Xb(105,"small",43),b.Gc(106,"Ingresa tu numero de empleado para desbloquear."),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(107,"div",44),b.Xb(108,"button",45),b.ec("click",(function(){return o.aceptar()})),b.Gc(109,"Realizar solicitud"),b.Wb(),b.Xb(110,"button",46),b.ec("click",(function(){return o.cancelar()})),b.Gc(111,"Salir"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Fb(10),b.nc("ngForOf",o.alerts),b.Fb(1),b.nc("ngIf",o.loading),b.Fb(7),b.nc("ngIf",void 0!==o.solicitudAhorro.id),b.Fb(8),b.Hc(o.usuario.nombre),b.Fb(5),b.nc("ngModel",o.usuario.noEmpleado),b.Fb(5),b.nc("ngModel",o.usuario.datosUsuario.OFICINA),b.Fb(5),b.nc("disabled",void 0!==o.solicitudAhorro.id&&"Rechazada"!==o.solicitudAhorro.status&&"Finalizada"!==o.solicitudCancelacion.status)("ngModel",o.solicitudAhorro.atributos.MONTO),b.Fb(1),b.nc("ngIf",void 0===o.solicitudAhorro.id),b.Fb(5),b.nc("ngIf",void 0===o.solicitudAhorro.atributos.FECHA||"Rechazada"===o.solicitudAhorro.status||"Finalizada"===o.solicitudCancelacion.status),b.Fb(1),b.nc("ngIf",void 0!==o.solicitudAhorro.atributos.FECHA&&"Rechazada"!==o.solicitudAhorro.status&&"Finalizada"!==o.solicitudCancelacion.status),b.Fb(1),b.nc("ngIf",void 0===o.solicitudAhorro.atributos.FECHA),b.Fb(5),b.Hc(o.usuario.nombre),b.Fb(3),b.Hc(o.usuario.noEmpleado),b.Fb(3),b.Hc(o.usuario.datosUsuario.OFICINA),b.Fb(3),b.Ic(" $ ",o.solicitudAhorro.atributos.MONTO," "),b.Fb(2),b.nc("ngIf",void 0===o.solicitudAhorro.id),b.Fb(1),b.nc("ngIf",void 0!==o.solicitudAhorro.id),b.Fb(4),b.nc("ngIf",(void 0===o.solicitudAhorro.id||"Rechazada"===o.solicitudAhorro.status||"Finalizada"===o.solicitudCancelacion.status)&&0===o.solicitudEnProgreso.length),b.Fb(1),b.nc("ngIf",o.solicitudEnProgreso.length>0),b.Fb(1),b.nc("ngIf",void 0!==o.solicitudAhorro.id&&"Rechazada"!==o.solicitudAhorro.status&&"Finalizada"!==o.solicitudAhorro.status),b.Fb(1),b.nc("ngIf",void 0!==o.solicitudAhorro.id&&o.solicitudAhorro.validaciones.length>0&&"Finalizada"!==o.solicitudCancelacion.status),b.Fb(1),b.nc("ngIf","Finalizada"===o.solicitudAhorro.status&&"Finalizada"!==o.solicitudCancelacion.status),b.Fb(1),b.nc("ngIf","Finalizada"===o.solicitudAhorro.status&&"Finalizada"!==o.solicitudCancelacion.status),b.Fb(1),b.nc("ngIf","Finalizada"===o.solicitudAhorro.status),b.Fb(16),b.Hc(o.usuario.nombre),b.Fb(12),b.nc("ngModel",o.noEmpleado)("ngModelOptions",b.pc(30,xt)),b.Fb(4),b.nc("ngClass",b.rc(31,Bt,o.noEmpleado===o.usuario.noEmpleado,o.noEmpleado!==o.usuario.noEmpleado))("disabled",o.noEmpleado!==o.usuario.noEmpleado))},directives:[e.m,e.n,f.d,f.a,f.b,p.q,p.i,p.j,p.m,p.b,p.h,p.k,m.a,e.l,W.a,X.a,v.b,v.a],pipes:[e.f,e.d],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}"]}),t})();var qt=i("lJxs"),zt=i("Nr/o"),_t=i("bH2/");const $t=["modalConfirmacion"],Yt=["avalSelector"];function jt(t,o){1&t&&(b.Xb(0,"h5"),b.Xb(1,"span",71),b.Gc(2,"VALIDACION AVALES"),b.Wb(),b.Wb())}function Qt(t,o){1&t&&(b.Xb(0,"h5"),b.Xb(1,"span",72),b.Gc(2,"VALIDACION RECURSOS HUMANOS"),b.Wb(),b.Wb())}function Zt(t,o){1&t&&(b.Xb(0,"h5"),b.Xb(1,"span",72),b.Gc(2,"VALIDACION CONTABILIDAD"),b.Wb(),b.Wb())}function Jt(t,o){1&t&&(b.Xb(0,"h5"),b.Xb(1,"span",73),b.Gc(2,"VALIDACION GERENCIA "),b.Wb(),b.Wb())}function Kt(t,o){1&t&&(b.Xb(0,"h5"),b.Xb(1,"span",74),b.Gc(2,"DEPOSITO TESORERIA"),b.Wb(),b.Wb())}function to(t,o){1&t&&(b.Xb(0,"h5"),b.Xb(1,"span",75),b.Gc(2,"RECHAZADA"),b.Wb(),b.Wb())}function oo(t,o){if(1&t&&(b.Xb(0,"div"),b.Xb(1,"alert",76),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=o.$implicit;b.Fb(1),b.nc("dismissible",!0),b.Fb(1),b.Hc(t)}}function io(t,o){1&t&&b.Sb(0,"cybord-loader")}function eo(t,o){1&t&&(b.Xb(0,"p"),b.Xb(1,"strong"),b.Gc(2,"Paso 1 Revise y coloque la infromaci\xf3n general del prestamo"),b.Wb(),b.Wb())}function ao(t,o){if(1&t&&(b.Xb(0,"p"),b.Xb(1,"strong"),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=b.gc();b.Fb(2),b.Ic("Solicitud No. ",t.solicitud.id,"")}}const no=function(){return{containerClass:"theme-dark-blue"}};function co(t,o){if(1&t){const t=b.Yb();b.Xb(0,"input",77,78),b.ec("bsValueChange",(function(o){return b.yc(t),b.gc().bsValue=o})),b.Wb()}if(2&t){const t=b.gc();b.nc("bsConfig",b.pc(3,no))("datesEnabled",t.enabledDates)("bsValue",t.bsValue)}}function so(t,o){if(1&t){const t=b.Yb();b.Xb(0,"input",79),b.ec("ngModelChange",(function(o){return b.yc(t),b.gc().solicitud.atributos.FECHA=o})),b.Wb()}if(2&t){const t=b.gc();b.nc("ngModel",t.solicitud.atributos.FECHA)}}function ro(t,o){1&t&&(b.Xb(0,"span",80),b.Gc(1,"fecha inicio descuentos"),b.Wb())}function bo(t,o){if(1&t&&(b.Xb(0,"tr"),b.Xb(1,"td",85),b.Gc(2),b.Wb(),b.Xb(3,"td",85),b.Gc(4),b.Wb(),b.Xb(5,"td",86),b.Gc(6),b.Wb(),b.Wb()),2&t){const t=o.$implicit;b.Fb(2),b.Hc(t.nombreAval),b.Fb(2),b.Hc(t.estatus),b.Fb(2),b.Hc(t.comentarios)}}function lo(t,o){if(1&t&&(b.Xb(0,"table",83),b.Xb(1,"thead",84),b.Xb(2,"tr"),b.Xb(3,"th"),b.Gc(4,"DATOS AVAL"),b.Wb(),b.Xb(5,"th"),b.Gc(6,"STATUS"),b.Wb(),b.Xb(7,"th"),b.Gc(8,"COMENTARIOS"),b.Wb(),b.Wb(),b.Wb(),b.Xb(9,"tbody"),b.Ec(10,bo,7,3,"tr",9),b.Wb(),b.Wb()),2&t){const t=b.gc(2);b.Fb(10),b.nc("ngForOf",t.aceptacionAvales)}}function uo(t,o){1&t&&b.Sb(0,"i",90)}function ho(t,o){if(1&t){const t=b.Yb();b.Xb(0,"button",87),b.ec("click",(function(){return b.yc(t),b.gc(2).cancelRequest()})),b.Sb(1,"i",88),b.Gc(2,"\xa0Cancelar solicitud"),b.Ec(3,uo,1,0,"i",89),b.Wb()}if(2&t){const t=b.gc(2);b.Fb(3),b.nc("ngIf",t.loading)}}function go(t,o){if(1&t&&(b.Xb(0,"div",10),b.Xb(1,"strong"),b.Gc(2,"Estatus de aceptaci\xf3n avales"),b.Wb(),b.Sb(3,"br"),b.Sb(4,"br"),b.Ec(5,lo,11,1,"table",81),b.Sb(6,"br"),b.Sb(7,"br"),b.Ec(8,ho,4,1,"button",82),b.Wb()),2&t){const t=b.gc();b.Fb(5),b.nc("ngIf",t.aceptacionAvales.length>0),b.Fb(3),b.nc("ngIf",void 0!==t.solicitud.id)}}function fo(t,o){1&t&&(b.Xb(0,"p"),b.Xb(1,"strong"),b.Gc(2,"Paso 2 Registre a los avales requeridos"),b.Wb(),b.Wb())}function po(t,o){if(1&t&&b.Sb(0,"a",100),2&t){const t=o.$implicit;b.nc("innerHTML",t.noEmpleado+" - "+t.nombre,b.zc)}}function mo(t,o){1&t&&b.Sb(0,"div",100),2&t&&b.nc("innerHTML","NO ENCONTRADO",b.zc)}function Wo(t,o){if(1&t){const t=b.Yb();b.Xb(0,"div",12),b.Xb(1,"label",94),b.Gc(2,"Selecci\xf3n de avales"),b.Wb(),b.Xb(3,"div",14),b.Xb(4,"div",95),b.Xb(5,"ng-autocomplete",96,97),b.ec("selected",(function(o){return b.yc(t),b.gc(2).avalSelected(o)}))("ngModelChange",(function(o){return b.yc(t),b.gc(2).autocomplete=o})),b.Wb(),b.Ec(7,po,1,1,"ng-template",null,98,b.Fc),b.Ec(9,mo,1,1,"ng-template",null,99,b.Fc),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=b.vc(8),o=b.vc(10),i=b.gc(2);b.Fb(5),b.nc("data",i.avalesList)("searchKeyword","nombre")("ngModel",i.autocomplete)("itemTemplate",t)("notFoundTemplate",o)}}function Xo(t,o){if(1&t&&(b.Xb(0,"small",101),b.Gc(1),b.Wb()),2&t){const t=b.gc(2);b.Fb(1),b.Ic("",t.noAvales-t.avales.length," avales son requeridos")}}function vo(t,o){1&t&&(b.Xb(0,"p"),b.Xb(1,"strong"),b.Gc(2,"Lista de Avales"),b.Wb(),b.Wb())}function Eo(t,o){if(1&t){const t=b.Yb();b.Xb(0,"li"),b.Xb(1,"div"),b.Xb(2,"button",102),b.ec("click",(function(){b.yc(t);const i=o.$implicit;return b.gc(2).removeAval(i)})),b.Sb(3,"i",103),b.Wb(),b.Gc(4,"\xa0\xa0"),b.Xb(5,"strong"),b.Gc(6),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=o.$implicit;b.Fb(6),b.Hc(t.nombre)}}function Co(t,o){if(1&t&&(b.Xb(0,"div"),b.Xb(1,"p"),b.Xb(2,"strong"),b.Gc(3,"TOTAL A PAGAR : "),b.Wb(),b.Gc(4),b.hc(5,"currency"),b.Wb(),b.Xb(6,"p"),b.Xb(7,"strong"),b.Gc(8,"PAGO QUINCENAL : "),b.Wb(),b.Gc(9),b.hc(10,"currency"),b.Wb(),b.Wb()),2&t){const t=b.gc(2);b.Fb(4),b.Hc(b.ic(5,2,t.totalPagar)),b.Fb(5),b.Hc(b.ic(10,4,t.pagoQuincenal))}}function Fo(t,o){1&t&&b.Sb(0,"i",90)}function Ao(t,o){if(1&t){const t=b.Yb();b.Xb(0,"button",104),b.ec("click",(function(){return b.yc(t),b.gc(2).openModal()})),b.Sb(1,"i",88),b.Gc(2,"\xa0Enviar solicitud"),b.Ec(3,Fo,1,0,"i",89),b.Wb()}if(2&t){const t=b.gc(2);b.Fb(3),b.nc("ngIf",t.loading)}}function Go(t,o){if(1&t&&(b.Xb(0,"div",10),b.Ec(1,fo,3,0,"p",6),b.Sb(2,"br"),b.Ec(3,Wo,11,5,"div",91),b.Ec(4,Xo,2,1,"small",92),b.Ec(5,vo,3,0,"p",6),b.Xb(6,"ul"),b.Ec(7,Eo,7,1,"li",9),b.Wb(),b.Sb(8,"br"),b.Ec(9,Co,11,6,"div",6),b.Sb(10,"br"),b.Ec(11,Ao,4,1,"button",93),b.Wb()),2&t){const t=b.gc();b.Fb(1),b.nc("ngIf",void 0===t.solicitud.id),b.Fb(2),b.nc("ngIf",0==t.avales.length||t.avales.length<t.noAvales),b.Fb(1),b.nc("ngIf",0==t.avales.length||t.avales.length<t.noAvales),b.Fb(1),b.nc("ngIf",t.avales.length>0),b.Fb(2),b.nc("ngForOf",t.avales),b.Fb(2),b.nc("ngIf",t.avales.length>0&&t.avales.length===t.noAvales),b.Fb(2),b.nc("ngIf",void 0===t.solicitud.id&&t.avales.length>0&&t.avales.length===t.noAvales)}}function Io(t,o){if(1&t&&(b.Xb(0,"div",105),b.Gc(1),b.Wb()),2&t){const t=b.gc();b.Fb(1),b.Ic(" ",t.success," ")}}const yo=function(){return{standalone:!0}},Oo=function(t,o){return{"btn-primary":t,"btn-secondary":o}};let Mo=(()=>{class t{constructor(t,o,i,e,a){this.datepipe=t,this.userService=o,this.solicitudService=i,this.catService=e,this.avalService=a,this.oficinas=[],this.loading=!1,this.usuario=new s.a,this.totalAhorro=0,this.errorMessages=[],this.success="",this.alerts=[],this.enabledDates=[],this.solicitud=new r.a,this.avalesList=[],this.avales=[],this.aceptacionAvales=[],this.totalPagar=0,this.pagoQuincenal=0,this.noAvales=1}ngOnInit(){this.loading=!0,this.calculateEnabledDates(),this.loadRequestInfo()}loadRequestInfo(){return Object(c.a)(this,void 0,void 0,(function*(){try{const t=yield this.userService.myInfo();this.usuario=yield this.userService.getUsuario(t.id).toPromise();const o=yield this.catService.getCatalogoByTipoAndNombre("oficinas",this.usuario.datosUsuario.OFICINA).toPromise(),i=yield this.catService.getCatalogoByTipoAndNombre("bancos",this.usuario.datosUsuario.BANCO).toPromise();this.usuario.datosUsuario.OFICINA=o.valor,this.usuario.datosUsuario.BANCO=i.valor,this.userService.getUsuarios({tipoUsuario:this.usuario.tipoUsuario,size:1e3}).pipe(Object(qt.a)(t=>t.content)).subscribe(t=>{t.splice(t.findIndex(t=>t.noEmpleado===this.usuario.noEmpleado),1),this.avalesList=t});const e=yield this.solicitudService.getSolicitudesByUsuario(t.id).toPromise();let a;e.length>0&&(a=e.sort((t,o)=>new Date(o.fechaCreacion).getTime()-new Date(t.fechaCreacion).getTime()).find(t=>"SolicitudPrestamo"===t.tipo&&"Finalizada"!==t.status&&"Cancelada"!==t.status)),null!=a?(this.solicitud=a,this.aceptacionAvales=yield this.avalService.getAceptacionesPorSolicitud(a.id).toPromise()):(this.solicitud=new r.a("SolicitudPrestamo"),this.solicitud.atributos.NO_QUINCENAS="24",this.solicitud.atributos.MONTO="500"),this.loading=!1}catch(t){this.alerts.push(t),this.loading=!1}}))}onChangeNoQuincenas(t){this.solicitud.atributos.NO_QUINCENAS=t,this.calculateValues()}onChangeAmount(t){this.calculateValues(),this.solicitud.atributos.MONTO=t}calculateValues(){let t=3,o=+this.solicitud.atributos.MONTO;t=o<=1e3?1:o>1e3&&o<=2e3?2:3,this.noAvales=+this.usuario.datosUsuario.NO_AVALES<=t?+this.usuario.datosUsuario.NO_AVALES:t,this.totalPagar=o+.01*o*+this.solicitud.atributos.NO_QUINCENAS,this.pagoQuincenal=o/+this.solicitud.atributos.NO_QUINCENAS+.01*o,this.solicitud.atributos.DESCUENTO_QUINCENAL=""+this.pagoQuincenal,this.solicitud.atributos.TOTAL_A_PAGAR=""+this.totalPagar}avalSelected(t){this.avales.push(t),this.avalesList.splice(this.avalesList.indexOf(t),1),this.avalSelector.clear()}removeAval(t){this.avalesList.push(t),this.avales.splice(this.avales.indexOf(t),1)}sendRequest(){return Object(c.a)(this,void 0,void 0,(function*(){try{this.loading=!0,this.solicitud.idUsuario=this.usuario.id,this.solicitud.noEmpleado=this.usuario.noEmpleado,this.solicitud.nombre=this.usuario.nombre,this.solicitud.tipoUsuario=this.usuario.tipoUsuario,this.solicitud.atributos.FECHA=this.datepipe.transform(this.bsValue,"yyyy-MM-dd"),this.noAvales>=1&&(this.solicitud.atributos.AVAL1=this.avales[0].id.toString()),this.noAvales>=2&&(this.solicitud.atributos.AVAL2=this.avales[1].id.toString()),3===this.noAvales&&(this.solicitud.atributos.AVAL3=this.avales[2].id.toString()),this.solicitud=yield this.solicitudService.postSolictudUsuario(this.usuario.id,this.solicitud).toPromise(),this.modalConfirmacion.hide(),this.aceptacionAvales=yield this.avalService.getAceptacionesPorSolicitud(this.solicitud.id).toPromise(),this.success="La solicitud de prestamo se ha enviado correctamente."}catch(t){this.alerts.push(t)}this.loading=!1}))}cancelRequest(){return Object(c.a)(this,void 0,void 0,(function*(){try{this.loading=!0,this.solicitud.status="Cancelada",this.solicitud=yield this.solicitudService.putSolictud(this.solicitud.id,this.solicitud).toPromise(),this.success="La solicitud de prestamo se ha cancelado correctamente."}catch(t){this.alerts.push(t)}this.loading=!1}))}openModal(){this.modalConfirmacion.show()}cancelar(){this.modalConfirmacion.hide()}calculateEnabledDates(){const t=new Date;t.getDate()<15&&(t.setDate(15),t.setMonth(t.getMonth()),this.enabledDates.push(t));for(let o=1;o<5;o++){const t=new Date;t.setDate(1),t.setMonth(t.getMonth()+o),this.enabledDates.push(t);const i=new Date;i.setDate(15),i.setMonth(i.getMonth()+o),this.enabledDates.push(i)}this.bsValue=this.enabledDates[0]}}return t.\u0275fac=function(o){return new(o||t)(b.Rb(e.f),b.Rb(d.a),b.Rb(l.a),b.Rb(u.a),b.Rb(zt.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["cybord-tramites-prestamo"]],viewQuery:function(t,o){var i;1&t&&(b.Lc($t,!0),b.Lc(Yt,!0)),2&t&&(b.uc(i=b.fc())&&(o.modalConfirmacion=i.first),b.uc(i=b.fc())&&(o.avalSelector=i.first))},decls:172,vars:41,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"clearfix"],[4,"ngIf"],[1,"card-body"],[1,"col-sm-12"],[4,"ngFor","ngForOf"],[1,"col-xs-12","col-sm-12","col-md-6","form-group"],["action","","method","post","enctype","multipart/form-data",1,"form-horizontal"],[1,"form-group","row"],[1,"col-md-3","col-form-label"],[1,"col-md-9"],[1,"form-control-static"],["for","no-emp",1,"col-md-3","col-form-label"],["type","number","id","no-emp","name","text-input","disabled","","placeholder","No empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","office",1,"col-md-3","col-form-label"],["type","text","id","oficina","name","oficina","disabled","","placeholder","Oficina empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","quincenasNumber",1,"col-md-3","col-form-label"],["id","quincenasNumber","name","quincenasNumber",1,"form-control",3,"ngModel","disabled","ngModelChange","input"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["value","13"],["value","14"],["value","15"],["value","16"],["value","17"],["value","18"],["value","19"],["value","20"],["value","21"],["value","22"],["value","23"],["value","24"],["for","quantity",1,"col-md-3","col-form-label"],["type","number","id","quantity","name","quantity","placeholder","Cantidad solicitada",1,"form-control",3,"ngModel","disabled","ngModelChange","input"],["for","start-date",1,"col-md-3","col-form-label"],["id","start-date","type","text","class","form-control","bsDatepicker","",3,"bsConfig","datesEnabled","bsValue","bsValueChange",4,"ngIf"],["type","text","id","start-date","name","start-date","class","form-control","disabled","","placeholder","fecha inicio descuentos",3,"ngModel","ngModelChange",4,"ngIf"],["class","help-block",4,"ngIf"],["class","col-xs-12 col-sm-12 col-md-6 form-group",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["bsModal","","id","modalConfirmacion","tabindex","-1","role","dialog","aria-labelledby","modalConfirmacion","aria-hidden","true",1,"modal","modal-info","fade"],["modalConfirmacion","bs-modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalConfirmacionLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"help-block","text-justify","text-danger"],["for","inputPassword",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","password","id","inputPassword",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["id","noEmpHelp",1,"form-text","text-muted"],[1,"modal-footer"],["type","button",1,"btn",3,"ngClass","disabled","click"],["type","button",1,"btn","btn-warning",3,"click"],[1,"badge","badge-info","float-right"],[1,"badge","badge-success","float-right"],[1,"badge","badge-primary","float-right"],[1,"badge","badge-warning","float-right"],[1,"badge","badge-danger","float-right"],["type","danger",3,"dismissible"],["id","start-date","type","text","bsDatepicker","",1,"form-control",3,"bsConfig","datesEnabled","bsValue","bsValueChange"],["dp","bsDatepicker"],["type","text","id","start-date","name","start-date","disabled","","placeholder","fecha inicio descuentos",1,"form-control",3,"ngModel","ngModelChange"],[1,"help-block"],["class","table table-bordered table-striped table-sm",4,"ngIf"],["type","button","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[1,"table","table-bordered","table-striped","table-sm"],[1,"thead-dark"],["scope","row"],["scope","row",1,"text-right"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa","fa-dot-circle-o"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"fa","fa-spinner","fa-spin"],["class","form-group row",4,"ngIf"],["id","avales","class","form-text text-danger",4,"ngIf"],["type","button","class","btn btn-sm btn-success",3,"click",4,"ngIf"],["for","autocomplete",1,"col-md-3","col-form-label"],[1,"ng-autocomplete"],["placeholder","Ingrese el nombre del aval",3,"data","searchKeyword","ngModel","itemTemplate","notFoundTemplate","selected","ngModelChange"],["avalSelector",""],["itemTemplate",""],["notFoundTemplate",""],[3,"innerHTML"],["id","avales",1,"form-text","text-danger"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fa","fa","fa-times"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],["role","alert",1,"alert","alert-success"]],template:function(t,o){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Ec(6,jt,3,0,"h5",6),b.Ec(7,Qt,3,0,"h5",6),b.Ec(8,Zt,3,0,"h5",6),b.Ec(9,Jt,3,0,"h5",6),b.Ec(10,Kt,3,0,"h5",6),b.Ec(11,to,3,0,"h5",6),b.Wb(),b.Xb(12,"strong"),b.Gc(13,"Solicitud de prestamo"),b.Wb(),b.Wb(),b.Xb(14,"div",7),b.Xb(15,"div",1),b.Xb(16,"div",8),b.Ec(17,oo,3,2,"div",9),b.Ec(18,io,1,0,"cybord-loader",6),b.Sb(19,"br"),b.Sb(20,"br"),b.Xb(21,"div",1),b.Xb(22,"div",10),b.Ec(23,eo,3,0,"p",6),b.Ec(24,ao,3,1,"p",6),b.Xb(25,"form",11),b.Xb(26,"div",12),b.Xb(27,"label",13),b.Gc(28,"Nombre"),b.Wb(),b.Xb(29,"div",14),b.Xb(30,"p",15),b.Xb(31,"strong"),b.Gc(32),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(33,"div",12),b.Xb(34,"label",16),b.Gc(35,"No. empleado"),b.Wb(),b.Xb(36,"div",14),b.Xb(37,"input",17),b.ec("ngModelChange",(function(t){return o.usuario.noEmpleado=t})),b.Wb(),b.Wb(),b.Wb(),b.Xb(38,"div",12),b.Xb(39,"label",18),b.Gc(40,"Oficina"),b.Wb(),b.Xb(41,"div",14),b.Xb(42,"input",19),b.ec("ngModelChange",(function(t){return o.usuario.datosUsuario.OFICINA=t})),b.Wb(),b.Wb(),b.Wb(),b.Xb(43,"div",12),b.Xb(44,"label",20),b.Gc(45,"No quincenas para liquidar"),b.Wb(),b.Xb(46,"div",14),b.Xb(47,"select",21),b.ec("ngModelChange",(function(t){return o.solicitud.atributos.NO_QUINCENAS=t}))("input",(function(t){return o.onChangeNoQuincenas(t.target.value)})),b.Xb(48,"option",22),b.Gc(49,"1"),b.Wb(),b.Xb(50,"option",23),b.Gc(51,"2"),b.Wb(),b.Xb(52,"option",24),b.Gc(53,"3"),b.Wb(),b.Xb(54,"option",25),b.Gc(55,"4"),b.Wb(),b.Xb(56,"option",26),b.Gc(57,"5"),b.Wb(),b.Xb(58,"option",27),b.Gc(59,"6"),b.Wb(),b.Xb(60,"option",28),b.Gc(61,"7"),b.Wb(),b.Xb(62,"option",29),b.Gc(63,"8"),b.Wb(),b.Xb(64,"option",30),b.Gc(65,"9"),b.Wb(),b.Xb(66,"option",31),b.Gc(67,"10"),b.Wb(),b.Xb(68,"option",32),b.Gc(69,"11"),b.Wb(),b.Xb(70,"option",33),b.Gc(71,"12"),b.Wb(),b.Xb(72,"option",34),b.Gc(73,"13"),b.Wb(),b.Xb(74,"option",35),b.Gc(75,"14"),b.Wb(),b.Xb(76,"option",36),b.Gc(77,"15"),b.Wb(),b.Xb(78,"option",37),b.Gc(79,"16"),b.Wb(),b.Xb(80,"option",38),b.Gc(81,"17"),b.Wb(),b.Xb(82,"option",39),b.Gc(83,"18"),b.Wb(),b.Xb(84,"option",40),b.Gc(85,"19"),b.Wb(),b.Xb(86,"option",41),b.Gc(87,"20"),b.Wb(),b.Xb(88,"option",42),b.Gc(89,"21"),b.Wb(),b.Xb(90,"option",43),b.Gc(91,"22"),b.Wb(),b.Xb(92,"option",44),b.Gc(93,"23"),b.Wb(),b.Xb(94,"option",45),b.Gc(95,"24"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(96,"div",12),b.Xb(97,"label",46),b.Gc(98,"Cantidad solicitada"),b.Wb(),b.Xb(99,"div",14),b.Xb(100,"input",47),b.ec("ngModelChange",(function(t){return o.solicitud.atributos.MONTO=t}))("input",(function(t){return o.onChangeAmount(t.target.value)})),b.Wb(),b.Wb(),b.Wb(),b.Xb(101,"div",12),b.Xb(102,"label",48),b.Gc(103,"Fecha inicio"),b.Wb(),b.Xb(104,"div",14),b.Ec(105,co,2,4,"input",49),b.Ec(106,so,1,1,"input",50),b.Ec(107,ro,2,0,"span",51),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Ec(108,go,9,2,"div",52),b.Ec(109,Go,12,7,"div",52),b.Wb(),b.Wb(),b.Wb(),b.Ec(110,Io,2,1,"div",53),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(111,"div",54,55),b.Xb(113,"div",56),b.Xb(114,"div",57),b.Xb(115,"div",58),b.Xb(116,"h5",59),b.Gc(117,"Confirmacion"),b.Wb(),b.Xb(118,"button",60),b.ec("click",(function(){return o.cancelar()})),b.Xb(119,"span",61),b.Gc(120,"\xd7"),b.Wb(),b.Wb(),b.Wb(),b.Xb(121,"div",62),b.Xb(122,"span",63),b.Gc(123," Yo "),b.Xb(124,"strong"),b.Gc(125),b.Wb(),b.Gc(126," con n\xfamero de trabajador "),b.Xb(127,"strong"),b.Gc(128),b.Wb(),b.Gc(129," adscrito a la Oficina "),b.Xb(130,"strong"),b.Gc(131),b.Wb(),b.Gc(132," solicito por este medio un prestamo por la cantidad de "),b.Xb(133,"strong"),b.Gc(134),b.Wb(),b.Gc(135,", mismo que ser\xe1 pagado en "),b.Xb(136,"strong"),b.Gc(137),b.Wb(),b.Gc(138," quincenas, con descuentos a n\xf3mina quincenalmente la por la cantidad de "),b.Xb(139,"strong"),b.Gc(140),b.Wb(),b.Gc(141," aplicable a partir de "),b.Xb(142,"strong"),b.Gc(143),b.hc(144,"date"),b.Wb(),b.Gc(145,". "),b.Wb(),b.Sb(146,"br"),b.Sb(147,"br"),b.Xb(148,"p"),b.Gc(149,"\xbf "),b.Xb(150,"strong"),b.Gc(151),b.Wb(),b.Gc(152," estas seguro de enviar la solicitud? "),b.Sb(153,"br"),b.Wb(),b.Xb(154,"p"),b.Gc(155,"Al "),b.Xb(156,"strong"),b.Gc(157," realizar la solicitud"),b.Wb(),b.Gc(158," el sistema registra la persona y el momento en que realiza la transacci\xf3n."),b.Wb(),b.Xb(159,"form"),b.Xb(160,"div",12),b.Xb(161,"label",64),b.Gc(162,"No empleado"),b.Wb(),b.Xb(163,"div",65),b.Xb(164,"input",66),b.ec("ngModelChange",(function(t){return o.noEmpleado=t})),b.Wb(),b.Xb(165,"small",67),b.Gc(166,"Ingresa tu numero de empleado para desbloquear."),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(167,"div",68),b.Xb(168,"button",69),b.ec("click",(function(){return o.sendRequest()})),b.Gc(169,"Realizar solicitud"),b.Wb(),b.Xb(170,"button",70),b.ec("click",(function(){return o.cancelar()})),b.Gc(171,"Salir"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Fb(6),b.nc("ngIf","Solicitud"===o.solicitud.status),b.Fb(1),b.nc("ngIf","ValidacionRH"===o.solicitud.status),b.Fb(1),b.nc("ngIf","ValidacionConta"===o.solicitud.status),b.Fb(1),b.nc("ngIf","ValidacionGerenciaExterna"===o.solicitud.status||"ValidacionGerenciaInterna"===o.solicitud.status),b.Fb(1),b.nc("ngIf","ValidacionTeso"===o.solicitud.status),b.Fb(1),b.nc("ngIf","Rechazada"===o.solicitud.status),b.Fb(6),b.nc("ngForOf",o.alerts),b.Fb(1),b.nc("ngIf",o.loading),b.Fb(5),b.nc("ngIf",void 0===o.solicitud.id),b.Fb(1),b.nc("ngIf",void 0!==o.solicitud.id),b.Fb(8),b.Hc(o.usuario.nombre),b.Fb(5),b.nc("ngModel",o.usuario.noEmpleado),b.Fb(5),b.nc("ngModel",o.usuario.datosUsuario.OFICINA),b.Fb(5),b.nc("ngModel",o.solicitud.atributos.NO_QUINCENAS)("disabled",null!=o.solicitud.id),b.Fb(53),b.nc("ngModel",o.solicitud.atributos.MONTO)("disabled",null!=o.solicitud.id),b.Fb(5),b.nc("ngIf",void 0===o.solicitud.atributos.FECHA),b.Fb(1),b.nc("ngIf",void 0!==o.solicitud.atributos.FECHA),b.Fb(1),b.nc("ngIf",void 0===o.solicitud.atributos.FECHA),b.Fb(1),b.nc("ngIf",void 0!==o.solicitud.id),b.Fb(1),b.nc("ngIf",void 0===o.solicitud.id),b.Fb(1),b.nc("ngIf",o.success.length>0),b.Fb(15),b.Hc(o.usuario.nombre),b.Fb(3),b.Hc(o.usuario.noEmpleado),b.Fb(3),b.Hc(o.usuario.datosUsuario.OFICINA),b.Fb(3),b.Ic(" $ ",o.solicitud.atributos.MONTO," "),b.Fb(3),b.Ic(" ",o.solicitud.atributos.NO_QUINCENAS,""),b.Fb(3),b.Ic(" $ ",o.solicitud.atributos.DESCUENTO_QUINCENAL,""),b.Fb(3),b.Hc(b.ic(144,35,o.bsValue)),b.Fb(8),b.Hc(o.usuario.nombre),b.Fb(13),b.nc("ngModel",o.noEmpleado)("ngModelOptions",b.pc(37,yo)),b.Fb(4),b.nc("ngClass",b.rc(38,Oo,o.noEmpleado===o.usuario.noEmpleado,o.noEmpleado!==o.usuario.noEmpleado))("disabled",o.noEmpleado!==o.usuario.noEmpleado))},directives:[e.n,e.m,p.q,p.i,p.j,p.m,p.b,p.h,p.k,p.o,p.l,p.p,m.a,e.l,W.a,X.a,v.b,v.a,_t.a],pipes:[e.f,e.d],styles:[".ng-autocomplete[_ngcontent-%COMP%]{width:100%;max-width:600px;display:table;margin:0 auto}"]}),t})();const So=["modalConfirmacion"];function No(t,o){if(1&t&&(b.Xb(0,"div"),b.Xb(1,"alert",36),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=o.$implicit;b.Fb(1),b.nc("dismissible",!0),b.Fb(1),b.Hc(t)}}function Po(t,o){1&t&&b.Sb(0,"cybord-loader")}function Ro(t,o){1&t&&(b.Xb(0,"div",37),b.Gc(1," No se encontraron resultados "),b.Wb())}function Do(t,o){1&t&&(b.Xb(0,"td",43),b.Xb(1,"span",44),b.Gc(2,"PENDIENTE"),b.Wb(),b.Wb())}function wo(t,o){1&t&&(b.Xb(0,"td",43),b.Xb(1,"span",45),b.Gc(2,"ACEPTADO"),b.Wb(),b.Wb())}function Uo(t,o){1&t&&(b.Xb(0,"td",43),b.Xb(1,"span",46),b.Gc(2,"RECHAZADO"),b.Wb(),b.Wb())}function To(t,o){if(1&t){const t=b.Yb();b.Xb(0,"tr"),b.Xb(1,"td",39),b.Xb(2,"button",40),b.ec("click",(function(){b.yc(t);const i=o.$implicit;return b.gc(2).mostrarInformacion(i)})),b.Sb(3,"i",41),b.Wb(),b.Wb(),b.Xb(4,"td",25),b.Gc(5),b.Wb(),b.Xb(6,"td",25),b.Gc(7),b.Wb(),b.Xb(8,"td",25),b.Gc(9),b.Wb(),b.Ec(10,Do,3,0,"td",42),b.Ec(11,wo,3,0,"td",42),b.Ec(12,Uo,3,0,"td",42),b.Wb()}if(2&t){const t=o.$implicit,i=b.gc(2);b.Fb(5),b.Hc(t.nombreDeudor),b.Fb(2),b.Ic("$ ",t.montoPrestamo,""),b.Fb(2),b.Hc(i.fecha(t.fechaCreacion)),b.Fb(1),b.nc("ngIf","SOLICITUD"===t.estatus),b.Fb(1),b.nc("ngIf","APROBADO"===t.estatus),b.Fb(1),b.nc("ngIf","RECHAZADO"===t.estatus)}}function Ho(t,o){if(1&t&&(b.Xb(0,"div",23),b.Xb(1,"table",24),b.Xb(2,"thead",38),b.Xb(3,"tr"),b.Xb(4,"th"),b.Gc(5,"Acciones"),b.Wb(),b.Xb(6,"th"),b.Gc(7,"Nombre del deudor"),b.Wb(),b.Xb(8,"th"),b.Gc(9,"Monto"),b.Wb(),b.Xb(10,"th"),b.Gc(11,"Fecha"),b.Wb(),b.Xb(12,"th"),b.Gc(13,"Status"),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"tbody"),b.Ec(15,To,13,6,"tr",7),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.gc();b.Fb(15),b.nc("ngForOf",t.avales)}}function ko(t,o){if(1&t&&(b.Xb(0,"p",47),b.Gc(1),b.Wb()),2&t){const t=b.gc();b.Fb(1),b.Hc(t.params.success)}}function Lo(t,o){1&t&&b.Sb(0,"cybord-loader")}const xo=function(){return{standalone:!0}},Bo=function(t,o){return{"btn-success":t,"btn-secondary":o}},Vo=function(t,o){return{"btn-danger":t,"btn-secondary":o}};let qo=(()=>{class t{constructor(t,o,i){this.avalService=t,this.solicitudService=o,this.userService=i,this.errorMessages=[],this.alerts=[],this.mensajeModal="",this.params={success:"",message:"",id:"*",module:"usuarios"},this.avales=[],this.loading=!1,this.mostrando=!1,this.confirmacion="",this.seleccion=null,this.informacion={monto:"",nombreDeudor:"",status:"",inicio:"",noQuincenas:"",descuento:""},this.noEmpleado="",this.usuario=new s.a}ngOnInit(){this.loading=!0,this.userService.myInfo().then(t=>{this.usuario=t,this.noEmpleado=t.noEmpleado,this.avalService.getAceptacionesPendientesPorIdUsuario(t.id).toPromise().then(t=>{this.avales=t,this.loading=!1}).catch(t=>{this.errorMessages.push(t),this.loading=!1})}).catch(t=>{this.errorMessages.push(t),this.loading=!1})}mostrarInformacion(t){return Object(c.a)(this,void 0,void 0,(function*(){this.loading=!0;try{this.prestamo=yield this.solicitudService.getSolicitudesById(t.idSolicitud).toPromise(),this.informacion.monto=t.montoPrestamo,this.informacion.nombreDeudor=t.nombreDeudor,this.informacion.inicio=this.prestamo.atributos.FECHA,this.informacion.noQuincenas=this.prestamo.atributos.NO_QUINCENAS,this.informacion.descuento=this.prestamo.atributos.DESCUENTO_QUINCENAL,this.seleccion=t}catch(o){this.errorMessages.push(o),this.loading=!1}this.loading=!1,this.openModal()}))}fecha(t){var o=new Date(t);return o.toString().split(" ")[2]+"/"+(o.getMonth()+1)+"/"+o.getFullYear()}openModal(){this.modalConfirmacion.show()}cerrar(){this.seleccion=null,this.confirmacion="",this.modalConfirmacion.hide()}aceptar(){this.loading=!0,this.seleccion.estatus="APROBADO",this.avalService.putAval(this.seleccion.id,this.seleccion).toPromise().then(t=>{this.avalService.getAceptacionesPendientesPorIdUsuario(this.usuario.id).toPromise().then(t=>{this.avales=t,this.loading=!1})}).catch(t=>{this.errorMessages.push(t),this.loading=!1}),this.cerrar()}rechazar(){this.loading=!0,this.seleccion.estatus="RECHAZO",this.avalService.putAval(this.seleccion.id,this.seleccion).toPromise().then(t=>{this.avalService.getAceptacionesPendientesPorIdUsuario(this.usuario.id).toPromise().then(t=>{this.avales=t,this.loading=!1})}).catch(t=>{this.errorMessages.push(t),this.loading=!1}),this.cerrar()}}return t.\u0275fac=function(o){return new(o||t)(b.Rb(zt.a),b.Rb(l.a),b.Rb(d.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["cybord-aprobacion-aval"]],viewQuery:function(t,o){var i;1&t&&b.Lc(So,!0),2&t&&b.uc(i=b.fc())&&(o.modalConfirmacion=i.first)},decls:83,vars:24,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","alert alert-primary","role","alert",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"card-footer"],[1,"float-right","slide_2"],["bsModal","","id","modalConfirmacion","tabindex","-1","role","dialog","aria-labelledby","modalConfirmacion","aria-hidden","true",1,"modal","fade"],["modalConfirmacion","bs-modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-danger","text-white"],["id","modalConfirmacionLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-bordered","table-sm"],["scope","row",1,"text-left"],[1,"p-3","mb-2"],[1,"text-danger"],[1,"form-group","row"],["for","inputPassword",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","password","id","inputPassword",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["id","noEmpHelp",1,"form-text","text-muted"],[1,"modal-footer"],["type","button",1,"btn",3,"ngClass","disabled","click"],["type","button",1,"btn","btn-warning",3,"click"],["type","danger",3,"dismissible"],["role","alert",1,"alert","alert-primary"],[1,"thead-dark"],["scope","row",1,"text-center"],[1,"btn-sm","btn-primary",3,"click"],[1,"fa","fa-search","fa-sm"],["scope","row",4,"ngIf"],["scope","row"],[1,"badge","badge-info"],[1,"badge","badge-success"],[1,"badge","badge-danger"],["role","alert",1,"alert","alert-success"]],template:function(t,o){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"strong"),b.Gc(7,"Avales"),b.Wb(),b.Wb(),b.Xb(8,"div",6),b.Ec(9,No,3,2,"div",7),b.Ec(10,Po,1,0,"cybord-loader",8),b.Xb(11,"div",1),b.Xb(12,"div",2),b.Ec(13,Ro,2,0,"div",9),b.Wb(),b.Wb(),b.Xb(14,"div",1),b.Xb(15,"div",2),b.Ec(16,Ho,16,1,"div",10),b.Wb(),b.Wb(),b.Ec(17,ko,2,1,"p",11),b.Wb(),b.Ec(18,Lo,1,0,"cybord-loader",8),b.Xb(19,"div",12),b.Sb(20,"div",13),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(21,"div",14,15),b.Xb(23,"div",16),b.Xb(24,"div",17),b.Xb(25,"div",18),b.Xb(26,"h5",19),b.Gc(27,"Confirmacion"),b.Wb(),b.Xb(28,"button",20),b.ec("click",(function(){return o.cerrar()})),b.Xb(29,"span",21),b.Gc(30,"\xd7"),b.Wb(),b.Wb(),b.Wb(),b.Xb(31,"div",22),b.Xb(32,"h5"),b.Gc(33,"Informaci\xf3n del Solicitante"),b.Wb(),b.Xb(34,"div",1),b.Xb(35,"div",2),b.Xb(36,"div",23),b.Xb(37,"table",24),b.Xb(38,"tbody"),b.Xb(39,"tr"),b.Xb(40,"th"),b.Gc(41,"Nombre"),b.Wb(),b.Xb(42,"td",25),b.Gc(43),b.Wb(),b.Wb(),b.Xb(44,"tr"),b.Xb(45,"th"),b.Gc(46,"Monto"),b.Wb(),b.Xb(47,"td",25),b.Gc(48),b.Wb(),b.Wb(),b.Xb(49,"tr"),b.Xb(50,"th"),b.Gc(51,"Fecha Inicio"),b.Wb(),b.Xb(52,"td",25),b.Gc(53),b.Wb(),b.Wb(),b.Xb(54,"tr"),b.Xb(55,"th"),b.Gc(56,"No. Quincenas"),b.Wb(),b.Xb(57,"td",25),b.Gc(58),b.Wb(),b.Wb(),b.Xb(59,"tr"),b.Xb(60,"th"),b.Gc(61,"Descuento Quincenal"),b.Wb(),b.Xb(62,"td",25),b.Gc(63),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(64,"div",26),b.Xb(65,"p",27),b.Xb(66,"strong"),b.Gc(67," Yo aval manifiesto que acepto pagar a mi entera satisfacci\xf3n el saldo deudor que tenga el solicitante, de acuerdo a la parte proporcional del adeudo contra\xeddo al momento de que el solicitante no se le pueda retener de su pago de n\xf3mina por la causa que sea. "),b.Wb(),b.Wb(),b.Wb(),b.Xb(68,"form"),b.Xb(69,"div",28),b.Xb(70,"label",29),b.Gc(71,"No. empleado"),b.Wb(),b.Xb(72,"div",30),b.Xb(73,"input",31),b.ec("ngModelChange",(function(t){return o.confirmacion=t})),b.Wb(),b.Xb(74,"small",32),b.Gc(75,"Ingresa tu numero de empleado para Aceptar o Rechazar."),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(76,"div",33),b.Xb(77,"button",34),b.ec("click",(function(){return o.aceptar()})),b.Gc(78,"Aceptar"),b.Wb(),b.Xb(79,"button",34),b.ec("click",(function(){return o.rechazar()})),b.Gc(80,"Rechazar"),b.Wb(),b.Xb(81,"button",35),b.ec("click",(function(){return o.cerrar()})),b.Gc(82,"Cerrar"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Fb(9),b.nc("ngForOf",o.alerts),b.Fb(1),b.nc("ngIf",o.loading),b.Fb(3),b.nc("ngIf",0===o.avales.length),b.Fb(3),b.nc("ngIf",o.avales.length>0),b.Fb(1),b.nc("ngIf",o.params.success.length>0),b.Fb(1),b.nc("ngIf",o.loading),b.Fb(25),b.Hc(o.informacion.nombreDeudor),b.Fb(5),b.Hc(o.informacion.monto),b.Fb(5),b.Hc(o.informacion.inicio),b.Fb(5),b.Hc(o.informacion.noQuincenas),b.Fb(5),b.Hc(o.informacion.descuento),b.Fb(10),b.nc("ngModel",o.confirmacion)("ngModelOptions",b.pc(17,xo)),b.Fb(4),b.nc("ngClass",b.rc(18,Bo,o.confirmacion===o.noEmpleado,o.confirmacion!==o.noEmpleado))("disabled",o.confirmacion!==o.noEmpleado),b.Fb(2),b.nc("ngClass",b.rc(21,Vo,o.confirmacion===o.noEmpleado,o.confirmacion!==o.noEmpleado))("disabled",o.confirmacion!==o.noEmpleado))},directives:[e.m,e.n,m.a,p.q,p.i,p.j,p.b,p.h,p.k,e.l,W.a,X.a],styles:[""]}),t})();class zo{constructor(){this.saldosPrestamo=[]}}var _o=i("27T3");class $o{constructor(t,o){this.tipoArchivo=t,this.tipoRecurso=o}}var Yo=i("bEsI"),jo=i("oxVP"),Qo=i("hrfs");const Zo=["modalConfirmacion"];function Jo(t,o){if(1&t&&(b.Xb(0,"div"),b.Xb(1,"alert",50),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=o.$implicit;b.Fb(1),b.nc("dismissible",!0),b.Fb(1),b.Hc(t)}}function Ko(t,o){1&t&&b.Sb(0,"cybord-loader")}function ti(t,o){1&t&&(b.Xb(0,"div",1),b.Sb(1,"div",2),b.Xb(2,"div",51),b.Gc(3," No hay registros de ahorro "),b.Wb(),b.Sb(4,"div",2),b.Wb())}function oi(t,o){if(1&t){const t=b.Yb();b.Xb(0,"tr"),b.Xb(1,"td"),b.Xb(2,"button",53),b.ec("click",(function(){b.yc(t);const i=o.$implicit;return b.gc(2).openModal(i)})),b.Gc(3," DETALLE\xa0 \xa0"),b.Sb(4,"i",54),b.Wb(),b.Wb(),b.Xb(5,"td",55),b.Gc(6),b.Wb(),b.Xb(7,"td",55),b.Gc(8),b.hc(9,"date"),b.Wb(),b.Xb(10,"td",25),b.Gc(11),b.hc(12,"currency"),b.Wb(),b.Xb(13,"td",25),b.Gc(14),b.hc(15,"currency"),b.Wb(),b.Wb()}if(2&t){const t=o.$implicit;b.Fb(6),b.Hc(t.estatus),b.Fb(2),b.Hc(b.jc(9,4,t.fechaCreacion,"dd/MM/yyyy")),b.Fb(3),b.Hc(b.ic(12,7,t.monto)),b.Fb(3),b.Ic("",b.ic(15,9,t.saldoPendiente)," ")}}function ii(t,o){if(1&t&&(b.Xb(0,"table",26),b.Xb(1,"thead",27),b.Xb(2,"tr"),b.Xb(3,"th",52),b.Gc(4,"ACCIONES"),b.Wb(),b.Xb(5,"th",52),b.Gc(6,"ESTATUS"),b.Wb(),b.Xb(7,"th",52),b.Gc(8,"ALTA PRESTAMO"),b.Wb(),b.Xb(9,"th",52),b.Gc(10,"MONTO PRESTAMO"),b.Wb(),b.Xb(11,"th",52),b.Gc(12,"SALDO PENDIENTE"),b.Wb(),b.Wb(),b.Wb(),b.Xb(13,"tbody"),b.Ec(14,oi,16,11,"tr",7),b.Xb(15,"tr"),b.Sb(16,"td"),b.Sb(17,"td"),b.Sb(18,"td"),b.Xb(19,"td",33),b.Xb(20,"strong"),b.Gc(21,"TOTAL"),b.Wb(),b.Wb(),b.Xb(22,"td",33),b.Xb(23,"strong"),b.Gc(24),b.hc(25,"currency"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.gc();b.Fb(14),b.nc("ngForOf",t.prestamos),b.Fb(10),b.Hc(b.ic(25,2,t.total))}}function ei(t,o){if(1&t&&(b.Xb(0,"div",56),b.Sb(1,"canvas",57),b.Wb()),2&t){const t=b.gc();b.Fb(1),b.nc("datasets",t.barChartData)("labels",t.barChartLabels)("options",t.barChartOptions)("legend",!0)("chartType","bar")}}function ai(t,o){if(1&t&&(b.Xb(0,"div"),b.Xb(1,"alert",50),b.Gc(2),b.Wb(),b.Wb()),2&t){const t=o.$implicit;b.Fb(1),b.nc("dismissible",!0),b.Fb(1),b.Hc(t)}}function ni(t,o){if(1&t&&(b.Xb(0,"tr"),b.Xb(1,"td",32),b.Gc(2),b.Wb(),b.Xb(3,"td",32),b.Gc(4),b.Wb(),b.Xb(5,"td",32),b.Gc(6),b.hc(7,"date"),b.Wb(),b.Xb(8,"td",25),b.Gc(9),b.hc(10,"currency"),b.Wb(),b.Wb()),2&t){const t=o.$implicit;b.Fb(2),b.Hc(t.tipo),b.Fb(2),b.Hc(t.validado?"SI":"NO"),b.Fb(2),b.Ic("",b.jc(7,4,t.fechaCreacion,"dd/MM/yyyy")," "),b.Fb(3),b.Hc(b.ic(10,7,t.monto))}}const ci=function(t,o){return{"btn-success":t,"btn-secondary":o}};function si(t,o){if(1&t){const t=b.Yb();b.Xb(0,"button",58),b.ec("click",(function(){return b.yc(t),b.gc().sendPayment()})),b.Gc(1,"Pagar"),b.Wb()}if(2&t){const t=b.gc();b.nc("ngClass",b.rc(2,ci,t.noEmpleado===t.usuario.noEmpleado,t.noEmpleado!==t.usuario.noEmpleado))("disabled",t.noEmpleado!==t.usuario.noEmpleado)}}const ri=function(){return{standalone:!0}},bi=[{path:"reportes",component:n.a,data:{title:"Mi ahorro"}},{path:"tramites",component:Vt,data:{title:"Tr\xe1mites ahorro"}},{path:"prestamos",component:Mo,data:{title:"Tr\xe1mites ahorro"}},{path:"prestamos-activos",component:(()=>{class t{constructor(t,o,i,e){this.prestamoService=t,this.userService=o,this.validationService=i,this.fileService=e,this.loading=!1,this.prestamos=[],this.total=0,this.totalPagado=0,this.montos=[],this.alerts=[],this.noEmpleado="",this.prestamo=new zo,this.fileName="",this.imgPago=new $o("IMAGEN","PRESTAMO"),this.pago=new _o.a,this.chartData=new Map,this.barChartLabels=[],this.barChartData=[{data:[],label:"Deuda prestamos"}],this.barChartOptions={scaleShowVerticalLines:!1,responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}ngOnInit(){this.loading=!1,this.loadInfo()}loadInfo(){return Object(c.a)(this,void 0,void 0,(function*(){this.alerts=[];try{this.loading=!0,this.usuario=yield this.userService.myInfo();let t=yield this.prestamoService.getPrestamosByUsuario(this.usuario.id).toPromise();this.prestamos=t.filter(t=>t.estatus.indexOf("TERMINADO")<0),void 0!==this.prestamos&&this.prestamos.length>0&&(this.total=this.prestamos.map(t=>t.saldoPendiente).reduce((t,o)=>t+o)),this.setCharData(this.prestamos),this.loading=!1}catch(t){this.alerts.push(t),this.loading=!1}}))}dateConverter(t){let o=t.split("-");return new Date(Number(o[0]),Number(o[1])-1,Number(o[2]))}cerrar(){this.modalConfirmacion.hide()}getYearAndMonth(t){let o=new Date(t);return o.getFullYear()+"-"+(o.getMonth()+1)}setMontoCharData(t,o){let i=this.chartData.get(t);null==i?(i=[],i.push(o),this.chartData.set(t,i)):(i.push(o),this.chartData.set(t,i))}setCharData(t){t.forEach(t=>{let o=this.getYearAndMonth(this.dateConverter(t.fechaCreacion.toString()));this.setMontoCharData(o,t.monto),t.saldosPrestamo.filter(t=>"INTERES"!==t.tipo).forEach(t=>{let o=this.getYearAndMonth(this.dateConverter(t.fechaCreacion.toString()));this.setMontoCharData(o,-1*t.monto)});let i=[];for(const n of this.chartData.keys())i.push(n);i.sort(),this.barChartLabels=i;let e=[],a=0;i.forEach(t=>{a+=this.chartData.get(t).reduce((t,o)=>t+o),e.push(a)}),this.barChartData=[{data:e,backgroundColor:"#46BFBD",label:"Deuda prestamos"}]})}fileUploadListener(t){this.alerts=[],this.fileInput=t.target;const o=new FileReader;if(t.target.files&&t.target.files.length>0){const i=t.target.files[0];i.size>1e6?alert("El archivo demasiado grande, intenta con un archivo mas peque\xf1o."):(o.readAsDataURL(i),o.onload=()=>{this.fileName=i.name,this.imgPago.dato=o.result.toString()},o.onerror=t=>{this.alerts.push("Error parsing image file")})}}sendPayment(){return Object(c.a)(this,void 0,void 0,(function*(){this.pago.idPrestamo=this.prestamo.id,this.pago.tipo="PAGO",this.pago.validado=!1,this.pago.origen=this.usuario.email;try{if(this.alerts=this.validationService.validateSaldoPrestamo(this.pago,this.prestamo),0==this.alerts.length){this.pago=yield this.prestamoService.insertSaldoPrestamo(this.prestamo.id,this.pago).toPromise(),this.imgPago.referencia=this.pago.id.toString();let t=yield this.fileService.insertResourceFile(this.imgPago).toPromise();console.log(this.fileName+" has been laoded",t),this.modalConfirmacion.hide(),this.noEmpleado="",this.loadInfo()}}catch(t){this.pago=new _o.a,this.imgPago=new $o("IMAGEN","PRESTAMO"),this.fileName="",this.noEmpleado="",this.alerts.push(t)}this.loading=!1}))}openModal(t){this.alerts=[],this.imgPago=new $o("IMAGEN","PRESTAMO"),this.fileName="",this.noEmpleado="",this.pago=new _o.a,this.imgPago.dato=void 0,this.prestamo=t,this.totalPagado=t.saldosPrestamo.filter(t=>"INTERES"!==t.tipo).map(t=>t.monto).reduce((t,o)=>t+o),this.pago.monto=t.monto-this.totalPagado,this.modalConfirmacion.show()}closeModal(){this.pago=new _o.a,this.imgPago=new $o("IMAGEN","PRESTAMO"),this.fileName="",this.noEmpleado="",this.prestamo=new zo,void 0!==this.fileInput&&(this.fileInput.value=""),this.modalConfirmacion.hide()}}return t.\u0275fac=function(o){return new(o||t)(b.Rb(Yo.a),b.Rb(d.a),b.Rb(g.a),b.Rb(jo.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["cybord-prestamos-usuario"]],viewQuery:function(t,o){var i;1&t&&b.Lc(Zo,!0),2&t&&b.uc(i=b.fc())&&(o.modalConfirmacion=i.first)},decls:129,vars:33,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-xs-12","col-sm-12","col-md-4"],["class","row",4,"ngIf"],["class","table table-bordered table-striped table-sm",4,"ngIf"],[1,"col-xs-12","col-sm-12","col-md-8"],["class","chart-wrapper",4,"ngIf"],["bsModal","","id","modalConfirmacion","tabindex","-1","role","dialog","aria-labelledby","modalConfirmacion","aria-hidden","true",1,"modal","fade"],["modalConfirmacion","bs-modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-primary","text-white"],["id","modalConfirmacionLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-bordered","table-sm"],["scope","row",1,"text-right"],[1,"table","table-bordered","table-striped","table-sm"],[1,"thead-dark"],[2,"width","15%"],[1,"text-left",2,"width","20%"],[2,"width","30%"],[1,"text-left",2,"width","30%"],["scope","row",1,"text-left"],[1,"text-right"],["for","monto",1,"label"],[1,"input-group"],["type","number","id","quantity","name","quantity","disabled","","placeholder","Monto a capital",1,"form-control",3,"ngModel","ngModelChange"],["for","payFile",1,"label"],["id","payFile",1,"custom-file"],["type","file","id","inputGroupFile01","accept","image/*","aria-describedby","inputGroupFileAddon01",1,"custom-file-input",2,"display","block",3,"disabled","change"],["fileInput",""],["for","inputGroupFile01",1,"custom-file-label"],[1,"form-group","row"],["for","inputPassword",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","password","id","inputPassword","placeholder","digita tu no empleado",1,"form-control",3,"disabled","ngModel","ngModelOptions","ngModelChange"],["id","noEmpHelp",1,"form-text","text-muted"],[1,"modal-footer"],["type","button","class","btn",3,"ngClass","disabled","click",4,"ngIf"],["type","button",1,"btn","btn-warning",3,"click"],["type","danger",3,"dismissible"],["role","alert",1,"col-8","alert","alert-primary"],[1,"text-center"],[1,"btn-sm","btn-primary",3,"click"],[1,"fa","fa-search"],["scope","row"],[1,"chart-wrapper"],["baseChart","",1,"chart",3,"datasets","labels","options","legend","chartType"],["type","button",1,"btn",3,"ngClass","disabled","click"]],template:function(t,o){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Xb(4,"div",4),b.Xb(5,"div",5),b.Xb(6,"strong"),b.Gc(7,"Prestamos"),b.Wb(),b.Wb(),b.Xb(8,"div",6),b.Ec(9,Jo,3,2,"div",7),b.Ec(10,Ko,1,0,"cybord-loader",8),b.Xb(11,"div",1),b.Xb(12,"div",9),b.Xb(13,"strong"),b.Gc(14,"Prestamos Activos"),b.Wb(),b.Sb(15,"br"),b.Sb(16,"br"),b.Ec(17,ti,5,0,"div",10),b.Ec(18,ii,26,4,"table",11),b.Wb(),b.Xb(19,"div",12),b.Ec(20,ei,2,5,"div",13),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(21,"div",14,15),b.Xb(23,"div",16),b.Xb(24,"div",17),b.Xb(25,"div",18),b.Xb(26,"h5",19),b.Gc(27,"INFORMACI\xd3N DEL PRESTAMO"),b.Wb(),b.Xb(28,"button",20),b.ec("click",(function(){return o.closeModal()})),b.Xb(29,"span",21),b.Gc(30,"\xd7"),b.Wb(),b.Wb(),b.Wb(),b.Xb(31,"div",22),b.Ec(32,ai,3,2,"div",7),b.Xb(33,"div",1),b.Xb(34,"div",2),b.Xb(35,"div",23),b.Xb(36,"table",24),b.Xb(37,"tbody"),b.Xb(38,"tr"),b.Xb(39,"th"),b.Gc(40,"Estado prestamo"),b.Wb(),b.Xb(41,"td",25),b.Gc(42),b.Wb(),b.Wb(),b.Xb(43,"tr"),b.Xb(44,"th"),b.Gc(45,"Monto prestamo"),b.Wb(),b.Xb(46,"td",25),b.Gc(47),b.hc(48,"currency"),b.Wb(),b.Wb(),b.Xb(49,"tr"),b.Xb(50,"th"),b.Gc(51,"No quincenas"),b.Wb(),b.Xb(52,"td",25),b.Gc(53),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Sb(54,"br"),b.Xb(55,"table",26),b.Xb(56,"thead",27),b.Xb(57,"tr"),b.Xb(58,"th",28),b.Gc(59,"TIPO"),b.Wb(),b.Xb(60,"th",29),b.Gc(61,"VALIDADO"),b.Wb(),b.Xb(62,"th",30),b.Gc(63,"FECHA"),b.Wb(),b.Xb(64,"th",31),b.Gc(65,"MONTO"),b.Wb(),b.Wb(),b.Wb(),b.Xb(66,"tbody"),b.Xb(67,"tr"),b.Xb(68,"td",32),b.Gc(69,"PRESTAMO"),b.Wb(),b.Xb(70,"td",32),b.Gc(71,"SI"),b.Wb(),b.Xb(72,"td",32),b.Gc(73),b.hc(74,"date"),b.Wb(),b.Xb(75,"td",25),b.Gc(76),b.hc(77,"currency"),b.Wb(),b.Wb(),b.Ec(78,ni,11,9,"tr",7),b.Xb(79,"tr"),b.Sb(80,"td"),b.Sb(81,"td"),b.Xb(82,"td"),b.Gc(83,"TOTAL PAGADO"),b.Wb(),b.Xb(84,"td",33),b.Gc(85),b.hc(86,"currency"),b.Wb(),b.Wb(),b.Xb(87,"tr"),b.Sb(88,"td"),b.Sb(89,"td"),b.Xb(90,"td"),b.Gc(91,"SALDO PENDIENTE"),b.Wb(),b.Xb(92,"td",33),b.Gc(93),b.hc(94,"currency"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(95,"div",1),b.Xb(96,"div",2),b.Xb(97,"label",34),b.Xb(98,"strong"),b.Gc(99,"1.- Ingersa el monto del pago"),b.Wb(),b.Wb(),b.Xb(100,"div",35),b.Xb(101,"input",36),b.ec("ngModelChange",(function(t){return o.pago.monto=t})),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(102,"div",1),b.Xb(103,"div",2),b.Xb(104,"label",37),b.Xb(105,"strong"),b.Gc(106,"2.- Adjuntar comprobante de pago"),b.Wb(),b.Wb(),b.Xb(107,"div",35),b.Xb(108,"div",38),b.Xb(109,"input",39,40),b.ec("change",(function(t){return o.fileUploadListener(t)})),b.Wb(),b.Xb(111,"label",41),b.Gc(112),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(113,"div",1),b.Xb(114,"div",2),b.Xb(115,"label",34),b.Xb(116,"strong"),b.Gc(117,"3.- Digita tu numero de empleado"),b.Wb(),b.Wb(),b.Xb(118,"div",42),b.Xb(119,"label",43),b.Gc(120,"No. empleado"),b.Wb(),b.Xb(121,"div",44),b.Xb(122,"input",45),b.ec("ngModelChange",(function(t){return o.noEmpleado=t})),b.Wb(),b.Xb(123,"small",46),b.Gc(124,"Ingresa tu numero de empleado para realizar el pago."),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(125,"div",47),b.Ec(126,si,2,5,"button",48),b.Xb(127,"button",49),b.ec("click",(function(){return o.closeModal()})),b.Gc(128,"Cerrar"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Fb(9),b.nc("ngForOf",o.alerts),b.Fb(1),b.nc("ngIf",o.loading),b.Fb(7),b.nc("ngIf",0===o.prestamos.length&&!o.loading),b.Fb(1),b.nc("ngIf",o.prestamos.length>0),b.Fb(2),b.nc("ngIf",o.prestamos.length>0),b.Fb(12),b.nc("ngForOf",o.alerts),b.Fb(10),b.Hc(o.prestamo.estatus),b.Fb(5),b.Hc(b.ic(48,21,o.prestamo.monto)),b.Fb(6),b.Hc(o.prestamo.noQuincenas),b.Fb(20),b.Hc(b.jc(74,23,o.prestamo.fechaCreacion,"dd/MM/yyyy")),b.Fb(3),b.Hc(b.ic(77,26,o.prestamo.monto)),b.Fb(2),b.nc("ngForOf",o.prestamo.saldosPrestamo),b.Fb(7),b.Hc(b.ic(86,28,o.totalPagado)),b.Fb(8),b.Hc(b.ic(94,30,o.prestamo.saldoPendiente)),b.Fb(8),b.nc("ngModel",o.pago.monto),b.Fb(8),b.nc("disabled",void 0===o.pago.monto),b.Fb(3),b.Hc(o.fileName),b.Fb(10),b.nc("disabled",o.pago.monto<=.01)("ngModel",o.noEmpleado)("ngModelOptions",b.pc(32,ri)),b.Fb(4),b.nc("ngIf",o.noEmpleado))},directives:[e.m,e.n,m.a,p.m,p.b,p.h,p.k,W.a,X.a,Qo.a,e.l],pipes:[e.d,e.f],styles:[""]}),t})(),data:{title:"Mis prestamos"}},{path:"avales",component:qo,data:{title:"Aprobaciones de aval"}}];let di=(()=>{class t{}return t.\u0275mod=b.Pb({type:t}),t.\u0275inj=b.Ob({factory:function(o){return new(o||t)},imports:[[a.g.forChild(bi)],a.g]}),t})();var li=i("65jD");let ui=(()=>{class t{}return t.\u0275mod=b.Pb({type:t}),t.\u0275inj=b.Ob({factory:function(o){return new(o||t)},providers:[e.f],imports:[[li.CommonsPagesModule,di,Qo.b,f.c.forRoot()]]}),t})()},"Nr/o":function(t,o,i){"use strict";i.d(o,"a",(function(){return n}));var e=i("8Y7J"),a=i("IheW");let n=(()=>{class t{constructor(t){this.http=t,this.SAMPLE_DATA=[{noEmpleadoAval:"123"},{noEmpleadoAval:"124"}]}testAvalService(){return new Promise(t=>{t(this.SAMPLE_DATA)})}getAceptacionesPorSolicitud(t){return this.http.get(`../api/v1/solicitudes/${t}/avales`)}getAceptacionesPendientesPorIdUsuario(t){return this.http.get(`../api/v1/usuarios/${t}/avales`)}putAval(t,o){return this.http.put("../api/v1/avales/"+t,o)}}return t.\u0275fac=function(o){return new(o||t)(e.bc(a.b))},t.\u0275prov=e.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},bEsI:function(t,o,i){"use strict";i.d(o,"a",(function(){return n}));var e=i("IheW"),a=i("8Y7J");let n=(()=>{class t{constructor(t){this.http=t}getHttpParams(t){let o=new e.d;for(const i in t)if(void 0!==t[i]){const e=t[i].toString();null!==e&&e.length>0&&"*"!==e&&(o=o.append(i,e))}return o}getPrestamosByUsuario(t){return this.http.get(`../api/v1/usuarios/${t}/prestamos`)}getSaldos(t){return this.http.get("../api/v1/saldo-prestamos",{params:this.getHttpParams(t)})}getPrestamosByUsuairoAndPrestamoAndSaldo(t,o,i){return this.http.get(`../api/v1/usuarios/${t}/prestamos/${o}/saldos/${i}`)}insertSaldoPrestamo(t,o){return this.http.post(`../api/v1/prestamos/${t}/saldos`,o)}getPrestamosPendientesByUsuario(t){return this.http.get(`../api/v1/usuarios/${t}/prestamos/pendientes`)}updateSaldoPrestamo(t,o){return this.http.put("../api/v1/saldo-prestamos/"+t,o)}}return t.\u0275fac=function(o){return new(o||t)(a.bc(e.b))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},jksu:function(t,o,i){"use strict";i.d(o,"a",(function(){return a}));var e=i("8Y7J");let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Lb({type:t,selectors:[["cybord-loader"]],decls:11,vars:0,consts:[[1,"preview-area"],[1,"sk-cube-grid"],[1,"sk-cube","sk-cube1"],[1,"sk-cube","sk-cube2"],[1,"sk-cube","sk-cube3"],[1,"sk-cube","sk-cube4"],[1,"sk-cube","sk-cube5"],[1,"sk-cube","sk-cube6"],[1,"sk-cube","sk-cube7"],[1,"sk-cube","sk-cube8"],[1,"sk-cube","sk-cube9"]],template:function(t,o){1&t&&(e.Xb(0,"div",0),e.Xb(1,"div",1),e.Sb(2,"div",2),e.Sb(3,"div",3),e.Sb(4,"div",4),e.Sb(5,"div",5),e.Sb(6,"div",6),e.Sb(7,"div",7),e.Sb(8,"div",8),e.Sb(9,"div",9),e.Sb(10,"div",10),e.Wb(),e.Wb())},styles:[".preview-area[_ngcontent-%COMP%]{width:100px;height:100px;position:absolute;top:0;left:0;bottom:60px;right:0;margin:auto;-webkit-user-select:none;user-select:none}.sk-cube-grid[_ngcontent-%COMP%]{width:80px;height:80px;margin:200px auto}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube[_ngcontent-%COMP%]{width:33%;height:33%;background-color:#333;float:left;animation:sk-cubeGridScaleDelay 1.3s ease-in-out infinite}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube1[_ngcontent-%COMP%]{animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube2[_ngcontent-%COMP%]{animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube3[_ngcontent-%COMP%]{animation-delay:.4s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube4[_ngcontent-%COMP%]{animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube5[_ngcontent-%COMP%]{animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube6[_ngcontent-%COMP%]{animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube7[_ngcontent-%COMP%]{animation-delay:0s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube8[_ngcontent-%COMP%]{animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube9[_ngcontent-%COMP%]{animation-delay:.2s}@keyframes sk-cubeGridScaleDelay{0%,70%,to{transform:scaleX(1)}35%{transform:scale3D(0,0,1)}}"]}),t})()},oxVP:function(t,o,i){"use strict";i.d(o,"a",(function(){return n}));var e=i("8Y7J"),a=i("IheW");let n=(()=>{class t{constructor(t){this.http=t}getRecurso(t,o,i){return this.http.get(`../api/v1/recursos/tipoRecurso/${o}/tipoArchivo/${i}/referencias/${t}`)}insertResourceFile(t){return this.http.post("../api/v1/recursos",t)}}return t.\u0275fac=function(o){return new(o||t)(e.bc(a.b))},t.\u0275prov=e.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},qZ4S:function(t,o,i){"use strict";i.d(o,"a",(function(){return a}));var e=i("8Y7J");let a=(()=>{class t{constructor(){}validateSaldoPrestamo(t,o){const i=[];return(void 0===t.monto||t.monto<=10)&&i.push("El monto del pago debe ser mayor a $10.00"),null!=t.idPrestamo&&null!==t.idPrestamo||i.push("La referencia del prestamo no ests ligada"),null!=t.origen&&null!==t.origen||i.push("El origen del pago no ha sido especificado"),null!=t.tipo&&null!==t.tipo||i.push("El tipo del pago no ha sido especificado"),i}validateSolicitud(t,o){const i=[];return"RetiroParcialAhorro"===t.tipo&&+t.atributos.MONTO>o&&i.push("No es posible solicitar un monto superior al total de su ahorro de $"+o),void 0===t.atributos.MONTO&&i.push("El monto de la solicitud no ha sido asignado"),"CancelacionAhorro"===t.tipo&&(void 0===t.atributos.RAZON_CANCELACION||t.atributos.RAZON_CANCELACION.length<10)&&i.push("La descripci\xf3n del motivo de cancelaci\xf3n es muy corto"),i}validarUsuario(t){const o=[],i=new RegExp("^([0-9a-zA-Z\xc0-\xfa.,&-_ ]+)$"),e=new RegExp("^([0-9]{8,20})$");return(!new RegExp("^[a-z0-9A-Z._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$").test(t.email)||void 0===t.email)&&t.email.length<2&&t.email.length>100&&o.push("El email no es valido"),(!i.test(t.nombre)||void 0===t.nombre||t.nombre.length<2||t.nombre.length>100)&&o.push("El nombre no es valido"),void 0===t.noEmpleado&&o.push("El No. de empleado no ha sido asignado"),"*"!==t.datosUsuario.OFICINA&&void 0!==t.datosUsuario.OFICINA||o.push("La oficina no ha sido asignado"),"*"!==t.datosUsuario.BANCO&&void 0!==t.datosUsuario.BANCO||o.push("El banco no ha sido asignado"),"*"!==t.datosUsuario.TIPO_CUENTA&&void 0!==t.datosUsuario.TIPO_CUENTA||o.push("El tipo de cuenta no esta definido"),e.test(t.datosUsuario.CUENTA)||o.push("El no. de cuenta es invalido"),Number(t.datosUsuario.SUELDO)<100&&o.push("El saldo no es valido (MENOR A 100)"),o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},xKGb:function(t,o,i){"use strict";i.d(o,"a",(function(){return n}));var e=i("IheW"),a=i("8Y7J");let n=(()=>{class t{constructor(t){this.http=t}getHttpParams(t){let o=new e.d;for(const i in t)if(void 0!==t[i]){const e=t[i].toString();null!==e&&e.length>0&&"*"!==e&&(o=o.append(i,e))}return o}getSolicitudes(t){return this.http.get("../api/v1/solicitudes",{params:this.getHttpParams(t)})}getReporteSolicitudes(t){return this.http.get("../api/v1/solicitudes/report",{params:this.getHttpParams(t)})}getSolicitudesById(t){return this.http.get("../api/v1/solicitudes/"+t)}getSolicitudesByUsuarioAndId(t,o){return this.http.get(`../api/v1/usuarios/${t}/solicitudes/${o}`)}getSolicitudesByUsuario(t){return this.http.get(`../api/v1/usuarios/${t}/solicitudes`)}postSolictudUsuario(t,o){return this.http.post(`../api/v1/usuarios/${t}/solicitudes`,o)}putSolictud(t,o){return this.http.put("../api/v1/solicitudes/"+t,o)}deleteSolictud(t){return this.http.delete("../api/v1/solicitudes/"+t)}}return t.\u0275fac=function(o){return new(o||t)(a.bc(e.b))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},xkWA:function(t,o,i){"use strict";i.d(o,"a",(function(){return X}));var e=i("mrSG");class a{constructor(){this.ENERO=0,this.FEBRERO=1,this.MARZO=2,this.ABRIL=3,this.MAYO=4,this.JUNIO=5,this.JULIO=6,this.AGOSTO=7,this.SEPTIEMBRE=8,this.OCTUBRE=9,this.NOVIEMBRE=10,this.DICIEMBRE=11}}var n=i("lJxs"),c=i("8Y7J"),s=i("ESM5"),r=i("SVse"),b=i("iInd"),d=i("LDwG"),l=i("jksu"),u=i("CNMR"),h=i("hrfs");function g(t,o){1&t&&c.Sb(0,"cybord-loader")}function f(t,o){if(1&t&&(c.Xb(0,"div"),c.Xb(1,"alert",9),c.Gc(2),c.Wb(),c.Wb()),2&t){const t=o.$implicit;c.Fb(1),c.nc("dismissible",!0),c.Fb(1),c.Hc(t)}}function p(t,o){1&t&&(c.Xb(0,"div",1),c.Sb(1,"div",2),c.Xb(2,"div",10),c.Gc(3," No hay registros de ahorro "),c.Wb(),c.Sb(4,"div",2),c.Wb())}function m(t,o){if(1&t&&(c.Xb(0,"tr"),c.Xb(1,"td",17),c.Gc(2),c.hc(3,"date"),c.Wb(),c.Xb(4,"td",17),c.Gc(5),c.Wb(),c.Xb(6,"td",18),c.Gc(7),c.hc(8,"currency"),c.Wb(),c.Wb()),2&t){const t=o.$implicit;c.Fb(2),c.Hc(c.jc(3,3,t.fechaCreacion,"dd/MM/yyyy")),c.Fb(3),c.Hc(t.tipo),c.Fb(2),c.Hc(c.ic(8,6,t.monto))}}function W(t,o){if(1&t&&(c.Xb(0,"div",1),c.Xb(1,"div",11),c.Xb(2,"strong"),c.Gc(3,"Mi historico de ahorro"),c.Wb(),c.Sb(4,"br"),c.Sb(5,"br"),c.Xb(6,"table",12),c.Xb(7,"thead",13),c.Xb(8,"tr"),c.Xb(9,"th"),c.Gc(10,"FECHA"),c.Wb(),c.Xb(11,"th"),c.Gc(12,"TIPO"),c.Wb(),c.Xb(13,"th"),c.Gc(14,"MONTO"),c.Wb(),c.Wb(),c.Wb(),c.Xb(15,"tbody"),c.Ec(16,m,9,8,"tr",7),c.Xb(17,"tr"),c.Sb(18,"td"),c.Xb(19,"td"),c.Xb(20,"strong"),c.Gc(21,"TOTAL"),c.Wb(),c.Wb(),c.Xb(22,"td",14),c.Xb(23,"strong"),c.Gc(24),c.hc(25,"currency"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(26,"div",15),c.Sb(27,"canvas",16),c.Wb(),c.Wb()),2&t){const t=c.gc();c.Fb(16),c.nc("ngForOf",t.ahorros),c.Fb(8),c.Hc(c.ic(25,7,t.total)),c.Fb(3),c.nc("datasets",t.barChartData)("labels",t.barChartLabels)("options",t.barChartOptions)("legend",!0)("chartType","bar")}}let X=(()=>{class t{constructor(t,o,i,e){this.userService=t,this.datepipe=o,this.route=i,this.saldosAhorro=e,this.loading=!1,this.barChartOptions={scaleShowVerticalLines:!1,responsive:!0},this.barChartLabels=["NOVIEMBRE","DICIEMBRE","ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE"],this.COLORS=["#46BFBD","#46BFBD","#46BFBD","#46BFBD","#46BFBD","#46BFBD","#46BFBD","#46BFBD","#46BFBD","#46BFBD","#46BFBD","#46BFBD"],this.alerts=[],this.barChartData=[{data:[],label:"Ahorro acumulado"}],this.barChartDataPrestamos=[{data:[],label:"Prestamo acumulado"}],this.ahorros=[],this.prestamos=[]}ngOnInit(){this.loading=!0,this.route.paramMap.subscribe(t=>{const o=t.get("idUsuario");console.log("Loading saldos usuario from user,",o),null==o||null==o?this.userService.myInfo().then(t=>{this.setInfoAhorros(t.id)}).catch(t=>this.alerts.push(t)).then(()=>this.loading=!1):(this.setInfoAhorros(+o),this.loading=!1)})}setInfoAhorros(t){return Object(e.a)(this,void 0,void 0,(function*(){try{const o=new a;this.ahorros=yield this.saldosAhorro.getSaldoByUsuario(t).pipe(Object(n.a)(t=>{for(const o of t)o.fechaCreacion=new Date(o.fechaCreacion);return t})).toPromise();const i=[];let e=0;for(const t of this.barChartLabels){const a=this.ahorros.filter(i=>i.fechaCreacion.getMonth()===o[t]).map(t=>t.monto);a.length>0?(e+=a.reduce((t,o)=>t+o),i.push(e)):i.push(0)}this.total=e,this.barChartData=[{data:i,backgroundColor:this.COLORS,label:"Ahorro acumulado"}]}catch(o){this.alerts.push(o)}}))}}return t.\u0275fac=function(o){return new(o||t)(c.Rb(s.a),c.Rb(r.f),c.Rb(b.a),c.Rb(d.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["cybord-ahorro-usuario"]],decls:12,vars:4,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["type","danger",3,"dismissible"],["role","alert",1,"col-3","alert","alert-primary"],[1,"col-4"],[1,"table","table-bordered","table-striped","table-sm"],[1,"thead-dark"],[1,"text-right"],[1,"chart-wrapper","col-8"],["baseChart","",1,"chart",3,"datasets","labels","options","legend","chartType"],["scope","row"],["scope","row",1,"text-right"]],template:function(t,o){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"div",3),c.Xb(4,"div",4),c.Xb(5,"strong"),c.Gc(6,"Mi reporte ahorro "),c.Wb(),c.Wb(),c.Xb(7,"div",5),c.Ec(8,g,1,0,"cybord-loader",6),c.Ec(9,f,3,2,"div",7),c.Ec(10,p,5,0,"div",8),c.Ec(11,W,28,9,"div",8),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Fb(8),c.nc("ngIf",o.loading),c.Fb(1),c.nc("ngForOf",o.alerts),c.Fb(1),c.nc("ngIf",0===o.ahorros.length&&!o.loading),c.Fb(1),c.nc("ngIf",o.ahorros.length>0&&!o.loading))},directives:[r.n,r.m,l.a,u.a,h.a],pipes:[r.d,r.f],styles:[".alert-md-local[_ngcontent-%COMP%]{background-color:#009688;border-color:#00695c;color:#fff}"]}),t})()}}]);