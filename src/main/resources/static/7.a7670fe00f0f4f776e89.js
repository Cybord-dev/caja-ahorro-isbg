(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"3k/E":function(o,i,t){"use strict";t.d(i,"a",(function(){return a}));class e{}class a{constructor(o){this.tipo=o,this.validaciones=[],this.atributos=new e}}},KpyH:function(o,i,t){"use strict";t.r(i),t.d(i,"UsuariosModule",(function(){return ao}));var e=t("SVse"),a=t("iInd"),b=t("8Y7J"),c=t("ESM5"),n=t("IheW");let r=(()=>{class o{constructor(o){this.http=o}getSaldoByUsuario(o){return this.http.get(`../api/v1/usuarios/${o}/ahorros`)}postSaldo(o,i){return this.http.post(`../api/v1/usuarios/${o}/ahorro`,i)}getSaldoByUsuarioAndId(o,i){return this.http.get(`../api/v1/usuarios/${o}/ahorros/${i}`)}}return o.\u0275fac=function(i){return new(i||o)(b.Tb(n.b))},o.\u0275prov=b.Fb({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var s=t("hrfs");function d(o,i){if(1&o&&(b.Pb(0,"tr"),b.Pb(1,"td",12),b.vc(2),b.Zb(3,"date"),b.Ob(),b.Pb(4,"td",12),b.vc(5),b.Ob(),b.Pb(6,"td",12),b.vc(7),b.Zb(8,"currency"),b.Ob(),b.Ob()),2&o){const o=i.$implicit;b.xb(2),b.wc(b.bc(3,3,o.fechaCreacion,"dd/MM/yyyy")),b.xb(3),b.wc(o.tipo),b.xb(2),b.wc(b.ac(8,6,o.monto))}}let l=(()=>{class o{constructor(o,i){this.userService=o,this.saldosAhorro=i,this.barChartOptions={scaleShowVerticalLines:!1,responsive:!0},this.barChartLabels=[],this.barChartType="bar",this.barChartLegend=!0,this.datos=[],this.errorMessages=[],this.barChartData=[],this.months=["noviembre","diciembre","enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre"],this.ahorros=[]}ngOnInit(){this.userService.myInfo().toPromise().then(o=>{this.saldosAhorro.getSaldoByUsuario(o.id).subscribe(o=>{this.ahorros=o,this.total=o.map(o=>o.monto).reduce((o,i)=>o+i),this.setCharInfo(),this.barChartData=[{data:this.datos,label:this.barChartLabels}]})}).catch(o=>this.errorMessages.push(o)),this.barChartData=[{data:[22,11],label:["enero","febrero"]}]}setCharInfo(){var o=new Date,i=o.getMonth();i=this.monthChanger(i);for(var t=o.getFullYear(),e=0;e<=i;e++)this.barChartLabels.push(this.months[e]),this.datos.push(0);for(e=0;e<this.datos.length;e++){var a=0;for(let o of this.ahorros){var b=new Date(o.fechaCreacion),c=this.monthChanger(b.getMonth());e>1?b.getMonth()<=i&&b.getFullYear()==t&&c==e&&(a+=o.monto):0!=c&&1!=c||b.getFullYear()!=t-1||(a+=o.monto)}this.datos[e]=this.truncate(0!=e?a+=this.datos[e-1]:a)}}truncate(o){return Math.trunc(o*Math.pow(10,2))/Math.pow(10,2)}monthChanger(o){for(let i=0;i<2;i++)o=++o>11?0:o;return o}chartClicked(o){}chartHovered(o){}}return o.\u0275fac=function(i){return new(i||o)(b.Jb(c.a),b.Jb(r))},o.\u0275cmp=b.Db({type:o,selectors:[["cybord-reporte-ahorro"]],decls:36,vars:9,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-4"],[1,"table","table-bordered","table-striped","table-sm"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"chart-wrapper","col-8"],["baseChart","",1,"chart",3,"datasets","labels","options","legend","chartType","chartHover","chartClick"],["scope","row"]],template:function(o,i){1&o&&(b.Pb(0,"div",0),b.Pb(1,"div",1),b.Pb(2,"div",2),b.Pb(3,"div",3),b.Pb(4,"div",4),b.Pb(5,"strong"),b.vc(6,"Mi reporte ahorro"),b.Ob(),b.Ob(),b.Pb(7,"div",5),b.Pb(8,"div",1),b.Pb(9,"div",6),b.Pb(10,"strong"),b.vc(11,"Mis ahorros"),b.Ob(),b.Kb(12,"br"),b.Kb(13,"br"),b.Pb(14,"table",7),b.Pb(15,"thead",8),b.Pb(16,"tr"),b.Pb(17,"th"),b.vc(18,"FECHA"),b.Ob(),b.Pb(19,"th"),b.vc(20,"TIPO"),b.Ob(),b.Pb(21,"th"),b.vc(22,"MONTO"),b.Ob(),b.Ob(),b.Ob(),b.Pb(23,"tbody"),b.uc(24,d,9,8,"tr",9),b.Pb(25,"tr"),b.Kb(26,"td"),b.Pb(27,"td"),b.Pb(28,"strong"),b.vc(29,"TOTAL"),b.Ob(),b.Ob(),b.Pb(30,"td"),b.Pb(31,"strong"),b.vc(32),b.Zb(33,"currency"),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(34,"div",10),b.Pb(35,"canvas",11),b.Wb("chartHover",(function(o){return i.chartHovered(o)}))("chartClick",(function(o){return i.chartClicked(o)})),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob()),2&o&&(b.xb(24),b.ec("ngForOf",i.ahorros),b.xb(8),b.wc(b.ac(33,7,i.total)),b.xb(3),b.ec("datasets",i.barChartData)("labels",i.barChartLabels)("options",i.barChartOptions)("legend",i.barChartLegend)("chartType",i.barChartType))},directives:[e.l,s.a],pipes:[e.d,e.f],styles:[""]}),o})();var u=t("KZhB"),h=t("3k/E"),f=t("xKGb"),O=t("2ZVE"),p=t("LqlI"),v=t("CNMR"),g=t("s7LF"),P=t("ienR");const m=["modalConfirmacion"],C=["staticTabs"];function M(o,i){if(1&o&&(b.Pb(0,"div"),b.Pb(1,"alert",23),b.vc(2),b.Ob(),b.Ob()),2&o){const o=i.$implicit;b.xb(1),b.ec("dismissible",!0),b.xb(1),b.wc(o)}}function A(o,i){1&o&&(b.Kb(0,"i",45),b.vc(1,"\xa0 Solicitud"))}function x(o,i){1&o&&(b.Pb(0,"span",41),b.vc(1,"Descuento quincenal"),b.Ob())}const I=function(){return{containerClass:"theme-dark-blue"}};function y(o,i){if(1&o){const o=b.Qb();b.Pb(0,"input",46,47),b.Wb("bsValueChange",(function(i){return b.oc(o),b.Yb(2).bsValue=i})),b.Ob()}if(2&o){const o=b.Yb(2);b.ec("bsConfig",b.gc(3,I))("datesEnabled",o.enabledDates)("bsValue",o.bsValue)}}function w(o,i){if(1&o){const o=b.Qb();b.Pb(0,"input",48),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb(2).solicitudAhorro.atributos.FECHA=i})),b.Ob()}if(2&o){const o=b.Yb(2);b.ec("ngModel",o.solicitudAhorro.atributos.FECHA)}}function E(o,i){1&o&&(b.Pb(0,"span",41),b.vc(1,"fecha inicio descuentos"),b.Ob())}function F(o,i){if(1&o){const o=b.Qb();b.Pb(0,"button",49),b.Wb("click",(function(){return b.oc(o),b.Yb(2).openModal("SolicitudAhorro")})),b.Kb(1,"i",50),b.vc(2,"\xa0Enviar solicitud"),b.Ob()}if(2&o){const o=b.Yb(2);b.ec("disabled",o.loading)}}function N(o,i){1&o&&b.Kb(0,"i",51)}function S(o,i){1&o&&(b.Pb(0,"span",59),b.vc(1,"APROBADA"),b.Ob())}function Y(o,i){1&o&&(b.Pb(0,"span",60),b.vc(1,"RECHAZADO"),b.Ob())}function D(o,i){if(1&o&&(b.Pb(0,"tr"),b.Pb(1,"td",56),b.vc(2),b.Zb(3,"date"),b.Ob(),b.Pb(4,"td",56),b.vc(5),b.Ob(),b.Pb(6,"td",56),b.uc(7,S,2,0,"span",57),b.uc(8,Y,2,0,"span",58),b.Ob(),b.Pb(9,"td",56),b.vc(10),b.Ob(),b.Ob()),2&o){const o=i.$implicit;b.xb(2),b.wc(b.bc(3,5,o.fechaCreacion,"dd/MM/yyyy")),b.xb(3),b.wc(o.area),b.xb(2),b.ec("ngIf",o.status),b.xb(1),b.ec("ngIf",!o.status),b.xb(2),b.wc(o.statusDetalle)}}function K(o,i){if(1&o&&(b.Pb(0,"div",1),b.Kb(1,"div",52),b.Pb(2,"div",53),b.Pb(3,"strong"),b.vc(4,"Autorizaciones"),b.Ob(),b.Kb(5,"br"),b.Kb(6,"br"),b.Pb(7,"table",54),b.Pb(8,"thead",55),b.Pb(9,"tr"),b.Pb(10,"th"),b.vc(11,"FECHA"),b.Ob(),b.Pb(12,"th"),b.vc(13,"AREA"),b.Ob(),b.Pb(14,"th"),b.vc(15,"ESTATUS"),b.Ob(),b.Pb(16,"th"),b.vc(17,"OBSERVACIONES"),b.Ob(),b.Ob(),b.Ob(),b.Pb(18,"tbody"),b.uc(19,D,11,8,"tr",7),b.Ob(),b.Ob(),b.Ob(),b.Kb(20,"div",52),b.Ob()),2&o){const o=b.Yb(2);b.xb(19),b.ec("ngForOf",o.solicitudAhorro.validaciones)}}function k(o,i){if(1&o){const o=b.Qb();b.Pb(0,"tab"),b.uc(1,A,2,0,"ng-template",24),b.Pb(2,"div",1),b.Pb(3,"div",25),b.Pb(4,"form",26),b.Pb(5,"div",27),b.Pb(6,"label",28),b.vc(7,"Nombre"),b.Ob(),b.Pb(8,"div",29),b.Pb(9,"p",30),b.Pb(10,"strong"),b.vc(11),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(12,"div",27),b.Pb(13,"label",31),b.vc(14,"No. empleado"),b.Ob(),b.Pb(15,"div",29),b.Pb(16,"input",32),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().usuario.noEmpleado=i})),b.Ob(),b.Ob(),b.Ob(),b.Pb(17,"div",27),b.Pb(18,"label",33),b.vc(19,"Oficina"),b.Ob(),b.Pb(20,"div",29),b.Pb(21,"input",34),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().usuario.datosUsuario.OFICINA=i})),b.Ob(),b.Ob(),b.Ob(),b.Pb(22,"div",27),b.Pb(23,"label",35),b.vc(24,"Descuento quincenal"),b.Ob(),b.Pb(25,"div",29),b.Pb(26,"input",36),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().solicitudAhorro.atributos.MONTO=i})),b.Ob(),b.uc(27,x,2,0,"span",37),b.Ob(),b.Ob(),b.Pb(28,"div",27),b.Pb(29,"label",38),b.vc(30,"Fecha inicio"),b.Ob(),b.Pb(31,"div",29),b.uc(32,y,2,4,"input",39),b.uc(33,w,1,1,"input",40),b.uc(34,E,2,0,"span",37),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(35,"div",25),b.Pb(36,"span",41),b.vc(37," Yo "),b.Pb(38,"strong"),b.vc(39),b.Ob(),b.vc(40," con n\xfamero de trabajador "),b.Pb(41,"strong"),b.vc(42),b.Ob(),b.vc(43," adscrito a la Oficina "),b.Pb(44,"strong"),b.vc(45),b.Ob(),b.vc(46," autorizo que por este medio se descuente de mi pago de n\xf3mina, la cantidad de "),b.Pb(47,"strong"),b.vc(48),b.Ob(),b.vc(49,"de manera quincenal a partir de la siguiente fecha "),b.Pb(50,"strong"),b.vc(51),b.Zb(52,"date"),b.Ob(),b.vc(53,", durante el per\xedodo correspondiente, autorizo que la cantidad retenida sea depositada en la cuenta del PROGRAMA DE AHORRO VOLUNTARIO. Estoy de acuerdo que la cantidad ahorrada y los intereses que se hubiesen generado me sean entregados al t\xe9rmino del per\xedodo. "),b.Ob(),b.Kb(54,"br"),b.Kb(55,"br"),b.uc(56,F,3,1,"button",42),b.uc(57,N,1,0,"i",43),b.Ob(),b.Ob(),b.uc(58,K,21,1,"div",44),b.Ob()}if(2&o){const o=b.Yb();b.xb(11),b.wc(o.usuario.nombre),b.xb(5),b.ec("ngModel",o.usuario.noEmpleado),b.xb(5),b.ec("ngModel",o.usuario.datosUsuario.OFICINA),b.xb(5),b.ec("disabled",void 0!==o.solicitudAhorro.id)("ngModel",o.solicitudAhorro.atributos.MONTO),b.xb(1),b.ec("ngIf",void 0===o.solicitudAhorro.id),b.xb(5),b.ec("ngIf",void 0===o.solicitudAhorro.atributos.FECHA),b.xb(1),b.ec("ngIf",void 0!==o.solicitudAhorro.atributos.FECHA),b.xb(1),b.ec("ngIf",void 0===o.solicitudAhorro.atributos.FECHA),b.xb(5),b.wc(o.usuario.nombre),b.xb(3),b.wc(o.usuario.noEmpleado),b.xb(3),b.wc(o.usuario.datosUsuario.OFICINA),b.xb(3),b.xc(" $ ",o.solicitudAhorro.atributos.MONTO," "),b.xb(3),b.wc(b.ac(52,17,o.bsValue)),b.xb(5),b.ec("ngIf",void 0===o.solicitudAhorro.id),b.xb(1),b.ec("ngIf",o.loading),b.xb(1),b.ec("ngIf",void 0!==o.solicitudAhorro.id&&o.solicitudAhorro.validaciones.length>0)}}function T(o,i){1&o&&(b.Kb(0,"i",65),b.vc(1,"\xa0 Modificaci\xf3n"))}function H(o,i){1&o&&(b.Pb(0,"span",41),b.vc(1,"Descuento actual"),b.Ob())}function q(o,i){1&o&&(b.Pb(0,"span",41),b.vc(1,"Nueva cantidad"),b.Ob())}function V(o,i){if(1&o){const o=b.Qb();b.Pb(0,"input",66,47),b.Wb("bsValueChange",(function(i){return b.oc(o),b.Yb(2).bsValue=i})),b.Ob()}if(2&o){const o=b.Yb(2);b.ec("bsConfig",b.gc(3,I))("datesEnabled",o.enabledDates)("bsValue",o.bsValue)}}function R(o,i){if(1&o){const o=b.Qb();b.Pb(0,"input",67),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb(2).solicitudModificacion.atributos.FECHA=i})),b.Ob()}if(2&o){const o=b.Yb(2);b.ec("ngModel",o.solicitudModificacion.atributos.FECHA)}}function U(o,i){1&o&&(b.Pb(0,"span",41),b.vc(1,"fecha modificacion descuento"),b.Ob())}function W(o,i){1&o&&b.Kb(0,"i",51)}function L(o,i){if(1&o){const o=b.Qb();b.Pb(0,"tab"),b.uc(1,T,2,0,"ng-template",24),b.Kb(2,"br"),b.Pb(3,"div",1),b.Pb(4,"div",25),b.Pb(5,"form",26),b.Pb(6,"div",27),b.Pb(7,"label",28),b.vc(8,"Nombre"),b.Ob(),b.Pb(9,"div",29),b.Pb(10,"p",30),b.Pb(11,"strong"),b.vc(12),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(13,"div",27),b.Pb(14,"label",31),b.vc(15,"No. empleado"),b.Ob(),b.Pb(16,"div",29),b.Pb(17,"input",32),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().usuario.noEmpleado=i})),b.Ob(),b.Ob(),b.Ob(),b.Pb(18,"div",27),b.Pb(19,"label",33),b.vc(20,"Oficina"),b.Ob(),b.Pb(21,"div",29),b.Pb(22,"input",34),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().usuario.datosUsuario.OFICINA=i})),b.Ob(),b.Ob(),b.Ob(),b.Pb(23,"div",27),b.Pb(24,"label",61),b.vc(25,"Descuento quincenal actual"),b.Ob(),b.Pb(26,"div",29),b.Pb(27,"input",62),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().solicitudModificacion.atributos.MONTO=i})),b.Ob(),b.uc(28,H,2,0,"span",37),b.Ob(),b.Ob(),b.Pb(29,"div",27),b.Pb(30,"label",35),b.vc(31,"Nuevo descuento"),b.Ob(),b.Pb(32,"div",29),b.Pb(33,"input",36),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().solicitudModificacion.atributos.MONTO_MODIFICACION=i})),b.Ob(),b.uc(34,q,2,0,"span",37),b.Ob(),b.Ob(),b.Pb(35,"div",27),b.Pb(36,"label",38),b.vc(37,"Fecha modificacion"),b.Ob(),b.Pb(38,"div",29),b.uc(39,V,2,4,"input",63),b.uc(40,R,1,1,"input",64),b.uc(41,U,2,0,"span",37),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(42,"div",25),b.Pb(43,"span",41),b.vc(44," Yo "),b.Pb(45,"strong"),b.vc(46),b.Ob(),b.vc(47," con n\xfamero de trabajador "),b.Pb(48,"strong"),b.vc(49),b.Ob(),b.vc(50," adscrito a la Oficina "),b.Pb(51,"strong"),b.vc(52),b.Ob(),b.vc(53," solicito por este medio se modifique el descuento de "),b.Pb(54,"strong"),b.vc(55),b.Ob(),b.vc(56," que se me aplica en mi pago de n\xf3mina por la por la cantidad de "),b.Pb(57,"strong"),b.vc(58),b.Ob(),b.vc(59," aplicable a partir de la fecha "),b.Pb(60,"strong"),b.vc(61),b.Zb(62,"date"),b.Ob(),b.vc(63,". "),b.Ob(),b.Kb(64,"br"),b.Kb(65,"br"),b.Pb(66,"button",49),b.Wb("click",(function(){return b.oc(o),b.Yb().openModal("ModificacionAhorro")})),b.Kb(67,"i",50),b.vc(68,"\xa0 Enviar solicitud "),b.uc(69,W,1,0,"i",43),b.Ob(),b.Ob(),b.Ob(),b.Ob()}if(2&o){const o=b.Yb();b.xb(12),b.wc(o.usuario.nombre),b.xb(5),b.ec("ngModel",o.usuario.noEmpleado),b.xb(5),b.ec("ngModel",o.usuario.datosUsuario.OFICINA),b.xb(5),b.ec("disabled",void 0!==o.solicitudModificacion.atributos.MONTO)("ngModel",o.solicitudModificacion.atributos.MONTO),b.xb(1),b.ec("ngIf",void 0===o.solicitudModificacion.atributos.MONTO),b.xb(5),b.ec("disabled",void 0!==o.solicitudModificacion.id)("ngModel",o.solicitudModificacion.atributos.MONTO_MODIFICACION),b.xb(1),b.ec("ngIf",void 0===o.solicitudModificacion.id),b.xb(5),b.ec("ngIf",void 0===o.solicitudModificacion.atributos.FECHA),b.xb(1),b.ec("ngIf",void 0!==o.solicitudModificacion.atributos.FECHA),b.xb(1),b.ec("ngIf",void 0===o.solicitudModificacion.atributos.FECHA),b.xb(5),b.wc(o.usuario.nombre),b.xb(3),b.wc(o.usuario.noEmpleado),b.xb(3),b.wc(o.usuario.datosUsuario.OFICINA),b.xb(3),b.xc(" $ ",o.solicitudModificacion.atributos.MONTO," "),b.xb(3),b.xc(" $ ",o.solicitudModificacion.atributos.MONTO_MODIFICACION," "),b.xb(3),b.wc(b.ac(62,20,o.bsValue)),b.xb(5),b.ec("disabled",o.loading),b.xb(3),b.ec("ngIf",o.loading)}}function $(o,i){1&o&&(b.Kb(0,"i",70),b.vc(1,"\xa0 Retiro Parcial"))}function Q(o,i){1&o&&b.Kb(0,"i",51)}function j(o,i){if(1&o){const o=b.Qb();b.Pb(0,"tab"),b.uc(1,$,2,0,"ng-template",24),b.Kb(2,"br"),b.Pb(3,"div",1),b.Pb(4,"div",25),b.Pb(5,"form",26),b.Pb(6,"div",27),b.Pb(7,"label",28),b.vc(8,"Nombre"),b.Ob(),b.Pb(9,"div",29),b.Pb(10,"p",30),b.Pb(11,"strong"),b.vc(12),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(13,"div",27),b.Pb(14,"label",31),b.vc(15,"No. empleado"),b.Ob(),b.Pb(16,"div",29),b.Pb(17,"input",32),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().usuario.noEmpleado=i})),b.Ob(),b.Ob(),b.Ob(),b.Pb(18,"div",27),b.Pb(19,"label",33),b.vc(20,"Oficina"),b.Ob(),b.Pb(21,"div",29),b.Pb(22,"input",34),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().usuario.datosUsuario.OFICINA=i})),b.Ob(),b.Ob(),b.Ob(),b.Pb(23,"div",27),b.Pb(24,"label",35),b.vc(25,"Monto de retiro"),b.Ob(),b.Pb(26,"div",29),b.Kb(27,"input",68),b.Pb(28,"span",41),b.vc(29,"Monto a retirar"),b.Ob(),b.Ob(),b.Ob(),b.Pb(30,"div",27),b.Pb(31,"label",38),b.vc(32,"Cuenta deposito"),b.Ob(),b.Pb(33,"div",29),b.Kb(34,"input",69),b.Pb(35,"span",41),b.vc(36,"cuenta deposito"),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(37,"div",25),b.Pb(38,"span",41),b.vc(39," Yo "),b.Pb(40,"strong"),b.vc(41),b.Ob(),b.vc(42," con n\xfamero de trabajador "),b.Pb(43,"strong"),b.vc(44),b.Ob(),b.vc(45," adscrito a la Oficina "),b.Pb(46,"strong"),b.vc(47),b.Ob(),b.vc(48," solicito por este medio la cantidad de $ ###.## por concepto de Retiro Parcial de mi ahorro, que sea depositado a la cuenta 0000 0000 0000 0000 "),b.Ob(),b.Kb(49,"br"),b.Kb(50,"br"),b.Pb(51,"button",49),b.Wb("click",(function(){return b.oc(o),b.Yb().openModal("RetiroParcial")})),b.Kb(52,"i",50),b.vc(53,"\xa0 Enviar solicitud "),b.uc(54,Q,1,0,"i",43),b.Ob(),b.Ob(),b.Ob(),b.Ob()}if(2&o){const o=b.Yb();b.xb(12),b.wc(o.usuario.nombre),b.xb(5),b.ec("ngModel",o.usuario.noEmpleado),b.xb(5),b.ec("ngModel",o.usuario.datosUsuario.OFICINA),b.xb(19),b.wc(o.usuario.nombre),b.xb(3),b.wc(o.usuario.noEmpleado),b.xb(3),b.wc(o.usuario.datosUsuario.OFICINA),b.xb(4),b.ec("disabled",o.loading),b.xb(3),b.ec("ngIf",o.loading)}}function z(o,i){1&o&&(b.Kb(0,"i",73),b.vc(1,"\xa0 Cancelaci\xf3n"))}function B(o,i){1&o&&(b.Pb(0,"span",41),b.vc(1,"Descuento quincenal"),b.Ob())}function Z(o,i){if(1&o){const o=b.Qb();b.Pb(0,"input",46,47),b.Wb("bsValueChange",(function(i){return b.oc(o),b.Yb(2).bsValue=i})),b.Ob()}if(2&o){const o=b.Yb(2);b.ec("bsConfig",b.gc(3,I))("datesEnabled",o.enabledDates)("bsValue",o.bsValue)}}function J(o,i){if(1&o){const o=b.Qb();b.Pb(0,"input",48),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb(2).solicitudAhorro.atributos.FECHA=i})),b.Ob()}if(2&o){const o=b.Yb(2);b.ec("ngModel",o.solicitudAhorro.atributos.FECHA)}}function _(o,i){1&o&&(b.Pb(0,"span",41),b.vc(1,"fecha inicio descuentos"),b.Ob())}function G(o,i){1&o&&b.Kb(0,"i",51)}function X(o,i){if(1&o){const o=b.Qb();b.Pb(0,"tab"),b.uc(1,z,2,0,"ng-template",24),b.Kb(2,"br"),b.Pb(3,"div",1),b.Pb(4,"div",25),b.Pb(5,"form",26),b.Pb(6,"div",27),b.Pb(7,"label",28),b.vc(8,"Nombre"),b.Ob(),b.Pb(9,"div",29),b.Pb(10,"p",30),b.Pb(11,"strong"),b.vc(12),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(13,"div",27),b.Pb(14,"label",31),b.vc(15,"No. empleado"),b.Ob(),b.Pb(16,"div",29),b.Pb(17,"input",32),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().usuario.datosUsuario.NO_EMPLEADO=i})),b.Ob(),b.Ob(),b.Ob(),b.Pb(18,"div",27),b.Pb(19,"label",33),b.vc(20,"Oficina"),b.Ob(),b.Pb(21,"div",29),b.Pb(22,"input",34),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().usuario.datosUsuario.OFICINA=i})),b.Ob(),b.Ob(),b.Ob(),b.Pb(23,"div",27),b.Pb(24,"label",35),b.vc(25,"Descuento quincenal"),b.Ob(),b.Pb(26,"div",29),b.Pb(27,"input",36),b.Wb("ngModelChange",(function(i){return b.oc(o),b.Yb().solicitudAhorro.atributos.MONTO=i})),b.Ob(),b.uc(28,B,2,0,"span",37),b.Ob(),b.Ob(),b.Pb(29,"div",27),b.Pb(30,"label",38),b.vc(31,"Fecha inicio"),b.Ob(),b.Pb(32,"div",29),b.uc(33,Z,2,4,"input",39),b.uc(34,J,1,1,"input",40),b.uc(35,_,2,0,"span",37),b.Ob(),b.Ob(),b.Pb(36,"div",27),b.Pb(37,"label",71),b.vc(38,"Motivo de cancelacion"),b.Ob(),b.Pb(39,"div",29),b.Kb(40,"textarea",72),b.Ob(),b.Ob(),b.Pb(41,"div",27),b.Pb(42,"label",38),b.vc(43,"Cuenta deposito"),b.Ob(),b.Pb(44,"div",29),b.Kb(45,"input",69),b.Pb(46,"span",41),b.vc(47,"cuenta deposito"),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(48,"div",25),b.Pb(49,"span",41),b.vc(50," Yo "),b.Pb(51,"strong"),b.vc(52),b.Ob(),b.vc(53," con n\xfamero de trabajador "),b.Pb(54,"strong"),b.vc(55),b.Ob(),b.vc(56," adscrito a la Oficina "),b.Pb(57,"strong"),b.vc(58),b.Ob(),b.vc(59," solicito por este medio se cancele el descuento que se aplica en mi pago de n\xf3mina la cantidad de de $ ###.## de manera quincenal a partir de la siguiente fecha yyyy-MM-dd, debido a RAZON_MOTIVO_CANCELACI\xd3N y asimismo se me reintegre la cantidad ahorrada en la cuenta del PROGRAMA DE AHORRO VOLUNTARIO a mi cuenta 0000 0000 0000 0000 "),b.Ob(),b.Kb(60,"br"),b.Kb(61,"br"),b.Pb(62,"button",49),b.Wb("click",(function(){return b.oc(o),b.Yb().openModal("CancelacionAhorro")})),b.Kb(63,"i",50),b.vc(64,"\xa0 Enviar solicitud "),b.uc(65,G,1,0,"i",43),b.Ob(),b.Ob(),b.Ob(),b.Ob()}if(2&o){const o=b.Yb();b.xb(12),b.wc(o.usuario.nombre),b.xb(5),b.ec("ngModel",o.usuario.datosUsuario.NO_EMPLEADO),b.xb(5),b.ec("ngModel",o.usuario.datosUsuario.OFICINA),b.xb(5),b.ec("disabled",void 0!==o.solicitudAhorro.id)("ngModel",o.solicitudAhorro.atributos.MONTO),b.xb(1),b.ec("ngIf",void 0===o.solicitudAhorro.id),b.xb(5),b.ec("ngIf",void 0===o.solicitudAhorro.atributos.FECHA),b.xb(1),b.ec("ngIf",void 0!==o.solicitudAhorro.atributos.FECHA),b.xb(1),b.ec("ngIf",void 0===o.solicitudAhorro.atributos.FECHA),b.xb(17),b.wc(o.usuario.nombre),b.xb(3),b.wc(o.usuario.noEmpleado),b.xb(3),b.wc(o.usuario.datosUsuario.OFICINA),b.xb(4),b.ec("disabled",o.loading),b.xb(3),b.ec("ngIf",o.loading)}}function oo(o,i){if(1&o&&(b.Pb(0,"p",74),b.vc(1),b.Ob()),2&o){const o=b.Yb();b.xb(1),b.wc(o.success)}}const io=[{path:"reportes",component:l,data:{title:"Historico ahorro"}},{path:"tramites",component:(()=>{class o{constructor(o,i,t){this.datepipe=o,this.userService=i,this.solicitudService=t,this.loading=!1,this.usuario=new u.a,this.errorMessages=[],this.success="",this.tipoSolicitud="SolicitudAhorro",this.alerts=[],this.solicitudSat=!1,this.solicitudAhorro=new h.a,this.solicitudModificacion=new h.a,this.solicitudRetiro=new h.a,this.solicitudCancelacion=new h.a,this.enabledDates=[new Date("2020-09-15"),new Date("2020-10-01"),new Date("2020-10-15"),new Date("2020-11-01"),new Date("2020-11-15"),new Date("2020-12-01"),new Date("2020-12-15")]}ngOnInit(){this.errorMessages=[],this.success="",this.userService.myInfo().toPromise().then(o=>{this.solicitudService.getSolicitudesByUsuario(o.id).subscribe(o=>{this.solicitudAhorro=o.find(o=>"SolicitudAhorro"===o.tipo)||new h.a("SolicitudAhorro"),this.solicitudCancelacion=o.find(o=>"CancelacionAhorro"===o.tipo)||new h.a("CancelacionAhorro"),this.solicitudRetiro=o.find(o=>"RetiroParcialAhorro"===o.tipo)||new h.a("RetiroParcialAhorro"),this.solicitudModificacion=o.find(o=>"ModificacionAhorro"===o.tipo)||new h.a("ModificacionAhorro"),this.solicitudModificacion.atributos.MONTO=this.solicitudAhorro.atributos.MONTO,this.staticTabs.tabs[0].active=!0}),this.userService.getUsuario(o.id).toPromise().then(o=>this.usuario=o)}).catch(o=>{this.alerts.push(o),this.loading=!1})}requestSolicitud(o){this.loading=!0,this.alerts=[],o.idUsuario=this.usuario.id,o.status="Solicitud",o.statusDetalle="Solicitud inicial",o.fechaEjecucion=new Date(this.bsValue),o.atributos.FECHA=this.datepipe.transform(this.bsValue,"yyyy-MM-dd"),this.solicitudService.postSolictudUsuario(this.usuario.id,o).toPromise().then(o=>{this.success="Se ha enviado la solicitud correctamente",this.loading=!1}).catch(o=>{this.alerts.push(o),this.loading=!1})}openModal(o){this.tipoSolicitud=o,console.log("requesting "+o),this.modalConfirmacion.show()}cancelar(){this.modalConfirmacion.hide()}aceptar(){switch(console.log("acepting "+this.tipoSolicitud),this.tipoSolicitud){case"SolicitudAhorro":this.requestSolicitud(this.solicitudAhorro);break;case"CancelacionAhorro":this.requestSolicitud(this.solicitudCancelacion);break;case"RetiroParcialAhorro":this.requestSolicitud(this.solicitudRetiro);break;case"ModificacionAhorro":this.requestSolicitud(this.solicitudModificacion);break;default:this.errorMessages.push("Error identificando el tipo de solicitud")}this.modalConfirmacion.hide()}}return o.\u0275fac=function(i){return new(i||o)(b.Jb(e.f),b.Jb(c.a),b.Jb(f.a))},o.\u0275cmp=b.Db({type:o,selectors:[["cybord-tramites-ahorro"]],viewQuery:function(o,i){var t;1&o&&(b.yc(m,!0),b.yc(C,!0)),2&o&&(b.lc(t=b.Xb())&&(i.modalConfirmacion=t.first),b.lc(t=b.Xb())&&(i.staticTabs=t.first))},decls:36,vars:6,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body","bg-gray-100"],[1,"col-sm-12"],[4,"ngFor","ngForOf"],["staticTabs",""],[4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["bsModal","","id","modalConfirmacion","tabindex","-1","role","dialog","aria-labelledby","modalConfirmacion","aria-hidden","true",1,"modal","fade"],["modalConfirmacion","bs-modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalConfirmacionLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["type","danger",3,"dismissible"],["tabHeading",""],[1,"col-xs-12","col-sm-12","col-md-6","form-group"],["action","","method","post","enctype","multipart/form-data",1,"form-horizontal"],[1,"form-group","row"],[1,"col-md-3","col-form-label"],[1,"col-md-9"],[1,"form-control-static"],["for","no-emp",1,"col-md-3","col-form-label"],["type","number","id","no-emp","name","text-input","disabled","","placeholder","No empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","office",1,"col-md-3","col-form-label"],["type","text","id","oficina","name","oficina","disabled","","placeholder","Oficina empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","quantity",1,"col-md-3","col-form-label"],["type","number","id","quantity","name","quantity","min","100","placeholder","100.00","min","100","max","20000",1,"form-control",3,"disabled","ngModel","ngModelChange"],["class","help-block",4,"ngIf"],["for","start-date",1,"col-md-3","col-form-label"],["id","start-date","type","text","class","form-control","bsDatepicker","",3,"bsConfig","datesEnabled","bsValue","bsValueChange",4,"ngIf"],["type","text","id","start-date","name","start-date","class","form-control","disabled","","placeholder","fecha inicio descuentos",3,"ngModel","ngModelChange",4,"ngIf"],[1,"help-block"],["type","button","class","btn btn-sm btn-success",3,"disabled","click",4,"ngIf"],["class","fa fa-spinner fa-spin",4,"ngIf"],["class","row",4,"ngIf"],[1,"icon-docs"],["id","start-date","type","text","bsDatepicker","",1,"form-control",3,"bsConfig","datesEnabled","bsValue","bsValueChange"],["dp","bsDatepicker"],["type","text","id","start-date","name","start-date","disabled","","placeholder","fecha inicio descuentos",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-sm","btn-success",3,"disabled","click"],[1,"fa","fa-dot-circle-o"],[1,"fa","fa-spinner","fa-spin"],[1,"col"],[1,"col-6"],[1,"table","table-bordered","table-striped","table-sm"],[1,"thead-dark"],["scope","row"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-danger"],["for","quantity1",1,"col-md-3","col-form-label"],["type","number","id","quantity1","name","quantity1","min","100","placeholder","100.00","min","100","max","20000",1,"form-control",3,"disabled","ngModel","ngModelChange"],["id","modif-date","type","text","class","form-control","bsDatepicker","",3,"bsConfig","datesEnabled","bsValue","bsValueChange",4,"ngIf"],["type","text","id","modif-date","name","modif-date","class","form-control","disabled","","placeholder","fecha inicio descuentos",3,"ngModel","ngModelChange",4,"ngIf"],[1,"icon-refresh"],["id","modif-date","type","text","bsDatepicker","",1,"form-control",3,"bsConfig","datesEnabled","bsValue","bsValueChange"],["type","text","id","modif-date","name","modif-date","disabled","","placeholder","fecha inicio descuentos",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","quantity","name","text-input","min","100","placeholder","100.00",1,"form-control"],["type","text","id","ccnumber","placeholder","0000 0000 0000 0000",1,"form-control"],[1,"icon-reload"],["for","textarea-input",1,"col-md-3","col-form-label"],["id","textarea-input","name","textarea-input","rows","9","placeholder","Raz\xf3n o motivo de cancelaci\xf3n del ahorro",1,"form-control"],[1,"icon-envelope-open"],["role","alert",1,"alert","alert-success"]],template:function(o,i){1&o&&(b.Pb(0,"div",0),b.Pb(1,"div",1),b.Pb(2,"div",2),b.Pb(3,"div",3),b.Pb(4,"div",4),b.Pb(5,"strong"),b.vc(6,"Tr\xe1mites ahorro"),b.Ob(),b.Ob(),b.Pb(7,"div",5),b.Pb(8,"div",1),b.Pb(9,"div",6),b.uc(10,M,3,2,"div",7),b.Pb(11,"tabset",null,8),b.uc(13,k,59,19,"tab",9),b.uc(14,L,70,22,"tab",9),b.uc(15,j,55,8,"tab",9),b.uc(16,X,66,14,"tab",9),b.Ob(),b.Ob(),b.Ob(),b.Kb(17,"br"),b.uc(18,oo,2,1,"p",10),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(19,"div",11,12),b.Pb(21,"div",13),b.Pb(22,"div",14),b.Pb(23,"div",15),b.Pb(24,"h5",16),b.vc(25,"Confirmacion"),b.Ob(),b.Pb(26,"button",17),b.Wb("click",(function(){return i.cancelar()})),b.Pb(27,"span",18),b.vc(28,"\xd7"),b.Ob(),b.Ob(),b.Ob(),b.Pb(29,"div",19),b.vc(30," \xbfEstas seguro que quieres enviar la solicitud? "),b.Ob(),b.Pb(31,"div",20),b.Pb(32,"button",21),b.Wb("click",(function(){return i.aceptar()})),b.vc(33,"Si"),b.Ob(),b.Pb(34,"button",22),b.Wb("click",(function(){return i.cancelar()})),b.vc(35,"No"),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob()),2&o&&(b.xb(10),b.ec("ngForOf",i.alerts),b.xb(3),b.ec("ngIf",void 0===i.solicitudAhorro.id||"Finalizada"!==i.solicitudAhorro.status),b.xb(1),b.ec("ngIf","Finalizada"===i.solicitudAhorro.status),b.xb(1),b.ec("ngIf","Finalizada"===i.solicitudAhorro.status),b.xb(1),b.ec("ngIf","Finalizada"===i.solicitudAhorro.status),b.xb(2),b.ec("ngIf",i.success.length>0))},directives:[e.l,O.d,e.m,p.a,v.a,O.a,O.b,g.t,g.j,g.k,g.n,g.b,g.i,g.l,P.b,P.a],pipes:[e.f],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}"]}),o})(),data:{title:"Tr\xe1mites ahorro"}}];let to=(()=>{class o{}return o.\u0275mod=b.Hb({type:o}),o.\u0275inj=b.Gb({factory:function(i){return new(i||o)},imports:[[a.g.forChild(io)],a.g]}),o})();var eo=t("65jD");let ao=(()=>{class o{}return o.\u0275mod=b.Hb({type:o}),o.\u0275inj=b.Gb({factory:function(i){return new(i||o)},providers:[e.f],imports:[[eo.CommonsPagesModule,to,s.b,O.c.forRoot(),g.f]]}),o})()},xKGb:function(o,i,t){"use strict";t.d(i,"a",(function(){return b}));var e=t("IheW"),a=t("8Y7J");let b=(()=>{class o{constructor(o){this.http=o}getHttpParams(o){let i=new e.d;for(const t in o)if(void 0!==o[t]){const e=o[t].toString();null!==e&&e.length>0&&"*"!==e&&(i=i.append(t,e))}return i}getSolicitudes(o){return this.http.get("../api/v1/solicitudes",{params:this.getHttpParams(o)})}getSolicitudesById(o){return this.http.get("../api/v1/solicitudes/"+o)}getSolicitudesByUsuarioAndId(o,i){return this.http.get(`../api/v1/usuarios/${o}/solicitudes/${i}`)}getSolicitudesByUsuario(o){return this.http.get(`../api/v1/usuarios/${o}/solicitudes`)}postSolictudUsuario(o,i){return this.http.post(`../api/v1/usuarios/${o}/solicitudes`,i)}putSolictud(o,i){return this.http.post("../api/v1/solicitudes/"+o,i)}deleteSolictud(o){return this.http.delete("../api/v1/solicitudes/"+o)}}return o.\u0275fac=function(i){return new(i||o)(a.Tb(e.b))},o.\u0275prov=a.Fb({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);