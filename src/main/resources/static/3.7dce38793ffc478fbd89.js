(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"27T3":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));class o{constructor(){}}},"2jvo":function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var o=a("mrSG"),n=a("EwKM"),i=a("27T3"),c=a("KZhB"),b=a("8Y7J"),r=a("iInd"),s=a("SVse"),l=a("q+li"),d=a("oxVP"),p=a("bEsI"),g=a("cUpR"),u=a("ESM5"),f=a("s7LF"),h=a("ienR"),m=a("LqlI"),X=a("jksu");const W=["modalConfirmacion"];function v(e,t){1&e&&b.Sb(0,"i",80)}function G(e,t){1&e&&(b.Xb(0,"div",81),b.Gc(1," No se encontraron resultados "),b.Wb())}function y(e,t){1&e&&(b.Xb(0,"option",33),b.Gc(1,"20"),b.Wb())}function E(e,t){1&e&&(b.Xb(0,"option",90),b.Gc(1,"50"),b.Wb())}function P(e,t){if(1&e){const e=b.Yb();b.Xb(0,"select",87),b.ec("ngModelChange",(function(t){return b.yc(e),b.gc(2).filterParams.size=t}))("change",(function(t){return b.yc(e),b.gc(2).onChangePageSize(t.target.value)})),b.Xb(1,"option",23),b.Gc(2,"10"),b.Wb(),b.Ec(3,y,2,0,"option",88),b.Ec(4,E,2,0,"option",89),b.Wb()}if(2&e){const e=b.gc(2);b.nc("ngModel",e.filterParams.size),b.Fb(3),b.nc("ngIf",e.page.number<e.page.totalElements/20),b.Fb(1),b.nc("ngIf",e.page.number<e.page.totalElements/50)}}function F(e,t){if(1&e){const e=b.Yb();b.Xb(0,"div",82),b.Xb(1,"button",83),b.ec("click",(function(){return b.yc(e),b.gc().downloadXLSFile()})),b.Sb(2,"i",84),b.Wb(),b.Ec(3,P,5,3,"select",85),b.Xb(4,"strong",86),b.Gc(5," Tama\xf1o Pagina \xa0\xa0\xa0\xa0"),b.Wb(),b.Wb()}if(2&e){const e=b.gc();b.Fb(3),b.nc("ngIf",0==e.page.last||1==e.page.first)}}function I(e,t){1&e&&(b.Xb(0,"p"),b.Gc(1,"SI"),b.Wb())}function M(e,t){1&e&&(b.Xb(0,"p"),b.Gc(1,"NO"),b.Wb())}const C=function(e,t){return{"btn-success":e,"btn-secondary":t}};function S(e,t){if(1&e){const e=b.Yb();b.Xb(0,"tr"),b.Xb(1,"td",95),b.Xb(2,"button",96),b.ec("click",(function(){b.yc(e);const a=t.$implicit;return b.gc(2).openModal(a)})),b.Sb(3,"i",97),b.Wb(),b.Wb(),b.Xb(4,"td",98),b.Ec(5,I,2,0,"p",56),b.Ec(6,M,2,0,"p",56),b.Wb(),b.Xb(7,"td",99),b.Gc(8),b.hc(9,"currency"),b.Wb(),b.Xb(10,"td",98),b.Gc(11),b.Wb(),b.Xb(12,"td",98),b.Gc(13),b.hc(14,"percent"),b.Wb(),b.Xb(15,"td",98),b.Gc(16),b.Wb(),b.Xb(17,"td",98),b.Gc(18),b.Wb(),b.Xb(19,"td",99),b.Gc(20),b.hc(21,"currency"),b.Wb(),b.Xb(22,"td",99),b.Gc(23),b.hc(24,"currency"),b.Wb(),b.Xb(25,"td",98),b.Gc(26),b.Wb(),b.Xb(27,"td",98),b.Gc(28),b.Wb(),b.Xb(29,"td",98),b.Gc(30),b.Wb(),b.Xb(31,"td",98),b.Gc(32),b.hc(33,"date"),b.Wb(),b.Xb(34,"td",98),b.Gc(35),b.hc(36,"date"),b.Wb(),b.Wb()}if(2&e){const e=t.$implicit,a=b.gc(2);b.Fb(2),b.nc("ngClass",b.rc(30,C,!e.validado,e.validado))("disabled",e.validado||a.loading),b.Fb(3),b.nc("ngIf",e.validado),b.Fb(1),b.nc("ngIf",!e.validado),b.Fb(2),b.Hc(b.ic(9,16,e.monto)),b.Fb(3),b.Hc(e.noQuincenas),b.Fb(2),b.Hc(b.ic(14,18,e.tasaInteres/100)),b.Fb(3),b.Hc(e.noEmpleado),b.Fb(2),b.Hc(e.nombreEmpleado),b.Fb(2),b.Hc(b.ic(21,20,e.montoPrestamo)),b.Fb(3),b.Hc(b.ic(24,22,e.saldoPendiente)),b.Fb(3),b.Hc(e.tipo),b.Fb(2),b.Hc(e.estatus),b.Fb(2),b.Hc(e.origen),b.Fb(2),b.Hc(b.jc(33,24,e.fechaCreacion,"dd/MM/yyyy HH:mm")),b.Fb(3),b.Hc(b.jc(36,27,e.fechaActualizacion,"dd/MM/yyyy HH:mm"))}}function A(e,t){if(1&e&&(b.Xb(0,"div",91),b.Xb(1,"table",68),b.Xb(2,"thead",92),b.Xb(3,"tr"),b.Xb(4,"th",93),b.Gc(5,"APROBACION"),b.Wb(),b.Xb(6,"th",93),b.Gc(7,"PAGO VALIDADO"),b.Wb(),b.Xb(8,"th",93),b.Gc(9,"MONTO PAGO"),b.Wb(),b.Xb(10,"th",93),b.Gc(11,"NO QUINCENAS"),b.Wb(),b.Xb(12,"th",93),b.Gc(13,"TASA"),b.Wb(),b.Xb(14,"th",93),b.Gc(15,"NO EMPLEADO"),b.Wb(),b.Xb(16,"th",93),b.Gc(17,"NOMBRE"),b.Wb(),b.Xb(18,"th",93),b.Gc(19,"MONTO PRESTAMO"),b.Wb(),b.Xb(20,"th",93),b.Gc(21,"SALDO PENDIENTE"),b.Wb(),b.Xb(22,"th",93),b.Gc(23,"TIPO"),b.Wb(),b.Xb(24,"th",93),b.Gc(25,"ESTATUS"),b.Wb(),b.Xb(26,"th",93),b.Gc(27,"MODIFICADO"),b.Wb(),b.Xb(28,"th",93),b.Gc(29,"CREACION"),b.Wb(),b.Xb(30,"th",93),b.Gc(31,"ACTUALIZACION"),b.Wb(),b.Wb(),b.Wb(),b.Xb(32,"tbody"),b.Ec(33,S,37,33,"tr",94),b.Wb(),b.Wb(),b.Wb()),2&e){const e=b.gc();b.Fb(33),b.nc("ngForOf",e.page.content)}}function w(e,t){if(1&e){const e=b.Yb();b.Xb(0,"li",105),b.Xb(1,"button",106),b.ec("click",(function(){b.yc(e);const t=b.gc(3);return t.updateDataTable(0,t.page.size)})),b.Sb(2,"i",107),b.Wb(),b.Wb()}}function O(e,t){if(1&e){const e=b.Yb();b.Xb(0,"li",105),b.Xb(1,"button",106),b.ec("click",(function(){b.yc(e);const t=b.gc(3);return t.updateDataTable(t.page.number-1,t.page.size)})),b.Gc(2),b.Wb(),b.Wb()}if(2&e){const e=b.gc(3);b.Fb(2),b.Hc(e.page.number)}}function T(e,t){if(1&e){const e=b.Yb();b.Xb(0,"li",105),b.Xb(1,"button",106),b.ec("click",(function(){b.yc(e);const t=b.gc(3);return t.updateDataTable(t.page.number+1,t.page.size)})),b.Gc(2),b.Wb(),b.Wb()}if(2&e){const e=b.gc(3);b.Fb(2),b.Hc(e.page.number+2)}}function R(e,t){if(1&e){const e=b.Yb();b.Xb(0,"li",105),b.Xb(1,"button",106),b.ec("click",(function(){b.yc(e);const t=b.gc(3);return t.updateDataTable(t.page.totalPages-1,t.page.size)})),b.Sb(2,"i",108),b.Wb(),b.Wb()}}function k(e,t){if(1&e&&(b.Xb(0,"ul",101),b.Ec(1,w,3,0,"li",102),b.Ec(2,O,3,1,"li",102),b.Xb(3,"li",103),b.Xb(4,"a",104),b.Xb(5,"strong"),b.Gc(6),b.Wb(),b.Wb(),b.Wb(),b.Ec(7,T,3,1,"li",102),b.Ec(8,R,3,0,"li",102),b.Wb()),2&e){const e=b.gc(2);b.Fb(1),b.nc("ngIf",0==e.page.first),b.Fb(1),b.nc("ngIf",0==e.page.first),b.Fb(4),b.Hc(e.page.number+1),b.Fb(1),b.nc("ngIf",0==e.page.last),b.Fb(1),b.nc("ngIf",0==e.page.last)}}function D(e,t){if(1&e&&(b.Xb(0,"div",82),b.Ec(1,k,9,5,"ul",100),b.Wb()),2&e){const e=b.gc();b.Fb(1),b.nc("ngIf",e.page.totalElements>1)}}function H(e,t){1&e&&b.Sb(0,"cybord-loader")}function N(e,t){if(1&e&&b.Sb(0,"img",109),2&e){const e=b.gc();b.nc("src",e.comprobanteUrl,b.Ac)}}function x(e,t){1&e&&(b.Xb(0,"h5",110),b.Gc(1,"SIN COMPROBANTE DE PAGO"),b.Wb())}function z(e,t){if(1&e&&(b.Xb(0,"div",111),b.Xb(1,"p"),b.Gc(2),b.Wb(),b.Wb()),2&e){const e=b.gc();b.Fb(2),b.Hc(e.message)}}function U(e,t){if(1&e){const e=b.Yb();b.Xb(0,"button",112),b.ec("click",(function(){return b.yc(e),b.gc().downloadImage()})),b.Gc(1,"Descargar comprobante"),b.Wb()}}const L=function(){return{standalone:!0}},B=function(e,t){return{"btn-primary":e,"btn-secondary":t}};let j=(()=>{class e{constructor(e,t,a,o,b,r,s){this.router=e,this.datepipe=t,this.downloadService=a,this.resourcesService=o,this.prestamoService=b,this.sanitizer=r,this.userService=s,this.module="usuarios",this.page=new n.a,this.pageSize="10",this.filterParams={nombre:"",no_quincenas:"",estatus:"*",noEmpleado:"",since:"",to:"",page:"0",size:"10",toUpdate:"",sinceUpdate:""},this.loading=!1,this.usuario=new c.a,this.saldo=new i.a,this.message=""}ngOnInit(){this.userService.myInfo().then(e=>this.usuario=e),this.updateDataTable(0,10)}updateDataTable(e,t){this.loading=!0,null==this.fechaCreacion?(this.filterParams.since="",this.filterParams.to=""):(this.fechaCreacion[1].setDate(this.fechaCreacion[1].getDate()+1),this.filterParams.since=this.datepipe.transform(this.fechaCreacion[0],"yyyy-MM-dd"),this.filterParams.to=this.datepipe.transform(this.fechaCreacion[1],"yyyy-MM-dd")),this.filterParams.page=e||0,this.filterParams.size=t||0,this.prestamoService.getSaldos(this.filterParams).subscribe(e=>{this.page=e,this.loading=!1})}onChangePageSize(e){this.updateDataTable(this.page.number,e)}mostrarComprobante(e){this.comprobanteUrl=void 0,"SISTEMA"!==e.origen&&this.resourcesService.getRecurso(e.id,"PRESTAMO","IMAGEN").subscribe(e=>{this.comprobanteUrl=this.sanitizer.bypassSecurityTrustUrl(e.dato)})}openModal(e){this.saldo=e,this.message="",this.modalConfirmacion.show(),this.mostrarComprobante(e)}salir(){this.message="",this.saldo=new i.a,this.modalConfirmacion.hide()}aprobarPago(){return Object(o.a)(this,void 0,void 0,(function*(){try{this.loading=!0;let e=Object.assign({},this.saldo);e.validado=!0,e.origen=this.usuario.email,this.saldo=yield this.prestamoService.updateSaldoPrestamo(this.saldo.id,e).toPromise(),this.message="Pago aprobado correctamente",this.saldo=new i.a,this.modalConfirmacion.hide(),this.updateDataTable(this.page.number,this.page.size)}catch(e){this.loading=!1,this.message=e}}))}downloadImage(){return Object(o.a)(this,void 0,void 0,(function*(){let e=yield this.resourcesService.getRecurso(this.saldo.id,"PRESTAMO","IMAGEN").toPromise();const t=this.convertBase64ToBlobData(e.dato.replace(/^data:image\/(png|jpeg|jpg);base64,/,""));let a="comprobantePago.jpeg";if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,a);else{const e=new Blob([t],{type:"image/jpeg"}),o=window.URL.createObjectURL(e),n=document.createElement("a");n.href=o,n.download=a,n.click()}}))}convertBase64ToBlobData(e,t="image/png",a=512){const o=atob(e),n=[];for(let i=0;i<o.length;i+=a){const e=o.slice(i,i+a),t=new Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);const c=new Uint8Array(t);n.push(c)}return new Blob(n,{type:t})}downloadXLSFile(){this.loading=!0,null==this.fechaCreacion?(this.filterParams.since="",this.filterParams.to=""):(this.fechaCreacion[1].setDate(this.fechaCreacion[1].getDate()+1),this.filterParams.since=this.datepipe.transform(this.fechaCreacion[0],"yyyy-MM-dd"),this.filterParams.to=this.datepipe.transform(this.fechaCreacion[1],"yyyy-MM-dd")),this.filterParams.page="0",this.filterParams.size="100000",this.prestamoService.getReporteSaldos(this.filterParams).subscribe(e=>{this.downloadService.downloadFile(e.dato,`ReporteSaldoPrestamos-${this.datepipe.transform(Date.now(),"yyyy-MM-dd")}.xls`,"application/vnd.ms-excel"),this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(b.Rb(r.c),b.Rb(s.f),b.Rb(l.a),b.Rb(d.a),b.Rb(p.a),b.Rb(g.b),b.Rb(u.a))},e.\u0275cmp=b.Lb({type:e,selectors:[["cybord-reporte-prestamos"]],viewQuery:function(e,t){var a;1&e&&b.Lc(W,!0),2&e&&b.uc(a=b.fc())&&(t.modalConfirmacion=a.first)},decls:204,vars:39,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row","slide_1"],[1,"col-md-2"],["for","noempleado",1,"label"],["type","text","fullWidth","","id","noemp","placeholder","No. Empleado",1,"form-control",3,"ngModel","ngModelChange"],["type","text","fullWidth","","id","noemp","placeholder","Nombre empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","inputActivo",1,"label"],["id","inputActivo",1,"form-control",2,"display","block",3,"ngModel","ngModelChange"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["value","13"],["value","14"],["value","15"],["value","16"],["value","17"],["value","18"],["value","19"],["value","20"],["value","21"],["value","22"],["value","23"],["value","24"],["value","*"],["value","SOLICITADO"],["value","PROCESO_DE_APROBACION"],["value","ACTIVO"],["value","SUSPENDIDO"],["value","TERMINADO"],["value","A_PAGAR_POR_AVAL"],["value","TRASPASADO"],["value","TRASPASADO_TERMINADOO"],["for","fechacre",1,"label"],[1,"form-group"],["type","text","placeholder","Fecha de creaci\xf3n","bsDaterangepicker","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",2,"margin-top","2em",3,"disabled","click"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"col"],["class","alert alert-primary","role","alert",4,"ngIf"],["class","clearfix",4,"ngIf"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["bsModal","","id","modalConfirmacion","tabindex","-1","role","dialog","aria-labelledby","modalConfirmacion","aria-hidden","true",1,"modal","fade","modal-info"],["modalConfirmacion","bs-modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalConfirmacionLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","card-img-top","style","height: 300px;width: 470px;","alt","Card image cap",3,"src",4,"ngIf"],["class","card-header","class","text-danger",4,"ngIf"],[1,"table","table-bordered","table-sm"],["scope","row",1,"text-left"],[1,"form-group","row"],["for","inputPassword",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","password","id","inputPassword",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["id","noEmpHelp",1,"form-text","text-muted"],["class","alert alert-info","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button",1,"btn",3,"ngClass","disabled","click"],["type","button",1,"btn","btn-warning",3,"click"],[1,"fa","fa-spinner","fa-spin"],["role","alert",1,"alert","alert-primary"],[1,"clearfix"],[1,"btn-sm","btn-success","float-right",3,"click"],[1,"fa","fa-file-excel-o","fa-sm"],["id","inputunidad","style","display:block;width: 95px; margin-right: 15px;","class","float-right form-control form-control-sm",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"float-right"],["id","inputunidad",1,"float-right","form-control","form-control-sm",2,"display","block","width","95px","margin-right","15px",3,"ngModel","ngModelChange","change"],["value","20",4,"ngIf"],["value","50",4,"ngIf"],["value","50"],[1,"table-responsive"],[1,"thead-dark"],[1,"text-center"],[4,"ngFor","ngForOf"],["scope","row",1,"text-center"],["type","button",1,"btn","btn-sm",3,"ngClass","disabled","click"],[1,"fa","fa","fa-search"],["scope","row"],["scope","row",1,"text-right"],["class","pagination float-right",4,"ngIf"],[1,"pagination","float-right"],["class","page-item",4,"ngIf"],[1,"page-item","active"],[1,"page-link"],[1,"page-item"],[1,"btn","page-link",3,"click"],[1,"icon-control-rewind","icons"],[1,"icon-control-forward","icons"],["alt","Card image cap",1,"card-img-top",2,"height","300px","width","470px",3,"src"],[1,"text-danger"],["role","alert",1,"alert","alert-info"],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,t){1&e&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"div",3),b.Xb(4,"div",4),b.Xb(5,"strong"),b.Gc(6,"Reportes prestamos sistema de caja"),b.Wb(),b.Wb(),b.Xb(7,"div",5),b.Xb(8,"div",6),b.Xb(9,"div",7),b.Xb(10,"label",8),b.Gc(11,"No. Empleado"),b.Wb(),b.Xb(12,"input",9),b.ec("ngModelChange",(function(e){return t.filterParams.noEmpleado=e})),b.Wb(),b.Wb(),b.Xb(13,"div",7),b.Xb(14,"label",8),b.Gc(15,"Nombre del Empleado"),b.Wb(),b.Xb(16,"input",10),b.ec("ngModelChange",(function(e){return t.filterParams.nombre=e})),b.Wb(),b.Wb(),b.Xb(17,"div",7),b.Xb(18,"label",11),b.Gc(19,"No. de quincenas"),b.Wb(),b.Xb(20,"select",12),b.ec("ngModelChange",(function(e){return t.filterParams.no_quincenas=e})),b.Xb(21,"option",13),b.Gc(22,"Todo"),b.Wb(),b.Xb(23,"option",14),b.Gc(24,"1"),b.Wb(),b.Xb(25,"option",15),b.Gc(26,"2"),b.Wb(),b.Xb(27,"option",16),b.Gc(28,"3"),b.Wb(),b.Xb(29,"option",17),b.Gc(30,"4"),b.Wb(),b.Xb(31,"option",18),b.Gc(32,"5"),b.Wb(),b.Xb(33,"option",19),b.Gc(34,"6"),b.Wb(),b.Xb(35,"option",20),b.Gc(36,"7"),b.Wb(),b.Xb(37,"option",21),b.Gc(38,"8"),b.Wb(),b.Xb(39,"option",22),b.Gc(40,"9"),b.Wb(),b.Xb(41,"option",23),b.Gc(42,"10"),b.Wb(),b.Xb(43,"option",24),b.Gc(44,"11"),b.Wb(),b.Xb(45,"option",25),b.Gc(46,"12"),b.Wb(),b.Xb(47,"option",26),b.Gc(48,"13"),b.Wb(),b.Xb(49,"option",27),b.Gc(50,"14"),b.Wb(),b.Xb(51,"option",28),b.Gc(52,"15"),b.Wb(),b.Xb(53,"option",29),b.Gc(54,"16"),b.Wb(),b.Xb(55,"option",30),b.Gc(56,"17"),b.Wb(),b.Xb(57,"option",31),b.Gc(58,"18"),b.Wb(),b.Xb(59,"option",32),b.Gc(60,"19"),b.Wb(),b.Xb(61,"option",33),b.Gc(62,"20"),b.Wb(),b.Xb(63,"option",34),b.Gc(64,"21"),b.Wb(),b.Xb(65,"option",35),b.Gc(66,"22"),b.Wb(),b.Xb(67,"option",36),b.Gc(68,"23"),b.Wb(),b.Xb(69,"option",37),b.Gc(70,"24"),b.Wb(),b.Wb(),b.Wb(),b.Xb(71,"div",7),b.Xb(72,"label",11),b.Gc(73,"Estatus"),b.Wb(),b.Xb(74,"select",12),b.ec("ngModelChange",(function(e){return t.filterParams.estatus=e})),b.Xb(75,"option",38),b.Gc(76,"Todo"),b.Wb(),b.Xb(77,"option",39),b.Gc(78,"Solicitado"),b.Wb(),b.Xb(79,"option",40),b.Gc(80,"Proceso de aprobacion"),b.Wb(),b.Xb(81,"option",41),b.Gc(82,"Activo"),b.Wb(),b.Xb(83,"option",42),b.Gc(84,"Suspendido"),b.Wb(),b.Xb(85,"option",43),b.Gc(86,"Terminado"),b.Wb(),b.Xb(87,"option",44),b.Gc(88,"A pagar por aval"),b.Wb(),b.Xb(89,"option",45),b.Gc(90,"Traspasado"),b.Wb(),b.Xb(91,"option",46),b.Gc(92,"Traspasadoo terminado"),b.Wb(),b.Wb(),b.Wb(),b.Xb(93,"div",7),b.Xb(94,"label",47),b.Gc(95,"Periodo de Creaci\xf3n"),b.Wb(),b.Xb(96,"div",48),b.Xb(97,"input",49),b.ec("ngModelChange",(function(e){return t.fechaCreacion=e})),b.Wb(),b.Wb(),b.Wb(),b.Xb(98,"div",7),b.Xb(99,"button",50),b.ec("click",(function(){return t.updateDataTable(0,10)})),b.Gc(100,"BUSCAR "),b.Ec(101,v,1,0,"i",51),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(102,"div",1),b.Xb(103,"div",2),b.Xb(104,"div",3),b.Xb(105,"div",4),b.Xb(106,"strong"),b.Gc(107,"Resultados"),b.Wb(),b.Wb(),b.Xb(108,"div",5),b.Xb(109,"div",1),b.Xb(110,"div",52),b.Ec(111,G,2,0,"div",53),b.Ec(112,F,6,1,"div",54),b.Wb(),b.Wb(),b.Xb(113,"div",1),b.Xb(114,"div",52),b.Ec(115,A,34,1,"div",55),b.Ec(116,D,2,1,"div",54),b.Wb(),b.Wb(),b.Wb(),b.Ec(117,H,1,0,"cybord-loader",56),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(118,"div",57,58),b.Xb(120,"div",59),b.Xb(121,"div",60),b.Xb(122,"div",61),b.Xb(123,"h5",62),b.Gc(124,"Confirmacion"),b.Wb(),b.Xb(125,"button",63),b.ec("click",(function(){return t.salir()})),b.Xb(126,"span",64),b.Gc(127,"\xd7"),b.Wb(),b.Wb(),b.Wb(),b.Xb(128,"div",65),b.Ec(129,N,1,1,"img",66),b.Ec(130,x,2,0,"h5",67),b.Xb(131,"table",68),b.Xb(132,"tbody"),b.Xb(133,"tr"),b.Xb(134,"th"),b.Gc(135,"No empleado"),b.Wb(),b.Xb(136,"td",69),b.Gc(137),b.Wb(),b.Wb(),b.Xb(138,"tr"),b.Xb(139,"th"),b.Gc(140,"Nombre"),b.Wb(),b.Xb(141,"td",69),b.Gc(142),b.Wb(),b.Wb(),b.Xb(143,"tr"),b.Xb(144,"th"),b.Gc(145,"Tipo"),b.Wb(),b.Xb(146,"td",69),b.Gc(147),b.Wb(),b.Wb(),b.Xb(148,"tr"),b.Xb(149,"th"),b.Gc(150,"Estatus prestamo"),b.Wb(),b.Xb(151,"td",69),b.Gc(152),b.Wb(),b.Wb(),b.Xb(153,"tr"),b.Xb(154,"th"),b.Gc(155,"Monto Pago"),b.Wb(),b.Xb(156,"td",69),b.Gc(157),b.hc(158,"currency"),b.Wb(),b.Wb(),b.Xb(159,"tr"),b.Xb(160,"th"),b.Gc(161,"Tasa de interes"),b.Wb(),b.Xb(162,"td",69),b.Gc(163),b.hc(164,"percent"),b.Wb(),b.Wb(),b.Xb(165,"tr"),b.Xb(166,"th"),b.Gc(167,"Observaciones"),b.Wb(),b.Xb(168,"td",69),b.Gc(169),b.Wb(),b.Wb(),b.Xb(170,"tr"),b.Xb(171,"th"),b.Gc(172,"Ultima modificacion"),b.Wb(),b.Xb(173,"td",69),b.Gc(174),b.Wb(),b.Wb(),b.Xb(175,"tr"),b.Xb(176,"th"),b.Gc(177,"No. Quincenas"),b.Wb(),b.Xb(178,"td",69),b.Gc(179),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(180,"p"),b.Xb(181,"strong"),b.Gc(182),b.Wb(),b.Gc(183," el pago al prestamo."),b.Wb(),b.Xb(184,"p"),b.Gc(185,"Al "),b.Xb(186,"strong"),b.Gc(187,"APROBAR"),b.Wb(),b.Gc(188," el pago, el sistema registra la persona y el momento en que realiza la transacci\xf3n."),b.Wb(),b.Xb(189,"form"),b.Xb(190,"div",70),b.Xb(191,"label",71),b.Gc(192,"No empleado"),b.Wb(),b.Xb(193,"div",72),b.Xb(194,"input",73),b.ec("ngModelChange",(function(e){return t.noEmpleado=e})),b.Wb(),b.Xb(195,"small",74),b.Gc(196,"Ingresa tu numero de empleado para desbloquear."),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Ec(197,z,3,1,"div",75),b.Wb(),b.Xb(198,"div",76),b.Ec(199,U,2,0,"button",77),b.Xb(200,"button",78),b.ec("click",(function(){return t.aprobarPago()})),b.Gc(201,"Aprobar Pago"),b.Wb(),b.Xb(202,"button",79),b.ec("click",(function(){return t.salir()})),b.Gc(203,"Salir"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&e&&(b.Fb(12),b.nc("ngModel",t.filterParams.noEmpleado),b.Fb(4),b.nc("ngModel",t.filterParams.nombre),b.Fb(4),b.nc("ngModel",t.filterParams.no_quincenas),b.Fb(54),b.nc("ngModel",t.filterParams.estatus),b.Fb(23),b.nc("ngModel",t.fechaCreacion),b.Fb(2),b.nc("disabled",t.loading),b.Fb(2),b.nc("ngIf",t.loading),b.Fb(10),b.nc("ngIf",!0===t.page.empty),b.Fb(1),b.nc("ngIf",!1===t.page.empty),b.Fb(3),b.nc("ngIf",0==t.page.empty),b.Fb(1),b.nc("ngIf",0==t.page.empty),b.Fb(1),b.nc("ngIf",t.loading),b.Fb(12),b.nc("ngIf",void 0!==t.comprobanteUrl),b.Fb(1),b.nc("ngIf",void 0===t.comprobanteUrl),b.Fb(7),b.Hc(t.saldo.noEmpleado),b.Fb(5),b.Hc(t.saldo.nombreEmpleado),b.Fb(5),b.Hc(t.saldo.tipo),b.Fb(5),b.Hc(t.saldo.estatus),b.Fb(5),b.Jc("",b.ic(158,31,t.saldo.monto)," de ",t.saldo.montoPrestamo,""),b.Fb(6),b.Hc(b.ic(164,33,t.saldo.tasaInteres/100)),b.Fb(6),b.Hc(t.saldo.observaciones),b.Fb(5),b.Hc(t.saldo.origen),b.Fb(5),b.Hc(t.saldo.noQuincenas),b.Fb(3),b.Ic("",t.usuario.nombre," aprobar\xe1"),b.Fb(12),b.nc("ngModel",t.noEmpleado)("ngModelOptions",b.pc(35,L)),b.Fb(3),b.nc("ngIf",t.message.length>0),b.Fb(2),b.nc("ngIf",void 0!==t.comprobanteUrl),b.Fb(1),b.nc("ngClass",b.rc(36,B,t.noEmpleado===t.usuario.noEmpleado&&!t.saldo.validado,t.noEmpleado!==t.usuario.noEmpleado||t.saldo.validado))("disabled",t.noEmpleado!==t.usuario.noEmpleado))},directives:[f.b,f.h,f.k,f.o,f.l,f.p,h.e,h.d,s.n,m.a,f.q,f.i,f.j,s.l,s.m,X.a],pipes:[s.d,s.u,s.f],styles:[""]}),e})()},aJ9a:function(e,t,a){"use strict";a.d(t,"a",(function(){return M}));var o=a("EwKM"),n=a("8Y7J"),i=a("iInd"),c=a("SVse"),b=a("q+li"),r=a("LDwG"),s=a("s7LF"),l=a("ienR"),d=a("jksu");function p(e,t){1&e&&n.Sb(0,"i",31)}function g(e,t){1&e&&(n.Xb(0,"div",32),n.Gc(1," No se encontraron resultados "),n.Wb())}function u(e,t){1&e&&(n.Xb(0,"option",42),n.Gc(1,"20"),n.Wb())}function f(e,t){1&e&&(n.Xb(0,"option",43),n.Gc(1,"50"),n.Wb())}function h(e,t){if(1&e){const e=n.Yb();n.Xb(0,"select",38),n.ec("ngModelChange",(function(t){return n.yc(e),n.gc(2).filterParams.size=t}))("change",(function(t){return n.yc(e),n.gc(2).onChangePageSize(t.target.value)})),n.Xb(1,"option",39),n.Gc(2,"10"),n.Wb(),n.Ec(3,u,2,0,"option",40),n.Ec(4,f,2,0,"option",41),n.Wb()}if(2&e){const e=n.gc(2);n.nc("ngModel",e.filterParams.size),n.Fb(3),n.nc("ngIf",e.page.number<e.page.totalElements/20),n.Fb(1),n.nc("ngIf",e.page.number<e.page.totalElements/50)}}function m(e,t){if(1&e){const e=n.Yb();n.Xb(0,"div",33),n.Xb(1,"button",34),n.ec("click",(function(){return n.yc(e),n.gc().downloadXLSFile()})),n.Sb(2,"i",35),n.Wb(),n.Ec(3,h,5,3,"select",36),n.Xb(4,"strong",37),n.Gc(5," Tama\xf1o Pagina \xa0\xa0\xa0\xa0"),n.Wb(),n.Wb()}if(2&e){const e=n.gc();n.Fb(3),n.nc("ngIf",0==e.page.last||1==e.page.first)}}function X(e,t){if(1&e&&(n.Xb(0,"tr"),n.Xb(1,"td",49),n.Gc(2),n.Wb(),n.Xb(3,"td",49),n.Gc(4),n.Wb(),n.Xb(5,"td",49),n.Gc(6),n.Wb(),n.Xb(7,"td",49),n.Gc(8),n.Wb(),n.Xb(9,"td",49),n.Gc(10),n.Wb(),n.Xb(11,"td",50),n.Gc(12),n.hc(13,"currency"),n.Wb(),n.Xb(14,"td",49),n.Gc(15),n.Wb(),n.Wb()),2&e){const e=t.$implicit;n.Fb(2),n.Hc(e.noEmpleado),n.Fb(2),n.Hc(e.tipoEmpleado),n.Fb(2),n.Hc(e.ahorrador),n.Fb(2),n.Hc(e.tipo),n.Fb(2),n.Hc(e.observaciones),n.Fb(2),n.Hc(n.ic(13,7,e.monto)),n.Fb(3),n.Hc(e.fecha)}}function W(e,t){if(1&e){const e=n.Yb();n.Xb(0,"li",56),n.Xb(1,"button",57),n.ec("click",(function(){n.yc(e);const t=n.gc(4);return t.updateDataTable(0,t.page.size)})),n.Sb(2,"i",58),n.Wb(),n.Wb()}}function v(e,t){if(1&e){const e=n.Yb();n.Xb(0,"li",56),n.Xb(1,"button",57),n.ec("click",(function(){n.yc(e);const t=n.gc(4);return t.updateDataTable(t.page.number-1,t.page.size)})),n.Gc(2),n.Wb(),n.Wb()}if(2&e){const e=n.gc(4);n.Fb(2),n.Hc(e.page.number)}}function G(e,t){if(1&e){const e=n.Yb();n.Xb(0,"li",56),n.Xb(1,"button",57),n.ec("click",(function(){n.yc(e);const t=n.gc(4);return t.updateDataTable(t.page.number+1,t.page.size)})),n.Gc(2),n.Wb(),n.Wb()}if(2&e){const e=n.gc(4);n.Fb(2),n.Hc(e.page.number+2)}}function y(e,t){if(1&e){const e=n.Yb();n.Xb(0,"li",56),n.Xb(1,"button",57),n.ec("click",(function(){n.yc(e);const t=n.gc(4);return t.updateDataTable(t.page.totalPages-1,t.page.size)})),n.Sb(2,"i",59),n.Wb(),n.Wb()}}function E(e,t){if(1&e&&(n.Xb(0,"ul",52),n.Ec(1,W,3,0,"li",53),n.Ec(2,v,3,1,"li",53),n.Xb(3,"li",54),n.Xb(4,"a",55),n.Xb(5,"strong"),n.Gc(6),n.Wb(),n.Wb(),n.Wb(),n.Ec(7,G,3,1,"li",53),n.Ec(8,y,3,0,"li",53),n.Wb()),2&e){const e=n.gc(3);n.Fb(1),n.nc("ngIf",0==e.page.first),n.Fb(1),n.nc("ngIf",0==e.page.first),n.Fb(4),n.Hc(e.page.number+1),n.Fb(1),n.nc("ngIf",0==e.page.last),n.Fb(1),n.nc("ngIf",0==e.page.last)}}function P(e,t){if(1&e&&(n.Xb(0,"div",33),n.Ec(1,E,9,5,"ul",51),n.Wb()),2&e){const e=n.gc(2);n.Fb(1),n.nc("ngIf",e.page.totalElements>1)}}function F(e,t){if(1&e&&(n.Xb(0,"div",44),n.Xb(1,"table",45),n.Xb(2,"thead",46),n.Xb(3,"tr"),n.Xb(4,"th",47),n.Gc(5,"NO EMPLEADO"),n.Wb(),n.Xb(6,"th",47),n.Gc(7,"TIPO EMP"),n.Wb(),n.Xb(8,"th",47),n.Gc(9,"AHORRADOR"),n.Wb(),n.Xb(10,"th",47),n.Gc(11,"TIPO TRANSACCION"),n.Wb(),n.Xb(12,"th",47),n.Gc(13,"OBSERVACIONES"),n.Wb(),n.Xb(14,"th",47),n.Gc(15,"MONTO"),n.Wb(),n.Xb(16,"th",47),n.Gc(17,"FECHA"),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"tbody"),n.Ec(19,X,16,9,"tr",48),n.Wb(),n.Wb(),n.Ec(20,P,2,1,"div",28),n.Wb()),2&e){const e=n.gc();n.Fb(19),n.nc("ngForOf",e.page.content),n.Fb(1),n.nc("ngIf",0==e.page.empty)}}function I(e,t){1&e&&n.Sb(0,"cybord-loader")}let M=(()=>{class e{constructor(e,t,a,n){this.router=e,this.datepipe=t,this.downloadService=a,this.ahorroService=n,this.module="usuarios",this.page=new o.a,this.pageSize="10",this.filterParams={tipo:"*",noEmpleado:"",tipoUsuario:"*",since:"",to:"",page:"0",size:"10"},this.loading=!1}ngOnInit(){this.updateDataTable(0,10)}updateDataTable(e,t){this.loading=!0,null==this.fechaCreacion?(this.filterParams.since="",this.filterParams.to=""):(this.fechaCreacion[1].setDate(this.fechaCreacion[1].getDate()+1),this.filterParams.since=this.datepipe.transform(this.fechaCreacion[0],"yyyy-MM-dd"),this.filterParams.to=this.datepipe.transform(this.fechaCreacion[1],"yyyy-MM-dd")),this.filterParams.page=e||0,this.filterParams.size=t||0,this.ahorroService.getSaldos(this.filterParams).subscribe(e=>{this.page=e,this.loading=!1})}onChangePageSize(e){this.updateDataTable(this.page.number,e)}redirectToValidation(e){this.router.navigate([`./${this.module}/validacion/${e}`])}downloadXLSFile(){this.loading=!0,null==this.fechaCreacion?(this.filterParams.since="",this.filterParams.to=""):(this.fechaCreacion[1].setDate(this.fechaCreacion[1].getDate()+1),this.filterParams.since=this.datepipe.transform(this.fechaCreacion[0],"yyyy-MM-dd"),this.filterParams.to=this.datepipe.transform(this.fechaCreacion[1],"yyyy-MM-dd")),this.filterParams.page="0",this.filterParams.size="100000",this.ahorroService.getReporteSaldos(this.filterParams).subscribe(e=>{this.downloadService.downloadFile(e.dato,`ReporteAhorros-${this.datepipe.transform(Date.now(),"yyyy-MM-dd")}.xls`,"application/vnd.ms-excel"),this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(i.c),n.Rb(c.f),n.Rb(b.a),n.Rb(r.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["cybord-reporte-ahorros"]],decls:61,vars:10,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row","slide_1"],[1,"col-md-2"],["for","noempleado",1,"label"],["type","text","fullWidth","","id","noemp","placeholder","No. Empleado",1,"form-control",3,"ngModel","ngModelChange"],["for","inputActivo2",1,"label"],["id","inputActivo2",1,"form-control",2,"display","block",3,"ngModel","ngModelChange"],["value","*"],["value","INTERNO"],["value","EXTERNO"],["for","inputActivo",1,"label"],["id","inputActivo",1,"form-control",2,"display","block",3,"ngModel","ngModelChange"],["value","ahorro"],["value","deposito"],["value","ajuste"],["value","retiro"],["for","fechacre",1,"label"],[1,"form-group"],["type","text","placeholder","Fecha de creaci\xf3n","bsDaterangepicker","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",2,"margin-top","2em",3,"disabled","click"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"col"],["class","alert alert-primary","role","alert",4,"ngIf"],["class","clearfix",4,"ngIf"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-spinner","fa-spin"],["role","alert",1,"alert","alert-primary"],[1,"clearfix"],[1,"btn-sm","btn-success","float-right",3,"click"],[1,"fa","fa-file-excel-o","fa-sm"],["id","inputunidad","style","display:block;width: 95px; margin-right: 15px;","class","float-right form-control form-control-sm",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"float-right"],["id","inputunidad",1,"float-right","form-control","form-control-sm",2,"display","block","width","95px","margin-right","15px",3,"ngModel","ngModelChange","change"],["value","10"],["value","20",4,"ngIf"],["value","50",4,"ngIf"],["value","20"],["value","50"],[1,"table-responsive"],[1,"table","table-bordered","table-sm"],[1,"thead-dark"],[1,"text-center"],[4,"ngFor","ngForOf"],["scope","row"],["scope","row",1,"text-right"],["class","pagination float-right",4,"ngIf"],[1,"pagination","float-right"],["class","page-item",4,"ngIf"],[1,"page-item","active"],[1,"page-link"],[1,"page-item"],[1,"btn","page-link",3,"click"],[1,"icon-control-rewind","icons"],[1,"icon-control-forward","icons"]],template:function(e,t){1&e&&(n.Xb(0,"div",0),n.Xb(1,"div",1),n.Xb(2,"div",2),n.Xb(3,"div",3),n.Xb(4,"div",4),n.Xb(5,"strong"),n.Gc(6,"Reportes ahorro sistema de caja"),n.Wb(),n.Wb(),n.Xb(7,"div",5),n.Xb(8,"div",6),n.Xb(9,"div",7),n.Xb(10,"label",8),n.Gc(11,"No. Empleado"),n.Wb(),n.Xb(12,"input",9),n.ec("ngModelChange",(function(e){return t.filterParams.noEmpleado=e})),n.Wb(),n.Wb(),n.Xb(13,"div",7),n.Xb(14,"label",10),n.Gc(15,"Tipo Empleado"),n.Wb(),n.Xb(16,"select",11),n.ec("ngModelChange",(function(e){return t.filterParams.tipoUsuario=e})),n.Xb(17,"option",12),n.Gc(18,"Todo"),n.Wb(),n.Xb(19,"option",13),n.Gc(20,"Interno"),n.Wb(),n.Xb(21,"option",14),n.Gc(22,"Externo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(23,"div",7),n.Xb(24,"label",15),n.Gc(25,"Tipo Ahorro"),n.Wb(),n.Xb(26,"select",16),n.ec("ngModelChange",(function(e){return t.filterParams.tipo=e})),n.Xb(27,"option",12),n.Gc(28,"Todo"),n.Wb(),n.Xb(29,"option",17),n.Gc(30,"Ahorro"),n.Wb(),n.Xb(31,"option",18),n.Gc(32,"Deposito"),n.Wb(),n.Xb(33,"option",19),n.Gc(34,"Ajuste"),n.Wb(),n.Xb(35,"option",20),n.Gc(36,"Retiro"),n.Wb(),n.Wb(),n.Wb(),n.Xb(37,"div",7),n.Xb(38,"label",21),n.Gc(39,"Fecha Creaci\xf3n"),n.Wb(),n.Xb(40,"div",22),n.Xb(41,"input",23),n.ec("ngModelChange",(function(e){return t.fechaCreacion=e})),n.Wb(),n.Wb(),n.Wb(),n.Xb(42,"div",7),n.Xb(43,"button",24),n.ec("click",(function(){return t.updateDataTable(0,10)})),n.Gc(44,"BUSCAR "),n.Ec(45,p,1,0,"i",25),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(46,"div",1),n.Xb(47,"div",2),n.Xb(48,"div",3),n.Xb(49,"div",4),n.Xb(50,"strong"),n.Gc(51,"Resultados"),n.Wb(),n.Wb(),n.Xb(52,"div",5),n.Xb(53,"div",1),n.Xb(54,"div",26),n.Ec(55,g,2,0,"div",27),n.Ec(56,m,6,1,"div",28),n.Wb(),n.Wb(),n.Xb(57,"div",1),n.Xb(58,"div",26),n.Ec(59,F,21,2,"div",29),n.Wb(),n.Wb(),n.Wb(),n.Ec(60,I,1,0,"cybord-loader",30),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&e&&(n.Fb(12),n.nc("ngModel",t.filterParams.noEmpleado),n.Fb(4),n.nc("ngModel",t.filterParams.tipoUsuario),n.Fb(10),n.nc("ngModel",t.filterParams.tipo),n.Fb(15),n.nc("ngModel",t.fechaCreacion),n.Fb(2),n.nc("disabled",t.loading),n.Fb(2),n.nc("ngIf",t.loading),n.Fb(10),n.nc("ngIf",!0===t.page.empty),n.Fb(1),n.nc("ngIf",!1===t.page.empty),n.Fb(3),n.nc("ngIf",0==t.page.empty),n.Fb(1),n.nc("ngIf",t.loading))},directives:[s.b,s.h,s.k,s.o,s.l,s.p,l.e,l.d,c.n,c.m,d.a],pipes:[c.d],styles:[""]}),e})()},bEsI:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var o=a("IheW"),n=a("8Y7J");let i=(()=>{class e{constructor(e){this.http=e}getHttpParams(e){let t=new o.d;for(const a in e)if(void 0!==e[a]){const o=e[a].toString();null!==o&&o.length>0&&"*"!==o&&(t=t.append(a,o))}return t}getPrestamosByUsuario(e){return this.http.get(`../api/v1/usuarios/${e}/prestamos`)}getSaldos(e){return this.http.get("../api/v1/saldo-prestamos",{params:this.getHttpParams(e)})}getReporteSaldos(e){return this.http.get("../api/v1/saldo-prestamos/report",{params:this.getHttpParams(e)})}getPrestamosByUsuairoAndPrestamoAndSaldo(e,t,a){return this.http.get(`../api/v1/usuarios/${e}/prestamos/${t}/saldos/${a}`)}insertSaldoPrestamo(e,t){return this.http.post(`../api/v1/prestamos/${e}/saldos`,t)}getPrestamosPendientesByUsuario(e){return this.http.get(`../api/v1/usuarios/${e}/prestamos/pendientes`)}updateSaldoPrestamo(e,t){return this.http.put("../api/v1/saldo-prestamos/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(n.bc(o.b))},e.\u0275prov=n.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);