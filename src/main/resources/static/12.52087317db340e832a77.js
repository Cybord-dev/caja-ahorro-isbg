(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{DzWT:function(e,o,c){"use strict";c.r(o),c.d(o,"AdministracionModule",(function(){return I}));var t=c("iInd"),r=c("qNWX"),n=c("2IH+"),i=c("aBT+"),s=c("mrSG"),l=c("KZhB");class b{constructor(e){this.nombre=e}}var a=c("8Y7J"),d=c("ESM5"),u=c("SVse"),h=c("s7LF");function f(e,o){if(1&e&&(a.Ob(0,"p"),a.tc(1),a.Nb()),2&e){const e=o.$implicit;a.xb(1),a.uc(e)}}function O(e,o){if(1&e&&(a.Ob(0,"div",28),a.sc(1,f,2,1,"p",29),a.Nb()),2&e){const e=a.Xb();a.xb(1),a.dc("ngForOf",e.errorMessages)}}function g(e,o){if(1&e&&(a.Ob(0,"p",30),a.tc(1),a.Nb()),2&e){const e=a.Xb();a.xb(1),a.uc(e.success)}}const p=[{path:"usuarios",component:i.a,data:{title:"Usuarios"}},{path:"roles/:idUsuario",component:(()=>{class e{constructor(e,o){this.route=e,this.userService=o,this.loading=!0,this.usuario=new l.a,this.errorMessages=[],this.success="",this.roles={USUARIO:!1,RECURSOS_HUMANOS:!1,TESORERIA:!1,CONTABILIDAD:!1,GERENCIA:!1,ADMINISTRACION:!1}}ngOnInit(){this.route.paramMap.subscribe(e=>{const o=+e.get("idUsuario");this.userService.getUsuario(o).subscribe(e=>{this.usuario=e;for(const o of e.roles)this.roles[o]=!0})})}updateRoles(){return Object(s.a)(this,void 0,void 0,(function*(){console.log("Updating user roles"),this.success="La informacion de usuario ha sido actualizada";for(const e in this.roles)!1===this.roles[e]&&this.usuario.roles.find(o=>o===e)&&(yield this.userService.deleteRoles(this.usuario.id,this.roles[e]).toPromise());for(const e in this.roles)!0!==this.roles[e]||this.usuario.roles.find(o=>o===e)||(yield this.userService.insertarRoles(this.usuario.id,new b(e)).toPromise())}))}}return e.\u0275fac=function(o){return new(o||e)(a.Ib(t.a),a.Ib(d.a))},e.\u0275cmp=a.Cb({type:e,selectors:[["cybord-alta-roles"]],decls:47,vars:9,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],["class","alert alert-warning","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"col-xs-12","col-sm-12","col-md-6"],[1,"form-group","row"],[1,"col-md-3","col-form-label"],[1,"col-md-9","col-form-label"],[1,"form-check"],["type","checkbox","value","option1","id","checkbox1",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkbox1",1,"form-check-label"],["type","checkbox","value","option1","id","checkbox2",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkbox2",1,"form-check-label"],[1,"form-check","checkbox"],["type","checkbox","value","option1","id","checkbox3",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkbox3",1,"form-check-label"],["type","checkbox","value","option1","id","checkbox4",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkbox4",1,"form-check-label"],["type","checkbox","value","option1","id","checkbox5",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkbox5",1,"form-check-label"],["type","checkbox","value","option1","id","checkbox6",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkbox6",1,"form-check-label"],["type","button",1,"btn","btn-success",3,"click"],[1,"fa","fa-dot-circle-o"],["role","alert",1,"alert","alert-warning"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success"]],template:function(e,o){1&e&&(a.Ob(0,"div",0),a.Ob(1,"div",1),a.Ob(2,"div",2),a.Ob(3,"div",3),a.Ob(4,"div",4),a.Ob(5,"strong"),a.tc(6,"Administracion de roles"),a.Nb(),a.Nb(),a.Ob(7,"div",5),a.sc(8,O,2,1,"div",6),a.sc(9,g,2,1,"p",7),a.Ob(10,"h5"),a.tc(11),a.Nb(),a.Ob(12,"div",1),a.Ob(13,"div",8),a.Ob(14,"div",9),a.Ob(15,"label",10),a.Ob(16,"strong"),a.tc(17,"Roles"),a.Nb(),a.Nb(),a.Ob(18,"div",11),a.Ob(19,"div",12),a.Ob(20,"input",13),a.Vb("ngModelChange",(function(e){return o.roles.USUARIO=e})),a.Nb(),a.Ob(21,"label",14),a.tc(22," USUARIO "),a.Nb(),a.Nb(),a.Ob(23,"div",12),a.Ob(24,"input",15),a.Vb("ngModelChange",(function(e){return o.roles.RECURSOS_HUMANOS=e})),a.Nb(),a.Ob(25,"label",16),a.tc(26," RECURSOS HUMANOS "),a.Nb(),a.Nb(),a.Ob(27,"div",17),a.Ob(28,"input",18),a.Vb("ngModelChange",(function(e){return o.roles.CONTABILIDAD=e})),a.Nb(),a.Ob(29,"label",19),a.tc(30," CONTABILIDAD "),a.Nb(),a.Nb(),a.Ob(31,"div",17),a.Ob(32,"input",20),a.Vb("ngModelChange",(function(e){return o.roles.TESORERIA=e})),a.Nb(),a.Ob(33,"label",21),a.tc(34," TESORERIA "),a.Nb(),a.Nb(),a.Ob(35,"div",17),a.Ob(36,"input",22),a.Vb("ngModelChange",(function(e){return o.roles.GERENCIA=e})),a.Nb(),a.Ob(37,"label",23),a.tc(38," GERENCIA "),a.Nb(),a.Nb(),a.Ob(39,"div",17),a.Ob(40,"input",24),a.Vb("ngModelChange",(function(e){return o.roles.ADMINISTRACION=e})),a.Nb(),a.Ob(41,"label",25),a.tc(42," ADMINISTRACION "),a.Nb(),a.Nb(),a.Nb(),a.Nb(),a.Nb(),a.Nb(),a.Jb(43,"br"),a.Ob(44,"button",26),a.Vb("click",(function(){return o.updateRoles()})),a.Jb(45,"i",27),a.tc(46,"\xa0 Actualizar info"),a.Nb(),a.Nb(),a.Nb(),a.Nb(),a.Nb(),a.Nb()),2&e&&(a.xb(8),a.dc("ngIf",o.errorMessages.length>0),a.xb(1),a.dc("ngIf",o.success.length>0),a.xb(2),a.uc(o.usuario.nombre),a.xb(9),a.dc("ngModel",o.roles.USUARIO),a.xb(4),a.dc("ngModel",o.roles.RECURSOS_HUMANOS),a.xb(4),a.dc("ngModel",o.roles.CONTABILIDAD),a.xb(4),a.dc("ngModel",o.roles.TESORERIA),a.xb(4),a.dc("ngModel",o.roles.GERENCIA),a.xb(4),a.dc("ngModel",o.roles.ADMINISTRACION))},directives:[u.m,h.a,h.i,h.l,u.l],styles:[""]}),e})(),data:{title:"Usario ISBG"}},{path:"validaciones",component:r.a,data:{title:"Reporte Validaciones"}},{path:"historico",component:n.a,data:{title:"Historico validaciones"}}];let N=(()=>{class e{}return e.\u0275mod=a.Gb({type:e}),e.\u0275inj=a.Fb({factory:function(o){return new(o||e)},imports:[[t.g.forChild(p)],t.g]}),e})();var m=c("65jD");let I=(()=>{class e{}return e.\u0275mod=a.Gb({type:e}),e.\u0275inj=a.Fb({factory:function(o){return new(o||e)},imports:[[m.a,N]]}),e})()}}]);